// Copyright (c) 2004-2020 Microchip Technology Inc. and its subsidiaries.
// SPDX-License-Identifier: MIT

// Avoid "XXX.h not used in module "this_file.c"
/*lint --e{766} */

#define VTSS_TRACE_GROUP VTSS_TRACE_GROUP_PHY
#define VTSS_TRACE_LAYER VTSS_TRACE_LAYER_CIL
/*lint -sem(malibu_phy_10g_mode_conf_set,          thread_protected) */
/*lint -sem(malibu_phy_10g_loopback_set,           thread_protected) */
/*lint -sem(malibu_phy_10g_gpio_write,             thread_protected) */
/*lint -sem(malibu_phy_10g_gpio_read,              thread_protected) */
/*lint -sem(malibu_phy_10g_gpio_mode_set,          thread_protected) */
/*lint -sem(malibu_phy_10g_clause_37_status_get,   thread_protected) */
/*lint -sem(malibu_phy_10g_clause_37_control_set,  thread_protected) */
/*lint -sem(malibu_phy_10g_auto_failover_set,      thread_protected) */
/*lint -sem(malibu_phy_10g_event_enable,           thread_protected) */
/*lint -sem(malibu_phy_10g_event_poll,             thread_protected) */
/*lint -sem(malibu_phy_10g_extended_event_poll,    thread_protected) */
/*lint -sem(malibu_phy_10g_extended2_event_poll,   thread_protected) */
/*lint -sem(malibu_phy_10g_ckout_set,              thread_protected) */
/*lint -sem(malibu_phy_10g_host_clk_set,           thread_protected) */
/*lint -sem(malibu_phy_10g_host_recvrd_clk_set,    thread_protected) */
/*lint -sem(malibu_phy_10g_line_clk_set,           thread_protected) */
/*lint -sem(malibu_phy_10g_line_recvrd_clk_set,    thread_protected) */
/*lint -sem(malibu_phy_10g_power_set,              thread_protected) */
/*lint -sem(malibu_phy_10g_sckout_set,             thread_protected) */
/*lint -sem(malibu_phy_10g_srefclk_set,            thread_protected) */
/*lint -sem(malibu_phy_10g_base_kr_conf_set,       thread_protected) */
/*lint -sem(malibu_phy_10g_base_kr_train_aneg_set, thread_protected) */
/*lint -sem(malibu_phy_10g_base_kr_training_set,   thread_protected) */
/*lint -sem(malibu_phy_10g_base_kr_ld_adv_ability_set,   thread_protected) */
 
#include "vtss_phy_api.h"
#if defined(VTSS_CHIP_10G_PHY)
#include "../common/vtss_phy_common.h"
#include "vtss_phy_10g.h"
#include "../phy_10g/vtss_sd10g65_procs.h"
#include "../phy_10g/vtss_sd10g65_apc_procs.h"
#include "../phy_10g/vtss_pll5g_procs.h"
#include "vtss_malibu_b_host_pma_sd10g65_setup.h"
#include "vtss_malibu_b_line_pma_sd10g65_setup.h"
#include "vtss_malibu_b_pll5g_setup.h"
#include "vtss_malibu_host_pma_sd10g65_setup.h"
#include "vtss_malibu_line_pma_sd10g65_setup.h"
#include "vtss_malibu_b_f2df_df2f_sd10g65_setup.h"
#include "vtss_malibu_f2df_df2f_sd10g65_setup.h"
#if defined(VTSS_IOREG)
#undef VTSS_IOREG
#endif
#define VTSS_IOREG(dev, is32, off)  _ioreg(&vtss_state->io_var, (dev), (is32), (off))

#define PST(front,line,back) (line ? front##_LINE_##back : front##_HOST_##back)

static BOOL malibu_rev_a(vtss_state_t *vtss_state, vtss_port_no_t port_no);

static BOOL malibu_is32reg(u32 dev, u32 addr)
{
    /* Deducted following information from Register Lineup Sheet*/
    switch (dev) {
        case 0x1:
            if ((addr >= 0xF000 && addr <= 0xF0FF) || (addr >= 0xF100 && addr <=0xF1FF)) {
                return TRUE;
            } else {
                return FALSE;
            }
        case 0x3:
            if ((addr >= 0xF000&& addr <= 0xF0FF) || (addr >=0xF100 && addr <=0xF1FF) || (addr >=0xF200 && addr <=0xF2FF)) {
                return TRUE;
            } else {
                return FALSE;
            }
        case 0x9:
            if ((addr >= 0xF000 && addr <= 0xF0FF) || (addr >=0xF100 && addr <=0xF1FF)) {
                return TRUE;
            } else {
                return FALSE;
            }
        case 0x1f:
            if ((addr <= 0x7FFF) || (addr >=0x8000 && addr <=0xFFFF)) {
                return TRUE;
            } else {
                return FALSE;
            }
        case 0x1e:
            if (addr >= 0x9000 && addr <= 0xF27F) {
                return TRUE;
            } else {
                return FALSE;
            }
    }
    return FALSE;
}
#include "chips/malibu/vtss_malibu_regs.h"

/* some of the register definitions which are missing in register files */

#define VTSS_HOST_KR_DEV7_LD_adv_KR_7x0011_ADV_1G VTSS_BIT(5)
#define VTSS_HOST_KR_DEV7_LD_adv_KR_7x0011_ADV_10G VTSS_BIT(7)

#define VTSS_HOST_KR_DEV7_LD_adv_KR_7x0012_FEC_ABILITY VTSS_BIT(14)
#define VTSS_HOST_KR_DEV7_LD_adv_KR_7x0012_FEC_REQUEST VTSS_BIT(15)

#define VTSS_LINE_KR_DEV7_LD_adv_KR_7x0011_ADV_1G VTSS_BIT(5)
#define VTSS_LINE_KR_DEV7_LD_adv_KR_7x0011_ADV_10G VTSS_BIT(7)

#define VTSS_LINE_KR_DEV7_LD_adv_KR_7x0012_FEC_ABILITY VTSS_BIT(14)
#define VTSS_LINE_KR_DEV7_LD_adv_KR_7x0012_FEC_REQUEST VTSS_BIT(15)

#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S  VTSS_BIT(15)
#define VTSS_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG VTSS_IOREG(0x1e, 1, 0xf014)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN VTSS_BIT(0)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL(x) VTSS_ENCODE_BITFIELD(x,1,2)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL VTSS_ENCODE_BITMASK(1,2)

#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL(x) VTSS_ENCODE_BITFIELD(x,26,4)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL VTSS_ENCODE_BITMASK(26,4)

#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(x) VTSS_ENCODE_BITFIELD(x,18,5)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA VTSS_ENCODE_BITMASK(18,5)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_DIR VTSS_BIT(9)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_DIR VTSS_BIT(6)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA VTSS_BIT(1)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT VTSS_BIT(2)

#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0 VTSS_ENCODE_BITMASK(0,31)

#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0 VTSS_ENCODE_BITMASK(0,31)

#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(x) VTSS_ENCODE_BITFIELD(x,22,4)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI VTSS_ENCODE_BITMASK(22,4)


#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA VTSS_BIT(6)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_ENA VTSS_BIT(10)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA VTSS_BIT(11)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_SYN_CLK_ENA VTSS_BIT(15)

#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18(x) VTSS_ENCODE_BITFIELD(x,20,4)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18 VTSS_ENCODE_BITMASK(20, 4)

#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL VTSS_ENCODE_BITMASK(16,4)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL(x) VTSS_ENCODE_BITFIELD(x,16,4)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(x)  VTSS_ENCODE_BITFIELD(x,18,4)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA VTSS_ENCODE_BITMASK(18,4)
#define  VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA  VTSS_BIT(6)
#define  VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_ENA  VTSS_BIT(10)
#define  VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA  VTSS_BIT(11)
#define  VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_SYN_CLK_ENA  VTSS_BIT(15)
#define  VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18(x)  VTSS_ENCODE_BITFIELD(x,20,4)
#define  VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18     VTSS_ENCODE_BITMASK(20,4)
#define  VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR(x)  VTSS_ENCODE_BITFIELD(x,2,5)
#define  VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR     VTSS_ENCODE_BITMASK(2,5)
#define  VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA  VTSS_BIT(1)
#define  VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(x)  VTSS_ENCODE_BITFIELD(x,22,4)
#define  VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI     VTSS_ENCODE_BITMASK(22,4)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0 VTSS_ENCODE_BITMASK(0,31)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0 VTSS_ENCODE_BITMASK(0,31)
#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL(x) VTSS_ENCODE_BITFIELD(x,22,8)
#define VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL VTSS_ENCODE_BITMASK(22,8)

#define VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(x) VTSS_ENCODE_BITFIELD(x,22,4)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI VTSS_ENCODE_BITMASK(22,4)


#define VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL(x) VTSS_ENCODE_BITFIELD(x,22,8) 
#define VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL VTSS_ENCODE_BITMASK(22,8)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_SYN_CLK_ENA VTSS_BIT(15)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA VTSS_BIT(11)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_ENA VTSS_BIT(10)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA VTSS_BIT(6)

#define VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(x)  VTSS_ENCODE_BITFIELD(x,18,4)
#define VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA VTSS_ENCODE_BITMASK(18,4)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(x)  VTSS_ENCODE_BITFIELD(x,18,4)
#define VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA VTSS_ENCODE_BITMASK(18,4)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL VTSS_BIT(9)

#define VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_F2DF_CFG_STAT_F2DF_STICKY_CLR VTSS_BIT(2)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(x) VTSS_ENCODE_BITFIELD(x,18,5)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA VTSS_ENCODE_BITMASK(18,5)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT  VTSS_BIT(15)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_INV_THR_CAL_VAL  VTSS_BIT(14)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL  VTSS_BIT(9)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA  VTSS_BIT(6)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_ENA  VTSS_BIT(10)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA  VTSS_BIT(11)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_SYN_CLK_ENA  VTSS_BIT(15)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18(x)  VTSS_ENCODE_BITFIELD(x,20,4)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18     VTSS_ENCODE_BITMASK(20,4)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR(x) VTSS_ENCODE_BITFIELD(x,2,5)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR VTSS_ENCODE_BITMASK(2,5)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA  VTSS_BIT(1)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(x)  VTSS_ENCODE_BITFIELD(x,22,4)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI     VTSS_ENCODE_BITMASK(22,4)
#define VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0 VTSS_ENCODE_BITMASK(0,31)
#define VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0 VTSS_ENCODE_BITMASK(0,31)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL(x)  VTSS_ENCODE_BITFIELD(x,22,8)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL     VTSS_ENCODE_BITMASK(22,8)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA  VTSS_BIT(6)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_ENA  VTSS_BIT(10)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA  VTSS_BIT(11)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_SYN_CLK_ENA  VTSS_BIT(15)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18(x)  VTSS_ENCODE_BITFIELD(x,20,4)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18     VTSS_ENCODE_BITMASK(20,4)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR(x) VTSS_ENCODE_BITFIELD(x,2,5)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR VTSS_ENCODE_BITMASK(2,5)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_DIR  VTSS_BIT(9)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_DIR  VTSS_BIT(6)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA  VTSS_BIT(1)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT  VTSS_BIT(2)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(x)  VTSS_ENCODE_BITFIELD(x,22,4)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI     VTSS_ENCODE_BITMASK(22,4)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0 VTSS_ENCODE_BITMASK(0,31)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0 VTSS_ENCODE_BITMASK(0,31)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL(x)  VTSS_ENCODE_BITFIELD(x,26,4)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL     VTSS_ENCODE_BITMASK(26,4)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL(x)  VTSS_ENCODE_BITFIELD(x,1,2)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL     VTSS_ENCODE_BITMASK(1,2)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN  VTSS_BIT(0)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT  VTSS_BIT(15)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_INV_THR_CAL_VAL  VTSS_BIT(14)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18(x)  VTSS_ENCODE_BITFIELD(x,20,4)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18     VTSS_ENCODE_BITMASK(20,4)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR(x) VTSS_ENCODE_BITFIELD(x,2,5)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR VTSS_ENCODE_BITMASK(2,5)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA  VTSS_BIT(1)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0 VTSS_ENCODE_BITMASK(0,31)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0 VTSS_ENCODE_BITMASK(0,31)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_ENA  VTSS_BIT(10)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA  VTSS_BIT(6)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA  VTSS_BIT(11)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_SYN_CLK_ENA  VTSS_BIT(15)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18(x)  VTSS_ENCODE_BITFIELD(x,20,4)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18     VTSS_ENCODE_BITMASK(20,4)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR(x)  VTSS_ENCODE_BITFIELD(x,2,5)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR VTSS_ENCODE_BITMASK(2,5)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_DIR  VTSS_BIT(9)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_DIR  VTSS_BIT(6)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA  VTSS_BIT(1)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT  VTSS_BIT(2)
#define VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG VTSS_IOREG(0x01, 1, 0xf114)
#define VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG VTSS_IOREG(0x09, 1, 0xf114)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL(x)  VTSS_ENCODE_BITFIELD(x,26,4)
#define VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL     VTSS_ENCODE_BITMASK(26,4)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(x)  VTSS_ENCODE_BITFIELD(x,18,5)
#define VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA     VTSS_ENCODE_BITMASK(18,5)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN  VTSS_BIT(0)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL(x)  VTSS_ENCODE_BITFIELD(x,1,2)
#define VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL     VTSS_ENCODE_BITMASK(1,2)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0 VTSS_ENCODE_BITMASK(0,31)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0(x) VTSS_ENCODE_BITFIELD(x,0,31)
#define VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0 VTSS_ENCODE_BITMASK(0,31)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(x)  VTSS_ENCODE_BITFIELD(x,22,4)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI     VTSS_ENCODE_BITMASK(22,4)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED(x)  VTSS_ENCODE_BITFIELD(x,11,3)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED     VTSS_ENCODE_BITMASK(11,3)


//register definitions required for REV B
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_BYP  VTSS_BIT(26)
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_BYP  VTSS_BIT(26)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_BYP  VTSS_BIT(26)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_BYP  VTSS_BIT(26)

/** 
 * \brief APC LC softcontrol configuration register
 *
 * \details
 * Configuration register 0 for the LC-Softcontrol logic block. The L and C
 * paramters can be controlled depending on DFE1 and DFE2 and EQZ_AGC
 * parameters instead of pattern matching.
 *
 * Register: \a LINE_PMA_32BIT:SD10G65_APC:APC_LC_SOFTCTRL_CFG
 */
#define VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG  VTSS_IOREG(0x01, 1, 0xf02a)

/** 
 * \brief
 * Operation timer configuration: L/C-control operates in every
 * 2^(2*LC_SC_TIMER)-th clock cycle.
 *
 * \details 
 * 0: Operate every clock cycle
 * 1: Operate every 4th clock cycle
 * 2: Operate every 16th clock cycle
 * ...
 *
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG . LC_SC_TIMER
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_TIMER(x)  VTSS_ENCODE_BITFIELD(x,28,4)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_TIMER     VTSS_ENCODE_BITMASK(28,4)
#define  VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_TIMER(x)  VTSS_EXTRACT_BITFIELD(x,28,4)

/** 
 * \brief
 * DFE1/2 and EQZ_AGC averaging behavior. DFE/AGC parameters are averaged
 * over 2^(8+LC_SC_AVGSHFT) input values.
 *
 * \details 
 * 0: Average over 256 values
 * 1: Average over 512 values
 * ...
 *
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG . LC_SC_AVGSHFT
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AVGSHFT(x)  VTSS_ENCODE_BITFIELD(x,24,4)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AVGSHFT     VTSS_ENCODE_BITMASK(24,4)
#define  VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AVGSHFT(x)  VTSS_EXTRACT_BITFIELD(x,24,4)

/** 
 * \brief
 * DFE1 comparison threshold for L-control used in mode 2. EQZ_L is
 * increased/decreased if DFE1 differs from neutral value by more than
 * LC_SC_DFE1_THRESHOLD.
 *
 * \details 
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG . LC_SC_DFE1_THRESHOLD
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE1_THRESHOLD(x)  VTSS_ENCODE_BITFIELD(x,20,4)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE1_THRESHOLD     VTSS_ENCODE_BITMASK(20,4)
#define  VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE1_THRESHOLD(x)  VTSS_EXTRACT_BITFIELD(x,20,4)

/** 
 * \brief
 * DFE2 comparison threshold for C-control used in mode 2. EQZ_C is
 * increased/decreased if DFE1 differs from neutral value by more than
 * LC_SC_DFE2_THRESHOLD.
 *
 * \details 
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG . LC_SC_DFE2_THRESHOLD
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE2_THRESHOLD(x)  VTSS_ENCODE_BITFIELD(x,16,4)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE2_THRESHOLD     VTSS_ENCODE_BITMASK(16,4)
#define  VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE2_THRESHOLD(x)  VTSS_EXTRACT_BITFIELD(x,16,4)

/** 
 * \brief
 * EQZ_AGC threshold for mandatory increase of L and C. If EQZ_AGC >
 * (128+LC_SC_AGC_THRESHOLD) then L and C control values are increased.
 *
 * \details 
 * 0: 128
 * 1: 129
 * ...
 * 127: 255
 *
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG . LC_SC_AGC_THRESHOLD
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AGC_THRESHOLD(x)  VTSS_ENCODE_BITFIELD(x,9,7)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AGC_THRESHOLD     VTSS_ENCODE_BITMASK(9,7)
#define  VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AGC_THRESHOLD(x)  VTSS_EXTRACT_BITFIELD(x,9,7)

/** 
 * \brief
 * Define DFE2 comparison parameter for EQZ_C control in mode 1
 *
 * \details 
 * 0: EQZ_L
 * 1: EQZ_C
 *
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG . LC_SC_DIV_C_SEL
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_C_SEL  VTSS_BIT(8)

/** 
 * \brief
 * Select divider for L-control used in mode 1 (Divider = 4+LC_SC_DIV_L)
 *
 * \details 
 * 0: Divide by 4
 * 1: Devide by 5
 * ...
 * 7: Devide by 11
 *
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG . LC_SC_DIV_L
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_L(x)  VTSS_ENCODE_BITFIELD(x,5,3)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_L     VTSS_ENCODE_BITMASK(5,3)
#define  VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_L(x)  VTSS_EXTRACT_BITFIELD(x,5,3)

/** 
 * \brief
 * Select divider for C-control used in mode 1 (Divider = 4+LC_SC_DIV_C)
 *
 * \details 
 * 0: Divide by 4
 * 1: Devide by 5
 * ...
 * 7: Devide by 11
 *
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG . LC_SC_DIV_C
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_C(x)  VTSS_ENCODE_BITFIELD(x,2,3)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_C     VTSS_ENCODE_BITMASK(2,3)
#define  VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_C(x)  VTSS_EXTRACT_BITFIELD(x,2,3)

/** 
 * \brief
 * Select LC soft-control mode. LC soft-control modes must be enabled first
 * after INI/MIN/MAX values of all parameters have been programmed.
 *
 * \details 
 * 0: Disabled
 * 1: Mode 1
 * 2: Mode 2
 * 3: Reserved
 *
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG . LC_SC_MODE
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_MODE(x)  VTSS_ENCODE_BITFIELD(x,0,2)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_MODE     VTSS_ENCODE_BITMASK(0,2)
#define  VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_MODE(x)  VTSS_EXTRACT_BITFIELD(x,0,2)


/** 
 * \brief APC LC softcontrol configuration register 1
 *
 * \details
 * Configuration register 1 for the LC-Softcontrol logic block.
 *
 * Register: \a LINE_PMA_32BIT:SD10G65_APC:APC_LC_SOFTCTRL_CFG1
 */
#define VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1  VTSS_IOREG(0x01, 1, 0xf02b)

/** 
 * \brief
 * Target value for DFE2 during L/C-control operation
 *
 * \details 
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1 . LC_SC_DFE2_TARGET
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE2_TARGET(x)  VTSS_ENCODE_BITFIELD(x,8,6)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE2_TARGET     VTSS_ENCODE_BITMASK(8,6)
#define  VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE2_TARGET(x)  VTSS_EXTRACT_BITFIELD(x,8,6)

/** 
 * \brief
 * Target value for DFE1 during L/C-control operation
 *
 * \details 
 * Field: VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1 . LC_SC_DFE1_TARGET
 */
#define  VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE1_TARGET(x)  VTSS_ENCODE_BITFIELD(x,0,7)
#define  VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE1_TARGET     VTSS_ENCODE_BITMASK(0,7)
#define  VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE1_TARGET(x)  VTSS_EXTRACT_BITFIELD(x,0,7)

//description same as above set of register for line side.
#define VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG  VTSS_IOREG(0x09, 1, 0xf02a)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_TIMER(x)  VTSS_ENCODE_BITFIELD(x,28,4)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_TIMER     VTSS_ENCODE_BITMASK(28,4)
#define  VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_TIMER(x)  VTSS_EXTRACT_BITFIELD(x,28,4)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AVGSHFT(x)  VTSS_ENCODE_BITFIELD(x,24,4)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AVGSHFT     VTSS_ENCODE_BITMASK(24,4)
#define  VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AVGSHFT(x)  VTSS_EXTRACT_BITFIELD(x,24,4)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE1_THRESHOLD(x)  VTSS_ENCODE_BITFIELD(x,20,4)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE1_THRESHOLD     VTSS_ENCODE_BITMASK(20,4)
#define  VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE1_THRESHOLD(x)  VTSS_EXTRACT_BITFIELD(x,20,4)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE2_THRESHOLD(x)  VTSS_ENCODE_BITFIELD(x,16,4)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE2_THRESHOLD     VTSS_ENCODE_BITMASK(16,4)
#define  VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DFE2_THRESHOLD(x)  VTSS_EXTRACT_BITFIELD(x,16,4)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AGC_THRESHOLD(x)  VTSS_ENCODE_BITFIELD(x,9,7)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AGC_THRESHOLD     VTSS_ENCODE_BITMASK(9,7)
#define  VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_AGC_THRESHOLD(x)  VTSS_EXTRACT_BITFIELD(x,9,7)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_C_SEL  VTSS_BIT(8)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_L(x)  VTSS_ENCODE_BITFIELD(x,5,3)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_L     VTSS_ENCODE_BITMASK(5,3)
#define  VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_L(x)  VTSS_EXTRACT_BITFIELD(x,5,3)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_C(x)  VTSS_ENCODE_BITFIELD(x,2,3)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_C     VTSS_ENCODE_BITMASK(2,3)
#define  VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_DIV_C(x)  VTSS_EXTRACT_BITFIELD(x,2,3)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_MODE(x)  VTSS_ENCODE_BITFIELD(x,0,2)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_MODE     VTSS_ENCODE_BITMASK(0,2)
#define  VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG_LC_SC_MODE(x)  VTSS_EXTRACT_BITFIELD(x,0,2)
#define VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1  VTSS_IOREG(0x09, 1, 0xf02b)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE2_TARGET(x)  VTSS_ENCODE_BITFIELD(x,8,6)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE2_TARGET     VTSS_ENCODE_BITMASK(8,6)
#define  VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE2_TARGET(x)  VTSS_EXTRACT_BITFIELD(x,8,6)
#define  VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE1_TARGET(x)  VTSS_ENCODE_BITFIELD(x,0,7)
#define  VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE1_TARGET     VTSS_ENCODE_BITMASK(0,7)
#define  VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_LC_SOFTCTRL_CFG1_LC_SC_DFE1_TARGET(x)  VTSS_EXTRACT_BITFIELD(x,0,7)

//TILL HERE MALIBU REV B DEFINITIONS


#define  VTSS_ENCRPT_GLOBAL_FRC_DIS  VTSS_IOREG(0x1e, 0, 0x0280)
#define  VTSS_F_ENCRPT_GLOBAL_FRC_DIS_FRC_256KEY_DIS  VTSS_BIT(0)

#define VTSS_CLCK_CFG_CS_HOST_CLK_SEL(ri)     VTSS_IOREG(0x1e, 0, 0x722f + (ri))
#define VTSS_CLCK_CFG_CS_LINE_CLK_SEL(ri)     VTSS_IOREG(0x1e, 0, 0x722b + (ri))
/* Following Macro gives registers in the range 
   VTSS_GPIO_INTR_CTRL_GPIO_INTR_GPIO0_OUT - VTSS_GPIO_INTR_CTRL_GPIO_INTR_GPIO7_OUT */
#define GPIOx_OUT(indx) VTSS_IOREG(0x01, 0, 0xc010 + indx)
/* As Feild and mask range is same for all the GPIOx_OUT registers following macros gives
   generalized field and masks */
#define GPIOx_F_OUT_SEL(val) VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_GPIO0_OUT_SEL0(val) 
#define GPIOx_M_OUT_SEL VTSS_M_GPIO_INTR_CTRL_GPIO_INTR_GPIO0_OUT_SEL0 

/* Following Macro gives registers in the range
      VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_CFG_0 - VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_CFG_39 */
#define GPIO_OUT_CFGx(indx) VTSS_IOREG(0x1e, 1, 0xf20c + indx)
/* As Feild and mask range is same for all the GPIO_OUT_CFGx registers following macros gives
   generalized field and masks */
#define GPIO_OUT_CFG_x_F_GPIO_SEL(val) VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_CFG_0_GPIO_0_SEL(val)
#define GPIO_OUT_CFG_x_M_GPIO_SEL VTSS_M_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_CFG_0_GPIO_0_SEL 

/* Following Macro gives I2C master data registers in the range
   VTSS_GPIO_CTRL_GPIO_CFG_STAT_CH0_I2C_MST_DATA_IN_CFG - VTSS_GPIO_CTRL_GPIO_CFG_STAT_CH3_I2C_MST_DATA_IN_CFG*/
#define CHx_I2C_MST_DATA_IN_CFG(chnl) VTSS_IOREG(0x1e, 1, 0xf240 + chnl)
#define CHx_I2C_MST_DATA_IN_SEL_F(val) VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH0_I2C_MST_DATA_IN_CFG_CH0_I2C_MST_DATA_IN_SEL(val)
#define CHx_I2C_MST_DATA_IN_SEL_M VTSS_M_GPIO_CTRL_GPIO_CFG_STAT_CH0_I2C_MST_DATA_IN_CFG_CH0_I2C_MST_DATA_IN_SEL

/* Following Macro gives I2C master clock registers in the range
   VTSS_GPIO_CTRL_GPIO_CFG_STAT_CH0_I2C_MST_CLK_IN_CFG - VTSS_GPIO_CTRL_GPIO_CFG_STAT_CH3_I2C_MST_CLK_IN_CFG*/
#define CHx_I2C_MST_CLK_IN_CFG(chnl) VTSS_IOREG(0x1e, 1, 0xf244 + chnl)
#define CHx_I2C_MST_CLK_IN_SEL_F(val) VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH2_I2C_MST_CLK_IN_CFG_CH2_I2C_MST_CLK_IN_SEL(val) 
#define CHx_I2C_MST_CLK_IN_SEL_M VTSS_M_GPIO_CTRL_GPIO_CFG_STAT_CH2_I2C_MST_CLK_IN_CFG_CH2_I2C_MST_CLK_IN_SEL

#define CHNLx_LINE_LOPC_INPUT(indx) VTSS_IOREG(0x1e, 1, 0xf234 + indx)
#define CHNLx_HOST_LOPC_INPUT(indx) VTSS_IOREG(0x1e, 1, 0xf238 + indx)

/* Macros used for Automatic protection switching */
#define HOSTx_CFG(indx) VTSS_IOREG(0x1e, 1, (0xf105 + indx * 2))
#define LINEx_CFG(indx) VTSS_IOREG(0x1e, 1, (0xf10d + indx * 2))
#define CRSS_EN VTSS_F_EXP_HOST1_CFG_H1_SRC_SEL_ALT_EN
#define ALT_CHANx_F(chnl) VTSS_F_EXP_LINE0_CFG_L0_SRC_SEL_ALT_CH(chnl)
#define ALT_CHANx_M VTSS_M_EXP_LINE0_CFG_L0_SRC_SEL_ALT_CH
#define ALT_SRCx_F(src) VTSS_F_EXP_LINE0_CFG_L0_SRC_SEL_ALT_SRC(src)
#define ALT_SRCx_M VTSS_M_EXP_LINE0_CFG_L0_SRC_SEL_ALT_SRC
#define FLTR_EN VTSS_F_EXP_LINE0_CFG_L0_SRC_SEL_FILTER_EN
#define FLTRx_LCFG(indx) VTSS_IOREG(0x1e, 1, 0xf10e + indx * 2)
#define FLTRx_HCFG(indx) VTSS_IOREG(0x1e, 1, 0xf106 + indx * 2)
#define FLTR_F_B2316(cnt) VTSS_F_EXP_HOST0_CFG_H0_FILTER_COUNTB2316(cnt)
#define FLTR_M_B2316 VTSS_M_EXP_HOST0_CFG_H0_FILTER_COUNTB2316
#define FLTR_F_B70(cnt) VTSS_F_EXP_HOST0_CFG_H0_FILTER_COUNTB70(cnt)
#define FLTR_M_B70 VTSS_M_EXP_HOST0_CFG_H0_FILTER_COUNTB70
#define FLTR_F_A2316(cnt) VTSS_F_EXP_HOST0_CFG_H0_FILTER_COUNTA2316(cnt)
#define FLTR_M_A2316 VTSS_M_EXP_HOST0_CFG_H0_FILTER_COUNTA70
#define FLTR_F_A70(cnt) VTSS_F_EXP_HOST0_CFG_H0_FILTER_COUNTA70(cnt)
#define FLTR_M_A70 VTSS_M_EXP_HOST0_CFG_H0_FILTER_COUNTA70

//Register to check if serdes setup was completed succesfully.
#define VTSS_HOST_PORT_SERDES_SETUP_STATUS VTSS_HOST_PMA_SPARE_RW_REGISTERS_DEV1_SPARE_RW1
#define VTSS_LINE_PORT_SERDES_SETUP_STATUS VTSS_LINE_PMA_SPARE_RW_REGISTERS_DEV1_SPARE_RW1
#define VTSS_F_HOST_PORT_SERDES_SETUP_STATUS_BIT VTSS_BIT(7)
#define VTSS_F_LINE_PORT_SERDES_SETUP_STATUS_BIT VTSS_BIT(7)
/* Reset the bypass FIFO
 *
 * \details
 * 0 = DISABLE
 * 1 = ENABLE
 *
 * Field: VTSS_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1 . FIFO_AUTO_RESET_EN
 */

#define  VTSS_F_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_FIFO_AUTO_RESET_EN  VTSS_BIT(2)
#define VTSS_HOST_PMA_APC_SDET_SEL_APC_SDET_SEL VTSS_IOREG(0x9, 0, 0xA104)
#define VTSS_F_HOST_PMA_APC_SDET_SEL_APC_SDET_SEL_LOPC_STAT VTSS_BIT(13)

//MAC BLOCK LF/RF interrupts
#define  VTSS_F_HOST_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_LOCAL_ERR_STATE_STICKY_MASK  VTSS_BIT(4)
#define  VTSS_F_HOST_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_REMOTE_ERR_STATE_STICKY_MASK  VTSS_BIT(3)
#define  VTSS_F_HOST_MAC_STATUS_MAC_TX_MONITOR_STICKY_LOCAL_ERR_STATE_STICKY  VTSS_BIT(4)
#define  VTSS_F_HOST_MAC_STATUS_MAC_TX_MONITOR_STICKY_REMOTE_ERR_STATE_STICKY  VTSS_BIT(3)
#define  VTSS_F_LINE_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_LOCAL_ERR_STATE_STICKY_MASK  VTSS_BIT(4)
#define  VTSS_F_LINE_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_REMOTE_ERR_STATE_STICKY_MASK  VTSS_BIT(3)
#define  VTSS_F_LINE_MAC_STATUS_MAC_TX_MONITOR_STICKY_LOCAL_ERR_STATE_STICKY  VTSS_BIT(4)
#define  VTSS_F_LINE_MAC_STATUS_MAC_TX_MONITOR_STICKY_REMOTE_ERR_STATE_STICKY  VTSS_BIT(3)



static vtss_rc phy_10g_kr_conf_init(vtss_state_t *vtss_state,
                                    const vtss_port_no_t port_no);
 
static vtss_rc malibu_phy_10g_power_set(vtss_state_t *vtss_state,
                                  const vtss_port_no_t port_no);

static vtss_rc malibu_phy_10g_global_reset(struct vtss_state_s *vtss_state,
                                           const vtss_port_no_t port_no);

#define RX_TX_MAX_MODES 3

#define MALIBU_MAX_CHANNEL_ID 4
/* SFP Module Detect GPIOs: CH3:25, CH2:17, CH1:9, CH0:1 */
#define MALIBU_SFP_MOD_DET_GPIO_MASK 0x2020202
/* ================================================================= *
 *  Warm Start Functions
 * ================================================================= */
#define MAL_RC_COLD(expr) (vtss_state->sync_calling_private && !vtss_state->phy_10g_state[port_no].warm_start_reg_changed ? VTSS_RC_OK : (expr))
static vtss_rc malibu_phy_10g_lane_sync_set(vtss_state_t *vtss_state,
        vtss_port_no_t port_no)
{
    u8 ch_id = vtss_state->phy_10g_state[port_no].channel_id;
    vtss_phy_10g_lane_sync_conf_t lane_sync = vtss_state->phy_10g_state[port_no].lane_sync;
    u8 lane_sync_sel = VTSS_PHY_10G_SYNC_DISABLE;
    u32 rd_val;
    vtss_port_no_t base_port_no = PHY_BASE_PORT(port_no);

    /*
     * Set rx_ch and tx_ch to ch_id as of now. This can be made generic by setting
     * any line's tx_clock to any line's recovered clock, in this case rx_ch & tx_ch
     * should be supplied by user
     */
    lane_sync.tx_ch = lane_sync.rx_ch = ch_id;

    VTSS_D("Malibu lane_sync_set rx_ch:%d tx_ch:%d rx_macro:%d tx_macro:%d enable:%s\n", lane_sync.rx_ch,
            lane_sync.tx_ch, lane_sync.rx_macro, lane_sync.tx_macro, (lane_sync.enable ? "Enable" : "Disable"));

    if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_LINE) {
        lane_sync_sel = lane_sync.rx_ch;
    } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_HOST) {
        lane_sync_sel = lane_sync.rx_ch + 4;
    } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_SREFCLK) {
        lane_sync_sel = VTSS_PHY_10G_SREFCLK;
    }

    switch (lane_sync.tx_macro) {
        case VTSS_PHY_10G_TX_MACRO_LINE:
            if (lane_sync.enable) {
                CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(lane_sync.tx_ch),
                        VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(lane_sync_sel),
                        VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            } else {
                CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(lane_sync.tx_ch),
                        VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_SYNC_DISABLE),
                        VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            }
            break;
        case VTSS_PHY_10G_TX_MACRO_HOST:
            if (lane_sync.enable) {
                CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_CS_HOST_CLK_SEL(lane_sync.tx_ch),
                        VTSS_F_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL(lane_sync_sel),
                        VTSS_M_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL);
            } else {
                CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_CS_HOST_CLK_SEL(lane_sync.tx_ch),
                        VTSS_F_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL(VTSS_PHY_10G_SYNC_DISABLE),
                        VTSS_M_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL);
            }
            break;
        case VTSS_PHY_10G_TX_MACRO_SCKOUT:
            if (lane_sync.enable) {
                CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_CS_SCKOUT_CLK_SEL,
                        VTSS_F_CLK_CFG_CS_SCKOUT_CLK_SEL_SCKOUT_CLK_SEL(lane_sync_sel),
                        VTSS_M_CLK_CFG_CS_SCKOUT_CLK_SEL_SCKOUT_CLK_SEL);
            } else {
                CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_CS_SCKOUT_CLK_SEL,
                        VTSS_F_CLK_CFG_CS_SCKOUT_CLK_SEL_SCKOUT_CLK_SEL(VTSS_PHY_10G_SYNC_DISABLE),
                        VTSS_M_CLK_CFG_CS_SCKOUT_CLK_SEL_SCKOUT_CLK_SEL);
            }
            break;
        default:
            VTSS_E("Incorrect Tx_macro settings..\n");
            break;
    }


    if (lane_sync.enable) {
        if (lane_sync.tx_macro == VTSS_PHY_10G_TX_MACRO_SCKOUT) {
            if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_SREFCLK) {
                /* FOr lane sync to work, synth_integ2_fsel should be equal to sync_Ctrl_fsel */
                CSR_RD(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &rd_val);
                CSR_COLD_WRM(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL((rd_val & VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL)-1),
                        VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
                CSR_COLD_WRM(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(rd_val & VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL),
                        VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
            } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_LINE) {
                /* FOr lane sync to work, synth_integ2_fsel should be equal to sync_Ctrl_fsel */
                CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &rd_val);
                CSR_COLD_WRM(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL((rd_val & VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL)-1),
                        VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
                CSR_COLD_WRM(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(rd_val & VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL),
                        VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
            } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_HOST) {
                /* FOr lane sync to work, synth_integ2_fsel should be equal to sync_Ctrl_fsel */
                CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &rd_val);
                CSR_COLD_WRM(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL((rd_val & VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL)-1),
                        VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
                CSR_COLD_WRM(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(rd_val & VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL),
                        VTSS_M_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
            }
        } else if (lane_sync.tx_macro == VTSS_PHY_10G_TX_MACRO_LINE) {
            if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_SREFCLK) {
                /* FOr lane sync to work, synth_integ2_fsel should be equal to sync_Ctrl_fsel */
                CSR_RD(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &rd_val);
                CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL((rd_val & VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL)-1),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
                CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(rd_val & VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
            } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_LINE) {
                /* FOr lane sync to work, synth_integ2_fsel should be equal to sync_Ctrl_fsel */
                CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &rd_val);
                CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL((rd_val & VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL)-1),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
                CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(rd_val & VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
            } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_HOST) {
                /* FOr lane sync to work, synth_integ2_fsel should be equal to sync_Ctrl_fsel */
                CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &rd_val);
                CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL((rd_val & VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL)-1),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
                CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(rd_val & VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
            }

        } else if (lane_sync.tx_macro == VTSS_PHY_10G_TX_MACRO_HOST) {
            if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_SREFCLK) {
                /* FOr lane sync to work, synth_integ2_fsel should be equal to sync_Ctrl_fsel */
                CSR_RD(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &rd_val);
                CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL((rd_val & VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL)-1),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
                CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(rd_val & VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
            } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_LINE) {
                /* FOr lane sync to work, synth_integ2_fsel should be equal to sync_Ctrl_fsel */
                CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &rd_val);
                CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL((rd_val & VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL)-1),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
                CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(rd_val & VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
            } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_HOST) {
                /* FOr lane sync to work, synth_integ2_fsel should be equal to sync_Ctrl_fsel */
                CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &rd_val);
                CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL((rd_val & VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL)-1),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
                CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(rd_val & VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
            }
        }
    }

    if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_SREFCLK) {
        CSR_COLD_WRM(port_no,VTSS_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(1),
                VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);
    } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_LINE) {
        CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(1),
                VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);
    } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_HOST) {
        CSR_COLD_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(1),
                VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);
    }

    if (lane_sync.tx_macro == VTSS_PHY_10G_TX_MACRO_SCKOUT) {
        CSR_WARM_WRM(port_no,VTSS_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
                lane_sync.enable ? VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA : 0,
                VTSS_F_F2DF_DF2F_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);
    } else if (lane_sync.tx_macro == VTSS_PHY_10G_TX_MACRO_LINE) {
        CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
                lane_sync.enable ? VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA : 0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);
    } else if (lane_sync.tx_macro == VTSS_PHY_10G_TX_MACRO_HOST) {
        CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
                lane_sync.enable ? VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA : 0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);
    }    

    if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_SREFCLK) {
        CSR_COLD_WRM(port_no,VTSS_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(3),
                VTSS_M_F2DF_DF2F_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);
    } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_LINE) {
        CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(3),
                VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);
    } else if (lane_sync.rx_macro == VTSS_PHY_10G_RX_MACRO_HOST) {
        CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(3),
                VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);
    }
    MEPA_MSLEEP(10);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1, 1, VTSS_F_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_FIFO_RESET);
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1, 1, VTSS_F_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_FIFO_RESET);

    MEPA_MSLEEP(1);
    return VTSS_RC_OK;
}

static vtss_rc malibu_sckout_sd10g_rx_tx_cfg_ute(vtss_state_t *vtss_state, vtss_port_no_t port_no,
                                               vtss_phy_10g_sckout_freq_t freq)
{
    vtss_sd10g65_setup_df2f_args_t df2f_args;
    VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute port_no %u\n", port_no);
    
    //Configure 16BIT DF2F configuration
    //The following configuration depends on the frequency output.
    
    CSR_WARM_WRM(port_no, VTSS_F2DF_DF2F_16BIT_F2DF_DF2F_CFG_DF2F_DOUT_A,
            VTSS_F_F2DF_DF2F_16BIT_F2DF_DF2F_CFG_DF2F_DOUT_A_DF2F_DOUT_A(0x0),
            VTSS_M_F2DF_DF2F_16BIT_F2DF_DF2F_CFG_DF2F_DOUT_A_DF2F_DOUT_A);
    
    CSR_WARM_WRM(port_no, VTSS_F2DF_DF2F_16BIT_F2DF_DF2F_CFG_DF2F_DOUT_B,
            VTSS_F_F2DF_DF2F_16BIT_F2DF_DF2F_CFG_DF2F_DOUT_B_DF2F_DOUT_B(0xfff0),
            VTSS_M_F2DF_DF2F_16BIT_F2DF_DF2F_CFG_DF2F_DOUT_B_DF2F_DOUT_B);
    
    CSR_WARM_WRM(port_no, VTSS_F2DF_DF2F_16BIT_F2DF_DF2F_CFG_DF2F_DOUT_C,
            VTSS_F_F2DF_DF2F_16BIT_F2DF_DF2F_CFG_DF2F_DOUT_C_DF2F_DOUT_C(0xff),
            VTSS_M_F2DF_DF2F_16BIT_F2DF_DF2F_CFG_DF2F_DOUT_C_DF2F_DOUT_C);
    
    VTSS_RC(vtss_sd10g65_setup_df2f_args_init(&df2f_args));
    df2f_args.f_out.ratio_num = 1;
    df2f_args.f_out.ratio_den = 1;
    df2f_args.use_par_clk = TRUE;
    df2f_args.no_pwrcycle = TRUE;
    switch(freq){
        case VTSS_PHY_10G_SCKOUT_156_25:
            VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute 156.25 MHZ\n");
            df2f_args.f_out.f_pll_khz = 156250;
            break;
        case VTSS_PHY_10G_SCKOUT_125_00:
            VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute 125 MHZ\n");
            df2f_args.f_out.f_pll_khz = 125000;
            break;
        default:
            VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute 156.25 MHZ\n");
            df2f_args.f_out.f_pll_khz = 156250;
            break;
    }
    if(malibu_rev_a(vtss_state, port_no)) {
        VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute Malibu Rev A\n");
        df2f_args.chip_name = VTSS_SD10G65_CHIP_MALIBU;
        VTSS_RC(vtss_malibu_f2df_df2f_sd10g_setup_df2f(vtss_state,df2f_args,port_no));
    } else {
        df2f_args.chip_name = VTSS_SD10G65_CHIP_MALIBU_B;
        VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute Malibu Rev D+\n");
        VTSS_RC(vtss_malibu_b_f2df_df2f_sd10g_setup_df2f(vtss_state, df2f_args, port_no));
    }
    
    CSR_WARM_WRM(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            df2f_args.incr_levn ? VTSS_F_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN : 0,
            VTSS_F_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN);
    
    CSR_WARM_WRM(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(df2f_args.ob_levn),
            VTSS_M_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN);
    
    CSR_WARM_WRM(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_DIRECT);
    
    CSR_WARM_WRM(port_no, VTSS_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG2,
            VTSS_F_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(0x7DF820),
            VTSS_M_F2DF_DF2F_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER);
    
    return VTSS_RC_OK;
}

/**
 * malibu_phy_10g_line_clk_set
 * Low level API to control LINE_CLK_SEL##clk_sel_no
 *
 * This API must be called to configure individual LINE_CLK_SEL(n)
 * register to desired value
 */
static vtss_rc malibu_phy_10g_line_clk_set(struct vtss_state_s *vtss_state,
                                   vtss_port_no_t port_no)
{
    vtss_phy_10g_line_clk_conf_t line_clk = vtss_state->phy_10g_state[port_no].line_clk;
     vtss_port_no_t base_port_no = PHY_BASE_PORT(port_no);

    VTSS_D("Set Line_CLK port_no:%d, base_port_no:%d, clk_sel_no:%d, mode:%d", port_no, base_port_no, 
                                          line_clk.clk_sel_no, line_clk.mode);
    if (line_clk.clk_sel_no > 3) {
        VTSS_E("Setting LINE_CLK_SEL.....clk_sel_no=%d is out of desired range(0-3)", line_clk.clk_sel_no);
        return VTSS_RC_ERROR;
    }
    
    CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(line_clk.clk_sel_no),
                     VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(line_clk.mode),
                     VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);

    return VTSS_RC_OK;
}

/**
 * malibu_phy_10g_host_clk_set
 * Low level API to control LINE_CLK_SEL
 */
static vtss_rc malibu_phy_10g_host_clk_set(struct vtss_state_s *vtss_state,
                                   vtss_port_no_t port_no)
{
    vtss_phy_10g_host_clk_conf_t host_clk = vtss_state->phy_10g_state[port_no].host_clk;
    vtss_port_no_t base_port_no = PHY_BASE_PORT(port_no);

    VTSS_D("Set Host_CLK port_no:%d, base_port_no:%d, clk_sel_no:%d, mode:%d", port_no, base_port_no, 
                                          host_clk.clk_sel_no, host_clk.mode);

    if (host_clk.clk_sel_no > 3) {
        VTSS_E("Setting HOST_CLK_SEL.....clk_sel_no=%d is out of desired range(0-3)", host_clk.clk_sel_no);
        return VTSS_RC_ERROR;
    }
    
    CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_HOST_CLK_SEL(host_clk.clk_sel_no),
                     VTSS_F_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL(host_clk.mode),
                     VTSS_M_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL);

    return VTSS_RC_OK;
}



/**
 * malibu_phy_10g_sckout_set
 * Low level API to control SCKOUT_DATA_SEL & SCKOUT_SQUELCH_CTRL
 */
static vtss_rc malibu_phy_10g_sckout_set(struct vtss_state_s *vtss_state,
                                   vtss_port_no_t port_no)
{
    vtss_phy_10g_sckout_conf_t sckout = vtss_state->phy_10g_state[port_no].sckout;
    vtss_port_no_t base_port_no = PHY_BASE_PORT(port_no);

    VTSS_D("Set SCKOUT base_port_no:%d, port_no:%d, mode:%d src:%d enable:%d", base_port_no, 
            port_no, sckout.mode, sckout.src, sckout.enable);

    if (sckout.enable) {
        /* Set required SCKOUT Freq */
        VTSS_RC(malibu_sckout_sd10g_rx_tx_cfg_ute(vtss_state, port_no, sckout.freq));
    }

    CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_CS_SCKOUT_CLK_SEL,
            VTSS_F_CLK_CFG_CS_SCKOUT_CLK_SEL_SCKOUT_CLK_SEL(sckout.mode),
            VTSS_M_CLK_CFG_CS_SCKOUT_CLK_SEL_SCKOUT_CLK_SEL);
    /* Set Squelch source */
    CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_CS_SCKOUT_SQUELCH_CTRL,
            VTSS_F_CLK_CFG_CS_SCKOUT_SQUELCH_CTRL_SCKOUT_SQUELCH_SRC(sckout.src),
            VTSS_M_CLK_CFG_CS_SCKOUT_SQUELCH_CTRL_SCKOUT_SQUELCH_SRC);

    CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_CS_SCKOUT_SQUELCH_CTRL,
            sckout.squelch_inv ? VTSS_F_CLK_CFG_CS_SCKOUT_SQUELCH_CTRL_SCKOUT_SQUELCH_INV: 0,
            VTSS_F_CLK_CFG_CS_SCKOUT_SQUELCH_CTRL_SCKOUT_SQUELCH_INV);

    return VTSS_RC_OK;
}

static BOOL malibu_rev_a(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{
    if (vtss_state->phy_10g_state[port_no].revision == 0) {
        return 1;
    } else {
        return 0;
    }
}


/**
 * malibu_phy_10g_ckout_set
 * Low level API to control CKOUT(n)_DATA_SEL & CKOUT_SQUELCH_CTRL
 */
static vtss_rc malibu_phy_10g_ckout_set(struct vtss_state_s *vtss_state,
                                   vtss_port_no_t port_no)
{
    vtss_phy_10g_ckout_conf_t ckout = vtss_state->phy_10g_state[port_no].ckout;
    vtss_port_no_t base_port_no = PHY_BASE_PORT(port_no);

    VTSS_D("Set CKOUT%d  base_port_no:%d port_no:%d enable:%d mode:%d ckout_freq:%d", ckout.ckout_sel, base_port_no,
            port_no, ckout.enable, ckout.mode, ckout.freq);
    VTSS_D("Set CKOUT Squeclh_src:%d squelch_inv:%d", ckout.src, ckout.squelch_inv);

    switch (ckout.ckout_sel) {
        case CKOUT0:
            /* Enable CKOUT0 */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT0_CTRL,
                    ckout.enable << 10,  1 << 10);

            /* Set clock to be transmitted from  ckout0 */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT0_DATA_SEL,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT0_DATA_SEL_CKOUT0_DATA_SEL(ckout.mode),
                    VTSS_M_CLK_CFG_LINE_OB_CFG_CKOUT0_DATA_SEL_CKOUT0_DATA_SEL);

            /* Set full-rate-clk/divide-by-2 clock */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT0_DATA_SEL,
                    (ckout.freq == VTSS_PHY_10G_CLK_DIVIDE_BY_2) ? VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT0_DATA_SEL_CKOUT0_DIVIDE_BY_2 : 0,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT0_DATA_SEL_CKOUT0_DIVIDE_BY_2);

            /* Set Squelch source */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT0_SQUELCH_CTRL,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT0_SQUELCH_CTRL_CKOUT0_SQUELCH_SRC(ckout.src),
                    VTSS_M_CLK_CFG_LINE_OB_CFG_CKOUT0_SQUELCH_CTRL_CKOUT0_SQUELCH_SRC);

            /* Set Squeclh Invert */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT0_SQUELCH_CTRL,
                    ckout.squelch_inv ? VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT0_SQUELCH_CTRL_CKOUT0_SQUELCH_INV : 0,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT0_SQUELCH_CTRL_CKOUT0_SQUELCH_INV);
            break;

        case CKOUT1:
            /* Enable CKOUT1 */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT1_CTRL,
                    ckout.enable << 10,  1 << 10);

            /* Set clock to be transmitted from  ckout0 */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT1_DATA_SEL,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT1_DATA_SEL_CKOUT1_DATA_SEL(ckout.mode),
                    VTSS_M_CLK_CFG_LINE_OB_CFG_CKOUT1_DATA_SEL_CKOUT1_DATA_SEL);

            /* Set full-rate-clk/divide-by-2 clock */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT1_DATA_SEL,
                    (ckout.freq == VTSS_PHY_10G_CLK_DIVIDE_BY_2) ? VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT1_DATA_SEL_CKOUT1_DIVIDE_BY_2 : 0,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT1_DATA_SEL_CKOUT1_DIVIDE_BY_2);

            /* Set Squelch source */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT1_SQUELCH_CTRL,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT1_SQUELCH_CTRL_CKOUT1_SQUELCH_SRC(ckout.src),
                    VTSS_M_CLK_CFG_LINE_OB_CFG_CKOUT1_SQUELCH_CTRL_CKOUT1_SQUELCH_SRC);

            /* Set Squeclh Invert */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT1_SQUELCH_CTRL,
                    ckout.squelch_inv ? VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT1_SQUELCH_CTRL_CKOUT1_SQUELCH_INV : 0,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT1_SQUELCH_CTRL_CKOUT1_SQUELCH_INV);
            break;

        case CKOUT2:
            /* Enable CKOUT2 */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT2_CTRL,
                    ckout.enable << 10,  1 << 10);

            /* Set clock to be transmitted from  ckout0 */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT2_DATA_SEL,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT2_DATA_SEL_CKOUT2_DATA_SEL(ckout.mode),
                    VTSS_M_CLK_CFG_LINE_OB_CFG_CKOUT2_DATA_SEL_CKOUT2_DATA_SEL);

            /* Set full-rate-clk/divide-by-2 clock */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT2_DATA_SEL,
                    (ckout.freq == VTSS_PHY_10G_CLK_DIVIDE_BY_2) ? VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT2_DATA_SEL_CKOUT2_DIVIDE_BY_2 : 0,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT2_DATA_SEL_CKOUT2_DIVIDE_BY_2);

            /* Set Squelch source */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT2_SQUELCH_CTRL,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT2_SQUELCH_CTRL_CKOUT2_SQUELCH_SRC(ckout.src),
                    VTSS_M_CLK_CFG_LINE_OB_CFG_CKOUT2_SQUELCH_CTRL_CKOUT2_SQUELCH_SRC);

            /* Set Squeclh Invert */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT2_SQUELCH_CTRL,
                    ckout.squelch_inv ? VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT2_SQUELCH_CTRL_CKOUT2_SQUELCH_INV : 0,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT2_SQUELCH_CTRL_CKOUT2_SQUELCH_INV);
            break;

        case CKOUT3:
            /* Enable CKOUT3 */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT3_CTRL,
                    ckout.enable << 10,  1 << 10);

            /* Set clock to be transmitted from  ckout3 */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT3_DATA_SEL,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT3_DATA_SEL_CKOUT3_DATA_SEL(ckout.mode),
                    VTSS_M_CLK_CFG_LINE_OB_CFG_CKOUT3_DATA_SEL_CKOUT3_DATA_SEL);

            /* Set full-rate-clk/divide-by-2 clock */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT3_DATA_SEL,
                    (ckout.freq == VTSS_PHY_10G_CLK_DIVIDE_BY_2) ? VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT3_DATA_SEL_CKOUT3_DIVIDE_BY_2 : 0,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT3_DATA_SEL_CKOUT3_DIVIDE_BY_2);

            /* Set Squelch source */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT3_SQUELCH_CTRL,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT3_SQUELCH_CTRL_CKOUT3_SQUELCH_SRC(ckout.src),
                    VTSS_M_CLK_CFG_LINE_OB_CFG_CKOUT3_SQUELCH_CTRL_CKOUT3_SQUELCH_SRC);

            /* Set Squeclh Invert */
            CSR_WARM_WRM(base_port_no, VTSS_CLK_CFG_LINE_OB_CFG_CKOUT3_SQUELCH_CTRL,
                    ckout.squelch_inv ? VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT3_SQUELCH_CTRL_CKOUT3_SQUELCH_INV : 0,
                    VTSS_F_CLK_CFG_LINE_OB_CFG_CKOUT3_SQUELCH_CTRL_CKOUT3_SQUELCH_INV);
            break;

        default:
            VTSS_E("Invalid ckout_sel%d", ckout.ckout_sel);
            break;
    }

    return VTSS_RC_OK;
}

 static vtss_rc malibu_srefclk_sd10g_rx_cfg_ute(vtss_state_t *vtss_state, vtss_port_no_t port_no, vtss_phy_10g_srefclk_mode_t *srefclk)
{
    vtss_sd10g65_setup_f2df_args_t f2df_args;
    VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute port_no %u\n", port_no);
    VTSS_RC(vtss_sd10g65_setup_f2df_args_init(&f2df_args));
    f2df_args.i1_fsel = 10;
    f2df_args.i1_lim = 10;
    f2df_args.no_pwrcycle = TRUE;
    f2df_args.invert = FALSE;
    switch(srefclk->freq){
        case VTSS_PHY_10G_SREFCLK_156_25:
            VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute 156.25 MHZ\n");
            f2df_args.f_in.f_pll_khz = 156250;
            break;
        case VTSS_PHY_10G_SREFCLK_125_00:
            VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute 125 MHZ\n");
            f2df_args.f_in.f_pll_khz = 125000;
            break;
        case VTSS_PHY_10G_SREFCLK_155_52:
            VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute 155.52 MHZ\n");
            f2df_args.f_in.f_pll_khz = 155520;
            break;
        default:
            VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute 156.25 MHZ\n");
            f2df_args.f_in.f_pll_khz = 156250;
            break;
    }
    if(malibu_rev_a(vtss_state, port_no)) {
        VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute Malibu Rev A\n");
        f2df_args.chip_name = VTSS_SD10G65_CHIP_MALIBU;
        VTSS_RC(vtss_malibu_f2df_df2f_sd10g_setup_f2df(vtss_state,f2df_args,port_no));
    } else {
        f2df_args.chip_name = VTSS_SD10G65_CHIP_MALIBU_B;
        VTSS_I("malibu_srefclk_sd10g_rx_cfg_ute Malibu Rev D+\n");
        VTSS_RC(vtss_malibu_b_f2df_df2f_sd10g_setup_f2df(vtss_state, f2df_args, port_no));
    }
    
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_srefclk_set_internal(struct vtss_state_s *vtss_state,
                                            vtss_port_no_t port_no,
                                            vtss_phy_10g_srefclk_mode_t *srefclk)
{
    /* Port setup */
    if (srefclk->enable) {
        VTSS_D("Enable srefclk for iport %d", port_no);
        VTSS_RC(malibu_srefclk_sd10g_rx_cfg_ute(vtss_state,port_no, srefclk));
    } else {
        VTSS_D("Disable srefclk for iport %d", port_no);

    }
    return VTSS_RC_OK;
}


static vtss_rc malibu_phy_10g_srefclk_set(struct vtss_state_s *vtss_state,
                                   vtss_port_no_t port_no)
{
    vtss_phy_10g_loopback_t *loopback = &vtss_state->phy_10g_state[port_no].loopback;
    // if L3 loopback is enabled, then we cannot lock to srefclk (when L3 is disabled, the sfreclk configuration is applied)
    if (loopback->enable && loopback->lb_type == VTSS_LB_L3) {
        VTSS_D("cannot lock to srefclk while L3 loopback is enabled");
        return VTSS_RC_OK;
    } else {
        VTSS_D("Set srefclk port_no %d, srefclk %d", port_no, vtss_state->phy_10g_state[port_no].srefclk.enable);
        return  malibu_phy_10g_srefclk_set_internal(vtss_state, port_no, &vtss_state->phy_10g_state[port_no].srefclk);
    }
}

/**
 * malibu_phy_10g_line_recvrd_clk_set
 * API to control various recovered clock 
 * modes for SYNCE API
 *
 * NOTE: User should call this API to control various SYNCE 
 * recovered clock source combination defined by standard SYNCE
 * application in 'vtss_phy_10g_recvrd_clk_sel_t'
 * If user wishes to use other recovered clock combination then 
 * API malibu_phy_10g_line_clk_set should be called instead
 */
static vtss_rc malibu_phy_10g_line_recvrd_clk_set(struct vtss_state_s *vtss_state,
                                   vtss_port_no_t port_no)
{
    vtss_phy_10g_line_clk_conf_t line_clk = vtss_state->phy_10g_state[port_no].line_clk;
    vtss_port_no_t base_port_no = PHY_BASE_PORT(port_no);

    VTSS_D("Set LINE_CLK_SET port_no:%d, base_port_no:%d, mode:%d, recvrd_clk_sel:%d", port_no, 
                                               base_port_no, line_clk.mode, line_clk.recvrd_clk_sel);
    
    switch (line_clk.recvrd_clk_sel) {
        case VTSS_PHY_10G_USE_LINE0_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_LINE1_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_LINE2_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_LINE3_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_HOST0_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_HOST1_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_HOST2_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_HOST3_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_SREFCLK_CLOCK:
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(0),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(line_clk.recvrd_clk_sel),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);

            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(1),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(line_clk.recvrd_clk_sel),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);

            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(2),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(line_clk.recvrd_clk_sel),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);

            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(3),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(line_clk.recvrd_clk_sel),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            break;

        case VTSS_PHY_10G_USE_DEFAULT_RECVRD_CLOCK:
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(0),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_LINE0_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(1),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_LINE1_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(2),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_LINE2_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(3),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_LINE3_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            break;
        default:
            /* Default case should set default recovered clocks */
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(0),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_LINE0_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(1),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_LINE1_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(2),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_LINE2_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(3),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_LINE3_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            break;
    }
 
    return VTSS_RC_OK;
}

/**
 * malibu_phy_10g_host_recvrd_clk_set
 * API to control various Host side recovered clock 
 * modes for SYNCE 
 *
 * NOTE: User should call this API to control various SYNCE 
 * recovered clock source combination defined by standard SYNCE
 * application in 'vtss_phy_10g_recvrd_clk_sel_t'
 * If user wishes to use other recovered clock combination then 
 * API malibu_phy_10g_host_clk_set should be called instead
 */
static vtss_rc malibu_phy_10g_host_recvrd_clk_set(struct vtss_state_s *vtss_state,
                                   vtss_port_no_t port_no)
{
    vtss_phy_10g_host_clk_conf_t host_clk = vtss_state->phy_10g_state[port_no].host_clk;
    vtss_port_no_t base_port_no = PHY_BASE_PORT(port_no);

    VTSS_D("Set HOST_CLK port_no:%d, base_port_no:%d, mode:%d, recvrd_clk_sel:%d", port_no, 
                                              base_port_no, host_clk.mode, host_clk.recvrd_clk_sel);
    
    switch (host_clk.recvrd_clk_sel) {
        case VTSS_PHY_10G_USE_LINE0_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_LINE1_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_LINE2_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_LINE3_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_HOST0_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_HOST1_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_HOST2_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_HOST3_RECVRD_CLOCK:
        case VTSS_PHY_10G_USE_SREFCLK_CLOCK:
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_HOST_CLK_SEL(0),
            VTSS_F_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL(host_clk.recvrd_clk_sel),
            VTSS_M_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_HOST_CLK_SEL(1),
            VTSS_F_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL(host_clk.recvrd_clk_sel),
            VTSS_M_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_HOST_CLK_SEL(2),
            VTSS_F_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL(host_clk.recvrd_clk_sel),
            VTSS_M_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_HOST_CLK_SEL(3),
            VTSS_F_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL(host_clk.recvrd_clk_sel),
            VTSS_M_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL);
            break;

        case VTSS_PHY_10G_USE_DEFAULT_RECVRD_CLOCK:
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(0),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_HOST0_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(1),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_HOST1_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(2),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_HOST2_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(3),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_HOST3_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            break;
        default:
            /* Default case should set default recovered clocks */
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(0),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_HOST0_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(1),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_HOST1_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(2),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_HOST2_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            CSR_COLD_WRM(base_port_no, VTSS_CLK_CFG_CS_LINE_CLK_SEL(3),
            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(VTSS_PHY_10G_USE_HOST3_RECVRD_CLOCK),
            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
            break;
    }
 
    return VTSS_RC_OK;
}


/* Enable / Disable the power for all sublayers */
static vtss_rc malibu_phy_10g_power_set(vtss_state_t *vtss_state,
                                            const vtss_port_no_t port_no)
{
    BOOL state;
    VTSS_D("Enter");
    state = (vtss_state->phy_10g_state[port_no].power == VTSS_PHY_10G_POWER_DISABLE) ? TRUE : FALSE;
    if(state) {
        VTSS_D("Malibu power down");
        /* 1xF100.0 = 1 is to disable the SFI deserializer */
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
                VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);
        /* 1xF110.13 = 0 is to disable the SFI output buffer and serializer */
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);
        /* 1xF120.3 = 0 is to disable Vscope path of sampling-stage */
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA);
        /* 1xF120.2 = 0 is to disable sampling stage */
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);
        /* 1xF120.1 = 0 is to disable equalization stage */
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);
    } else {

        VTSS_D("Malibu power up");
        /* When disabling the low power function */
        /* 1xF100.0 = 0 is to enable the SFI deserializer  */
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);
        /* 1xF110.13 = 1 is to enable the SFI output buffer and serializer */
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB,
                VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);
        /* 1xF120.3 = 0 is to disable Vscope path of sampling-stage (this bit should stay at 0 until the feature is enabled) */
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA);
        /* 1xF120.2 = 1 is to enable sampling stage */
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);
        /* 1xF120.1 = 1 is to enable equalization stage */
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

        //Call Global reset Here
        VTSS_RC(malibu_phy_10g_global_reset(vtss_state, port_no))

    }

    VTSS_D("Exit");
    return VTSS_RC_OK;
}


static const unsigned int predrv_ctrl_table[VTSS_SLEWRATE_INVALID][2] = {{3,3}, {3,0},{0,3}, {1,0},{0,0}};
/* Get 10GBASE_KR coefficients from HW */
static vtss_rc phy_10g_kr_conf_init(vtss_state_t *vtss_state,
        const vtss_port_no_t port_no)
{
    u32 cfg0, cfg1, cfg2, r_ctrl, c_ctrl;
    i32 v[4];
    int i;
    vtss_rc rc = VTSS_RC_OK;
    vtss_phy_10g_base_kr_conf_t *kr_conf = &vtss_state->phy_10g_state[port_no].kr_conf;
    vtss_phy_10g_base_kr_conf_t *host_kr_conf = &vtss_state->phy_10g_state[port_no].host_kr_conf;

    /* LINE Side output buffer settings */
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0, &cfg0);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1, &cfg1);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2, &cfg2);
    for (i = 0; i < 4; i++) {
        v[i] = cfg2>>(6*i) & 0x3f;
        if (v[i] & 0x20) v[i] |= ~0x3f; /* sign extension */
    }
    kr_conf->cm1 = (-v[3]- v[0] - 1)/2;
    kr_conf->c0 = (v[3] - v[1] -1)/2;
    kr_conf->c1 = (v[1] - v[0])/2;
    kr_conf->ampl = 1275 - 25*VTSS_X_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(cfg0) -
        200*((cfg0 & VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN) ? 1 : 0);

    r_ctrl = VTSS_X_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(cfg1);
    c_ctrl = VTSS_X_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(cfg1);
    kr_conf->slewrate = VTSS_SLEWRATE_INVALID;
    for (i = 0; i < VTSS_SLEWRATE_INVALID; i++) {
        if ((r_ctrl == predrv_ctrl_table[i] [1]) && (c_ctrl == predrv_ctrl_table[i] [0])) {
            kr_conf->slewrate = i;
        }
    }
    kr_conf->en_ob = ( cfg0 & VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB) ? TRUE : FALSE;
    kr_conf->ser_inv = ( cfg0 & VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV) ? TRUE : FALSE;

    /* HOST Side output buffer settings */
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0, &cfg0);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1, &cfg1);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2, &cfg2);
    for (i = 0; i < 4; i++) {
        v[i] = cfg2>>(6*i) & 0x3f;
        if (v[i] & 0x20) v[i] |= ~0x3f; /* sign extension */
    }
    host_kr_conf->cm1 = (-v[3]- v[0] - 1)/2;
    host_kr_conf->c0 = (v[3] - v[1] -1)/2;
    host_kr_conf->c1 = (v[1] - v[0])/2;
    host_kr_conf->ampl = 1275 - 25*VTSS_X_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(cfg0) -
        200*((cfg0 & VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN) ? 1 : 0);

    r_ctrl = VTSS_X_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(cfg1);
    c_ctrl = VTSS_X_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(cfg1);
    host_kr_conf->slewrate = VTSS_SLEWRATE_INVALID;
    for (i = 0; i < VTSS_SLEWRATE_INVALID; i++) {
        if ((r_ctrl == predrv_ctrl_table[i] [1]) && (c_ctrl == predrv_ctrl_table[i] [0])) {
            host_kr_conf->slewrate = i;
        }
    }
    host_kr_conf->en_ob = ( cfg0 & VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB) ? TRUE : FALSE;
    host_kr_conf->ser_inv = ( cfg0 & VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV) ? TRUE : FALSE;

    return rc;
}

#ifdef VTSS_FEATURE_10GBASE_KR
/* Set 10GBASE_KR ld_adv_abil */
static vtss_rc malibu_phy_10g_base_kr_ld_adv_ability_set (vtss_state_t *vtss_state,
        const vtss_port_no_t port_no,
        BOOL line_kr)
{
    vtss_rc rc = VTSS_RC_OK;
    vtss_phy_10g_base_kr_ld_adv_abil_t ld_adv_abil = vtss_state->phy_10g_state[port_no].kr_tr_aneg.ld_abil;

    VTSS_D("port %u kr ld_adv_abil adv_1g:%d adv_10g:%d fec_abil:%d fec_req:%d line_kr:%d\n", port_no,ld_adv_abil.adv_1g,
            ld_adv_abil.adv_10g, ld_adv_abil.fec_abil, ld_adv_abil.fec_req,line_kr);

    if (line_kr) {
        CSR_WARM_WR(port_no, VTSS_LINE_KR_DEV7_LD_adv_KR_7x0010, 0x1);
        CSR_WARM_WRM(port_no, VTSS_LINE_KR_DEV7_LD_adv_KR_7x0011,
                VTSS_LINE_KR_DEV7_LD_adv_KR_7x0011_ADV_10G,
                VTSS_LINE_KR_DEV7_LD_adv_KR_7x0011_ADV_10G);
        CSR_WARM_WRM(port_no, VTSS_LINE_KR_DEV7_LD_adv_KR_7x0012,
                VTSS_LINE_KR_DEV7_LD_adv_KR_7x0012_FEC_ABILITY |
                (ld_adv_abil.fec_req ? VTSS_LINE_KR_DEV7_LD_adv_KR_7x0012_FEC_REQUEST : 0),
                VTSS_LINE_KR_DEV7_LD_adv_KR_7x0012_FEC_ABILITY|
                VTSS_LINE_KR_DEV7_LD_adv_KR_7x0012_FEC_REQUEST);
    } else {
        ld_adv_abil = vtss_state->phy_10g_state[port_no].h_kr_tr_aneg.ld_abil;
        CSR_WARM_WR(port_no, VTSS_HOST_KR_DEV7_LD_adv_KR_7x0010, 0x1);

        CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV7_LD_adv_KR_7x0011,
                VTSS_HOST_KR_DEV7_LD_adv_KR_7x0011_ADV_10G,
                VTSS_HOST_KR_DEV7_LD_adv_KR_7x0011_ADV_10G);

        CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV7_LD_adv_KR_7x0012,
                VTSS_HOST_KR_DEV7_LD_adv_KR_7x0012_FEC_ABILITY|
                (ld_adv_abil.fec_req ? VTSS_HOST_KR_DEV7_LD_adv_KR_7x0012_FEC_REQUEST : 0),
                VTSS_HOST_KR_DEV7_LD_adv_KR_7x0012_FEC_ABILITY|
                VTSS_HOST_KR_DEV7_LD_adv_KR_7x0012_FEC_REQUEST);

    }
    return rc;
}
static vtss_rc malibu_phy_10g_kr_status_get(struct vtss_state_s *vtss_state,const vtss_port_no_t port_no,
        BOOL is_line, vtss_phy_10g_base_kr_status_t *const kr_status)
{
    vtss_rc rc = VTSS_RC_OK;
    u32 value = 0;
    if (is_line) {
        CSR_RD(port_no,VTSS_LINE_KR_DEV7_an_sm_an_sm,&value);
        kr_status->aneg.sm = VTSS_X_LINE_KR_DEV7_an_sm_an_sm_an_sm(value); 

        CSR_RD(port_no,VTSS_LINE_KR_DEV7_KR_7x0001_KR_7x0001,&value);
        kr_status->aneg.complete = (VTSS_F_LINE_KR_DEV7_KR_7x0001_KR_7x0001_an_complete & value) ? TRUE : FALSE;
        kr_status->aneg.lp_aneg_able = (VTSS_F_LINE_KR_DEV7_KR_7x0001_KR_7x0001_an_lp_able & value) ? TRUE:FALSE;

        CSR_RD(port_no,VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2,&value);
        CSR_RD(port_no,VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2,&value);
        kr_status->aneg.block_lock = (VTSS_F_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2_BLOCK_LOCK & value) ? TRUE: FALSE;
        //kr_status->aneg.active , yet to know which register has the information

        CSR_RD(port_no,VTSS_LINE_KR_DEV7_LP_base_page_0_KR_7x0013,&value);
        CSR_RD(port_no,VTSS_LINE_KR_DEV7_LP_base_page_1_KR_7x0014,&value);
        kr_status->aneg.request_10g = VTSS_X_LINE_KR_DEV7_LP_base_page_1_KR_7x0014_lp_bp_adv1(value) & VTSS_BIT(7) ? TRUE: FALSE;

        kr_status->aneg.request_1g = VTSS_X_LINE_KR_DEV7_LP_base_page_1_KR_7x0014_lp_bp_adv1(value) & VTSS_BIT(5) ? TRUE: FALSE;

        CSR_RD(port_no,VTSS_LINE_KR_DEV7_LP_base_page_2_KR_7x0015,&value);
        kr_status->aneg.fec_enable = (VTSS_X_LINE_KR_DEV7_LP_base_page_2_KR_7x0015_lp_bp_adv2(value)) & VTSS_BIT(14) ? TRUE: FALSE;
        kr_status->aneg.request_fec_change = (VTSS_X_LINE_KR_DEV7_LP_base_page_2_KR_7x0015_lp_bp_adv2(value)) & VTSS_BIT(15) ? TRUE: FALSE;
        /* Trainging status */
        CSR_RD(port_no,VTSS_LINE_KR_DEV1_KR_1x0097_KR_1x0097,&value);
        kr_status->train.complete = ((VTSS_F_LINE_KR_DEV1_KR_1x0097_KR_1x0097_rcvr_rdy & value) && !(VTSS_F_LINE_KR_DEV1_KR_1x0097_KR_1x0097_tr_fail & value)) ? TRUE:FALSE;
        CSR_RD(port_no,VTSS_LINE_KR_DEV1_tr_tapval_tr_c0val,&value);
        kr_status->train.c0_ob_tap_result = VTSS_X_LINE_KR_DEV1_tr_tapval_tr_c0val_c0_val(value);

        CSR_RD(port_no,VTSS_LINE_KR_DEV1_tr_tapval_tr_cpval,&value);
        kr_status->train.cp_ob_tap_result = VTSS_X_LINE_KR_DEV1_tr_tapval_tr_cpval_cp_val(value);

        CSR_RD(port_no,VTSS_LINE_KR_DEV1_tr_tapval_tr_cmval,&value);
        kr_status->train.cm_ob_tap_result = VTSS_X_LINE_KR_DEV1_tr_tapval_tr_cmval_cm_val(value);

        /* Fec status */
        CSR_RD(port_no,VTSS_LINE_PMA_KR_FEC_STATUS_KR_FEC_CORRECTED_LOWER,&(kr_status->fec.corrected_block_cnt));
        CSR_RD(port_no,VTSS_LINE_PMA_KR_FEC_STATUS_KR_FEC_CORRECTED_UPPER,&value);
        kr_status->fec.corrected_block_cnt = kr_status->fec.corrected_block_cnt | (value<< 16);

        CSR_RD(port_no,VTSS_LINE_PMA_KR_FEC_STATUS_KR_FEC_UNCORRECTED_LOWER,&(kr_status->fec.uncorrected_block_cnt));
        CSR_RD(port_no,VTSS_LINE_PMA_KR_FEC_STATUS_KR_FEC_UNCORRECTED_UPPER,&value);
        kr_status->fec.uncorrected_block_cnt = kr_status->fec.uncorrected_block_cnt | (value<< 16);

        VTSS_D("LINE port %u aneg.sm 0x%0x aneg.complete %s aneg.lp_aneg_able %s aneg.block_lock %s aneg.request_10g %s aneg.request_1g %s aneg.fec_enable %s",
                port_no,kr_status->aneg.sm,kr_status->aneg.complete ? "TURE" : "FALSE",kr_status->aneg.lp_aneg_able ? "TRUE" : "FALSE",kr_status->aneg.block_lock? "TRUE":"FALSE", kr_status->aneg.request_10g ? "TRUE":"FALSE",kr_status->aneg.request_1g? "TRUE":"FALSE",kr_status->aneg.fec_enable?"TRUE":"FALSE");

        VTSS_D("LINE port %u train.complete %s train.c0_ob_tap_result %u train.cp_ob_tap_result %d train.cm_ob_tap_result %d",port_no,kr_status->train.complete?"TRUE":"FALSE",kr_status->train.c0_ob_tap_result,kr_status->train.cp_ob_tap_result,kr_status->train.cm_ob_tap_result);

        VTSS_D("LINE port %u fec.corrected_block_cnt 0x%0x\nfec.uncorrected_block_cnt 0x%0x\n",port_no,kr_status->fec.corrected_block_cnt,kr_status->fec.uncorrected_block_cnt);
    } else {
        CSR_RD(port_no,VTSS_HOST_KR_DEV7_an_sm_an_sm,&value);
        kr_status->aneg.sm = VTSS_X_HOST_KR_DEV7_an_sm_an_sm_an_sm(value); 

        CSR_RD(port_no,VTSS_HOST_KR_DEV7_KR_7x0001_KR_7x0001,&value);
        kr_status->aneg.complete = (VTSS_F_HOST_KR_DEV7_KR_7x0001_KR_7x0001_an_complete & value) ? TRUE : FALSE;
        kr_status->aneg.lp_aneg_able = (VTSS_F_HOST_KR_DEV7_KR_7x0001_KR_7x0001_an_lp_able & value) ? TRUE:FALSE;

        CSR_RD(port_no,VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2,&value);
        CSR_RD(port_no,VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2,&value);
        kr_status->aneg.block_lock = (VTSS_F_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2_BLOCK_LOCK & value) ? TRUE: FALSE;
        //kr_status->aneg.active , yet to know which register has the information

        CSR_RD(port_no,VTSS_HOST_KR_DEV7_LP_base_page_0_KR_7x0013,&value);
        CSR_RD(port_no,VTSS_HOST_KR_DEV7_LP_base_page_1_KR_7x0014,&value);
        kr_status->aneg.request_10g = VTSS_X_HOST_KR_DEV7_LP_base_page_1_KR_7x0014_lp_bp_adv1(value) & VTSS_BIT(7) ? TRUE: FALSE;

        kr_status->aneg.request_1g = VTSS_X_HOST_KR_DEV7_LP_base_page_1_KR_7x0014_lp_bp_adv1(value) & VTSS_BIT(5) ? TRUE: FALSE;

        CSR_RD(port_no,VTSS_HOST_KR_DEV7_LP_base_page_2_KR_7x0015,&value);
        kr_status->aneg.fec_enable = (VTSS_X_HOST_KR_DEV7_LP_base_page_2_KR_7x0015_lp_bp_adv2(value)) & VTSS_BIT(14) ? TRUE: FALSE;
        kr_status->aneg.request_fec_change = (VTSS_X_HOST_KR_DEV7_LP_base_page_2_KR_7x0015_lp_bp_adv2(value)) & VTSS_BIT(15) ? TRUE: FALSE;
        /* Trainging status */
        CSR_RD(port_no,VTSS_HOST_KR_DEV1_KR_1x0097_KR_1x0097,&value);
        kr_status->train.complete = ((VTSS_F_HOST_KR_DEV1_KR_1x0097_KR_1x0097_rcvr_rdy & value) && !(VTSS_F_HOST_KR_DEV1_KR_1x0097_KR_1x0097_tr_fail & value)) ? TRUE:FALSE;
        CSR_RD(port_no,VTSS_HOST_KR_DEV1_tr_tapval_tr_c0val,&value);
        kr_status->train.c0_ob_tap_result = VTSS_X_HOST_KR_DEV1_tr_tapval_tr_c0val_c0_val(value);

        CSR_RD(port_no,VTSS_HOST_KR_DEV1_tr_tapval_tr_cpval,&value);
        kr_status->train.cp_ob_tap_result = VTSS_X_HOST_KR_DEV1_tr_tapval_tr_cpval_cp_val(value);

        CSR_RD(port_no,VTSS_HOST_KR_DEV1_tr_tapval_tr_cmval,&value);
        kr_status->train.cm_ob_tap_result = VTSS_X_HOST_KR_DEV1_tr_tapval_tr_cmval_cm_val(value);

        /* Fec status */
        CSR_RD(port_no,VTSS_HOST_PMA_KR_FEC_STATUS_KR_FEC_CORRECTED_LOWER,&(kr_status->fec.corrected_block_cnt));
        CSR_RD(port_no,VTSS_HOST_PMA_KR_FEC_STATUS_KR_FEC_CORRECTED_UPPER,&value);
        kr_status->fec.corrected_block_cnt = kr_status->fec.corrected_block_cnt | (value<< 16);

        CSR_RD(port_no,VTSS_HOST_PMA_KR_FEC_STATUS_KR_FEC_UNCORRECTED_LOWER,&(kr_status->fec.uncorrected_block_cnt));
        CSR_RD(port_no,VTSS_HOST_PMA_KR_FEC_STATUS_KR_FEC_UNCORRECTED_UPPER,&value);
        kr_status->fec.uncorrected_block_cnt = kr_status->fec.uncorrected_block_cnt | (value<< 16);

        VTSS_D("HOST port %u aneg.sm 0x%0x aneg.complete %s aneg.lp_aneg_able %s aneg.block_lock %s aneg.request_10g %s aneg.request_1g %s aneg.fec_enable %s",
                port_no,kr_status->aneg.sm,kr_status->aneg.complete ? "TURE" : "FALSE",kr_status->aneg.lp_aneg_able ? "TRUE" : "FALSE",kr_status->aneg.block_lock? "TRUE":"FALSE", kr_status->aneg.request_10g ? "TRUE":"FALSE",kr_status->aneg.request_1g? "TRUE":"FALSE",kr_status->aneg.fec_enable?"TRUE":"FALSE");

        VTSS_D("HOST port %u train.complete %s train.c0_ob_tap_result %u train.cp_ob_tap_result %d train.cm_ob_tap_result %d",port_no,kr_status->train.complete?"TRUE":"FALSE",kr_status->train.c0_ob_tap_result,kr_status->train.cp_ob_tap_result,kr_status->train.cm_ob_tap_result);

        VTSS_D("HOST port %u fec.corrected_block_cnt 0x%0x\nfec.uncorrected_block_cnt 0x%0x\n",port_no,kr_status->fec.corrected_block_cnt,kr_status->fec.uncorrected_block_cnt);
    }
    return rc;
}
/* Set 10GBASE_KR training */
static vtss_rc malibu_phy_10g_base_kr_training_set (vtss_state_t *vtss_state,
        const vtss_port_no_t port_no,
        BOOL line_kr)
{
    vtss_rc rc = VTSS_RC_OK;
    vtss_phy_10g_base_kr_training_t training ;
    if(line_kr) {
        training = vtss_state->phy_10g_state[port_no].kr_tr_aneg.training;

        if (training.enable ) {
            VTSS_D(" LINE port %u Line training->enable = TRUE \n",port_no);
            /* Enable/Disable clock gating */
            CSR_WARM_WRM(port_no, VTSS_LINE_KR_DEV7_an_cfg0_an_cfg0,
                    VTSS_F_LINE_KR_DEV7_an_cfg0_an_cfg0_clkg_disable,
                    VTSS_F_LINE_KR_DEV7_an_cfg0_an_cfg0_clkg_disable);
            CSR_WARM_WRM(port_no,VTSS_LINE_KR_DEV1_KR_1x0096_KR_1x0096,
                    0,
                    VTSS_F_LINE_KR_DEV1_KR_1x0096_KR_1x0096_tr_enable);
            /* Setting VS training obcgf_addr(1x8230) to 0x12 */
            CSR_WARM_WR(port_no, VTSS_LINE_KR_DEV1_obcfg_addr_obcfg_addr, 0x12);
            CSR_WARM_WR(port_no,VTSS_LINE_KR_DEV1_tr_brkmask_brkmask_lsw,0);
            CSR_WARM_WR(port_no,VTSS_LINE_KR_DEV1_tr_brkmask_brkmask_msw,0);

            if ((training.trmthd_cp == 0) && (training.trmthd_c0 == 1) && (training.trmthd_cm == 0)) {
                /* c0 = 1 , using Gain method */
                CSR_WARM_WRM(port_no, VTSS_LINE_KR_DEV1_tr_gain_tr_gain,
                        VTSS_F_LINE_KR_DEV1_tr_gain_tr_gain_gain_targ(0x1e)|
                        VTSS_F_LINE_KR_DEV1_tr_gain_tr_gain_gain_marg(0x5),
                        VTSS_M_LINE_KR_DEV1_tr_gain_tr_gain_gain_targ|
                        VTSS_M_LINE_KR_DEV1_tr_gain_tr_gain_gain_marg);
                CSR_WARM_WR(port_no, VTSS_LINE_KR_DEV1_apc_tmr_apc_tmr,0xffff);
            }

            CSR_WARM_WRM(port_no,VTSS_LINE_KR_DEV1_tr_cfg0_tr_cfg0,
                    training.ld_pre_init?VTSS_F_LINE_KR_DEV1_tr_cfg0_tr_cfg0_ld_pre_init:0,
                    VTSS_F_LINE_KR_DEV1_tr_cfg0_tr_cfg0_ld_pre_init);
            CSR_WARM_WR(port_no,VTSS_LINE_KR_DEV1_tr_cfg1_tr_cfg1,0);
            CSR_WARM_WRM(port_no, VTSS_LINE_KR_DEV1_tr_mthd_tr_mthd,
                    VTSS_F_LINE_KR_DEV1_tr_mthd_tr_mthd_mthd_cp(training.trmthd_cp)|
                    VTSS_F_LINE_KR_DEV1_tr_mthd_tr_mthd_mthd_c0(training.trmthd_c0)|
                    VTSS_F_LINE_KR_DEV1_tr_mthd_tr_mthd_mthd_cm(training.trmthd_cm),
                    VTSS_M_LINE_KR_DEV1_tr_mthd_tr_mthd_mthd_cp|
                    VTSS_M_LINE_KR_DEV1_tr_mthd_tr_mthd_mthd_c0|
                    VTSS_M_LINE_KR_DEV1_tr_mthd_tr_mthd_mthd_cm);

            CSR_WARM_WRM(port_no,VTSS_LINE_KR_DEV1_tr_cfg6_tr_cfg6,
                    VTSS_F_LINE_KR_DEV1_tr_cfg6_tr_cfg6_cp_init(53),
                    VTSS_M_LINE_KR_DEV1_tr_cfg6_tr_cfg6_cp_init);

            CSR_WARM_WR(port_no, VTSS_LINE_KR_DEV1_tr_cfg9_tr_cfg9,0x20);

        } else {
            VTSS_D(" LINE port %u training->enable = FALSE \n",port_no);
            /* setting 1x820f to default value of = 0x9018) */
            CSR_WARM_WR(port_no, VTSS_LINE_KR_DEV1_tr_mthd_tr_mthd, 0x9018);

            /* Setting VS training obcgf_addr(1x8230) to 0x0 */
            CSR_WARM_WR(port_no, VTSS_LINE_KR_DEV1_obcfg_addr_obcfg_addr, 0x0);

            /* disable tr */
            CSR_WARM_WRM(port_no, VTSS_LINE_KR_DEV7_an_cfg0_an_cfg0,
                    VTSS_F_LINE_KR_DEV7_an_cfg0_an_cfg0_tr_disable,
                    VTSS_F_LINE_KR_DEV7_an_cfg0_an_cfg0_tr_disable);
        }
    } else {
        training = vtss_state->phy_10g_state[port_no].h_kr_tr_aneg.training;
        if (training.enable ) {
            VTSS_D(" HOST port %u training->enable = TRUE \n",port_no);
            /* Enable/Disable clock gating */
            CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV7_an_cfg0_an_cfg0,
                    VTSS_F_HOST_KR_DEV7_an_cfg0_an_cfg0_clkg_disable,
                    VTSS_F_HOST_KR_DEV7_an_cfg0_an_cfg0_clkg_disable);
            CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV1_KR_1x0096_KR_1x0096,
                    0,
                    VTSS_F_HOST_KR_DEV1_KR_1x0096_KR_1x0096_tr_enable);

            /* Setting VS training obcgf_addr(1x8230) to 0x12 */
            CSR_WARM_WR(port_no, VTSS_HOST_KR_DEV1_obcfg_addr_obcfg_addr, 0x12);
            CSR_WARM_WR(port_no,VTSS_HOST_KR_DEV1_tr_brkmask_brkmask_lsw,0);
            CSR_WARM_WR(port_no,VTSS_HOST_KR_DEV1_tr_brkmask_brkmask_msw,0);

            if ((training.trmthd_cp == 0) && (training.trmthd_c0 == 1) && (training.trmthd_cm == 0)) {
                /* c0 = 1 , using Gain method */
                CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV1_tr_gain_tr_gain,
                        VTSS_F_HOST_KR_DEV1_tr_gain_tr_gain_gain_targ(0x1e)|
                        VTSS_F_HOST_KR_DEV1_tr_gain_tr_gain_gain_marg(0x5),
                        VTSS_M_HOST_KR_DEV1_tr_gain_tr_gain_gain_targ|
                        VTSS_M_HOST_KR_DEV1_tr_gain_tr_gain_gain_marg);
                CSR_WARM_WR(port_no, VTSS_HOST_KR_DEV1_apc_tmr_apc_tmr,0xffff);
            }
            CSR_WARM_WRM(port_no,VTSS_HOST_KR_DEV1_tr_cfg0_tr_cfg0,
                    training.ld_pre_init?VTSS_F_HOST_KR_DEV1_tr_cfg0_tr_cfg0_ld_pre_init:0,
                    VTSS_F_HOST_KR_DEV1_tr_cfg0_tr_cfg0_ld_pre_init);
            CSR_WARM_WR(port_no,VTSS_HOST_KR_DEV1_tr_cfg1_tr_cfg1,0);
            CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV1_tr_mthd_tr_mthd,
                    VTSS_F_HOST_KR_DEV1_tr_mthd_tr_mthd_mthd_cp(training.trmthd_cp)|
                    VTSS_F_HOST_KR_DEV1_tr_mthd_tr_mthd_mthd_c0(training.trmthd_c0)|
                    VTSS_F_HOST_KR_DEV1_tr_mthd_tr_mthd_mthd_cm(training.trmthd_cm),
                    VTSS_M_HOST_KR_DEV1_tr_mthd_tr_mthd_mthd_cp|
                    VTSS_M_HOST_KR_DEV1_tr_mthd_tr_mthd_mthd_c0|
                    VTSS_M_HOST_KR_DEV1_tr_mthd_tr_mthd_mthd_cm);

            CSR_WARM_WRM(port_no,VTSS_HOST_KR_DEV1_tr_cfg6_tr_cfg6,
                    VTSS_F_HOST_KR_DEV1_tr_cfg6_tr_cfg6_cp_init(53),
                    VTSS_M_HOST_KR_DEV1_tr_cfg6_tr_cfg6_cp_init);
            CSR_WARM_WR(port_no, VTSS_HOST_KR_DEV1_tr_cfg9_tr_cfg9,0x20);
        } else {
            VTSS_D("HOST port %u training->enable = FALSE \n",port_no);
            /* setting 1x820f to default value of = 0x9018) */
            CSR_WARM_WR(port_no, VTSS_HOST_KR_DEV1_tr_mthd_tr_mthd, 0x9018);

            /* Setting VS training obcgf_addr(1x8230) to 0x0 */
            CSR_WARM_WR(port_no, VTSS_HOST_KR_DEV1_obcfg_addr_obcfg_addr, 0x0);

            /* disable tr */
            CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV7_an_cfg0_an_cfg0,
                    VTSS_F_HOST_KR_DEV7_an_cfg0_an_cfg0_tr_disable,
                    VTSS_F_HOST_KR_DEV7_an_cfg0_an_cfg0_tr_disable);
        }
    }

    return rc;
}
static vtss_rc malibu_phy_10g_base_host_kr_train_aneg_set (vtss_state_t *vtss_state,
        const vtss_port_no_t port_no)
{
    vtss_rc rc = VTSS_RC_OK;
    vtss_phy_10g_lane_sync_conf_t lane_sync;
    vtss_phy_10g_base_kr_train_aneg_t tr_aneg = vtss_state->phy_10g_state[port_no].h_kr_tr_aneg;
    VTSS_D("port %u HOST kr train_aneg_set an_enable:%d an_reset:%d an_restart:%d host_kr:%d line_kr:%d\n", port_no,tr_aneg.autoneg.an_enable,tr_aneg.autoneg.an_reset, tr_aneg.autoneg.an_restart, tr_aneg.host_kr, tr_aneg.line_kr);
    if (tr_aneg.host_kr) {
        /* Fake Line rom enigne disable */
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_ROMENG_1_spi_adr(0), 0x17);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_ROMENG_2_adr_tx10g, 0x0);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_ROMENG_2_adr_rx10g, 0x0);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_ROMENG_2_adr_tx1g, 0x0);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_ROMENG_2_adr_rx1g, 0x0);

        /* Fake Host rom enigne disable */
        CSR_WARM_WR(port_no, VTSS_HOST_PMA_ROMENG_1_spi_adr(0), 0x17);
        CSR_WARM_WR(port_no, VTSS_HOST_PMA_ROMENG_2_adr_tx10g, 0x0);
        CSR_WARM_WR(port_no, VTSS_HOST_PMA_ROMENG_2_adr_rx10g, 0x0);
        CSR_WARM_WR(port_no, VTSS_HOST_PMA_ROMENG_2_adr_tx1g, 0x0);
        CSR_WARM_WR(port_no, VTSS_HOST_PMA_ROMENG_2_adr_rx1g, 0x0);

        if (malibu_rev_a(vtss_state, port_no)) {
            /* Workaround for Malibu bug, set lane sync */
            VTSS_D("Malibu RevA KR Workaround..Set Host lane Sync\n");
            lane_sync.enable = tr_aneg.training.enable ? TRUE : FALSE;
            lane_sync.rx_macro = VTSS_PHY_10G_RX_MACRO_HOST;
            lane_sync.tx_macro = VTSS_PHY_10G_TX_MACRO_HOST;
            lane_sync.rx_ch = vtss_state->phy_10g_state[port_no].channel_id;
            lane_sync.tx_ch = vtss_state->phy_10g_state[port_no].channel_id;
            vtss_state->phy_10g_state[port_no].lane_sync = lane_sync;
            VTSS_RC(malibu_phy_10g_lane_sync_set(vtss_state, port_no));
        }

        /* Set training */
        VTSS_RC(malibu_phy_10g_base_kr_training_set(vtss_state, port_no, FALSE));

        /* Set LD ADV Ability */
        VTSS_RC(malibu_phy_10g_base_kr_ld_adv_ability_set(vtss_state, port_no, FALSE));

        CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV7_an_cfg0_an_cfg0,
                0,
                VTSS_F_HOST_KR_DEV7_an_cfg0_an_cfg0_tr_disable);
        CSR_WARM_WR(port_no,VTSS_HOST_KR_DEV7_lfshort_tmr_lfshort_msw,128);
        CSR_WARM_WR(port_no,VTSS_HOST_KR_DEV7_lp_tmr_lp_msw,64);
        CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV7_KR_7x0000_KR_7x0000,
                tr_aneg.autoneg.an_enable ? VTSS_F_HOST_KR_DEV7_KR_7x0000_KR_7x0000_an_enable : 0,
                VTSS_F_HOST_KR_DEV7_KR_7x0000_KR_7x0000_an_enable );
        CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV7_KR_7x0000_KR_7x0000,
                tr_aneg.autoneg.an_reset ? VTSS_F_HOST_KR_DEV7_KR_7x0000_KR_7x0000_an_reset : 0 ,
                VTSS_F_HOST_KR_DEV7_KR_7x0000_KR_7x0000_an_reset);
        CSR_WARM_WRM(port_no, VTSS_HOST_KR_DEV7_KR_7x0000_KR_7x0000,
                tr_aneg.autoneg.an_restart ? VTSS_F_HOST_KR_DEV7_KR_7x0000_KR_7x0000_an_restart : 0,
                VTSS_F_HOST_KR_DEV7_KR_7x0000_KR_7x0000_an_restart);
    }
    return rc;

}

/* Set 10GBASE_KR autoneg & Training */
static vtss_rc malibu_phy_10g_base_kr_train_aneg_set (vtss_state_t *vtss_state,
        const vtss_port_no_t port_no)
{
    vtss_rc rc = VTSS_RC_OK;
    vtss_phy_10g_lane_sync_conf_t lane_sync;
    vtss_phy_10g_base_kr_train_aneg_t tr_aneg = vtss_state->phy_10g_state[port_no].kr_tr_aneg;

    VTSS_D("port %u LINE kr train_aneg_set an_enable:%d an_reset:%d an_restart:%d host_kr:%d line_kr:%d\n",port_no, tr_aneg.autoneg.an_enable,tr_aneg.autoneg.an_reset, tr_aneg.autoneg.an_restart, tr_aneg.host_kr, tr_aneg.line_kr);

    if (tr_aneg.line_kr ) {
        /* Fake Line rom enigne disable */
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_ROMENG_1_spi_adr(0), 0x17);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_ROMENG_2_adr_tx10g, 0x0);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_ROMENG_2_adr_rx10g, 0x0);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_ROMENG_2_adr_tx1g, 0x0);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_ROMENG_2_adr_rx1g, 0x0);

        /* Fake Host rom enigne disable */
        CSR_WARM_WR(port_no, VTSS_HOST_PMA_ROMENG_1_spi_adr(0), 0x17);
        CSR_WARM_WR(port_no, VTSS_HOST_PMA_ROMENG_2_adr_tx10g, 0x0);
        CSR_WARM_WR(port_no, VTSS_HOST_PMA_ROMENG_2_adr_rx10g, 0x0);
        CSR_WARM_WR(port_no, VTSS_HOST_PMA_ROMENG_2_adr_tx1g, 0x0);
        CSR_WARM_WR(port_no, VTSS_HOST_PMA_ROMENG_2_adr_rx1g, 0x0);

        if (malibu_rev_a(vtss_state, port_no)) {
            /* Workaround for Malibu bug, set lane sync */
            VTSS_D("Malibu RevA KR Workaround..Set Line lane Sync\n");
            lane_sync.enable = tr_aneg.training.enable ? TRUE : FALSE;
            lane_sync.rx_macro = VTSS_PHY_10G_RX_MACRO_LINE;
            lane_sync.tx_macro = VTSS_PHY_10G_TX_MACRO_LINE;
            lane_sync.rx_ch = vtss_state->phy_10g_state[port_no].channel_id;
            lane_sync.tx_ch = vtss_state->phy_10g_state[port_no].channel_id;
            vtss_state->phy_10g_state[port_no].lane_sync = lane_sync;
            VTSS_RC(malibu_phy_10g_lane_sync_set(vtss_state, port_no));
        }

        /* Set training */
        VTSS_RC(malibu_phy_10g_base_kr_training_set(vtss_state, port_no, TRUE));

        /* Set LD ADV Ability */
        VTSS_RC(malibu_phy_10g_base_kr_ld_adv_ability_set(vtss_state, port_no, TRUE));
        CSR_WARM_WRM(port_no, VTSS_LINE_KR_DEV7_an_cfg0_an_cfg0,
                0,
                VTSS_F_LINE_KR_DEV7_an_cfg0_an_cfg0_tr_disable);
        CSR_WARM_WR(port_no,VTSS_LINE_KR_DEV7_lfshort_tmr_lfshort_msw,128);
        CSR_WARM_WR(port_no,VTSS_LINE_KR_DEV7_lp_tmr_lp_msw,64);

        CSR_WARM_WRM(port_no, VTSS_LINE_KR_DEV7_KR_7x0000_KR_7x0000,
                tr_aneg.autoneg.an_enable ? VTSS_F_LINE_KR_DEV7_KR_7x0000_KR_7x0000_an_enable : 0,
                VTSS_F_LINE_KR_DEV7_KR_7x0000_KR_7x0000_an_enable );
        CSR_WARM_WRM(port_no, VTSS_LINE_KR_DEV7_KR_7x0000_KR_7x0000,
                tr_aneg.autoneg.an_reset ? VTSS_F_LINE_KR_DEV7_KR_7x0000_KR_7x0000_an_reset : 0 ,
                VTSS_F_LINE_KR_DEV7_KR_7x0000_KR_7x0000_an_reset);
        CSR_WARM_WRM(port_no, VTSS_LINE_KR_DEV7_KR_7x0000_KR_7x0000,
                tr_aneg.autoneg.an_restart ? VTSS_F_LINE_KR_DEV7_KR_7x0000_KR_7x0000_an_restart : 0,
                VTSS_F_LINE_KR_DEV7_KR_7x0000_KR_7x0000_an_restart);

    }
    return rc;
}

#endif // end VTSS_FEATURE_10GBASE_KR
/* Set 10GBASE_KR coefficients */
static vtss_rc malibu_phy_10g_base_kr_conf_set(vtss_state_t *vtss_state,
        const vtss_port_no_t port_no)

{
    i32 v[4];
    u32 v_sum, levn, incr_levn, value, mask;
    int i;
    vtss_rc rc = VTSS_RC_OK;
    /* map slewrate to PREDRV_C_CTRL (index 0), PREDRV_R_CTRL (index 1) */
    vtss_phy_10g_base_kr_conf_t kr_conf = vtss_state->phy_10g_state[port_no].kr_conf;
    VTSS_D("Enter");
    v[0] = -kr_conf.cm1 -kr_conf.c0 -kr_conf.c1-1;
    v[1] = -kr_conf.cm1 -kr_conf.c0 +kr_conf.c1-1;
    v[2] = -kr_conf.cm1 +kr_conf.c0 -kr_conf.c1;
    v[3] = -kr_conf.cm1 +kr_conf.c0 +kr_conf.c1;
    /* values are 6 bit signed i.e. -32..31, therefore values >31 or <-32 are trunkated */
    for (i = 0; i < 4; i++) {
        if (v[i] > 31) {v[i] = 31; rc = VTSS_RC_ERR_KR_CONF_INVALID_PARAMETER;}
        if (v[i] < -32) {v[i] = -32; rc = VTSS_RC_ERR_KR_CONF_INVALID_PARAMETER;}
    }
    if ((MEPA_LABS(kr_conf.c0) + MEPA_LABS(kr_conf.c1) + MEPA_LABS(kr_conf.cm1)) > 31) {
        VTSS_I("Invalid cm1,c0,c1 combination expected relation is (abs(c0)+abs(c1)+abs(cm2) < 31)");
        rc = VTSS_RC_ERR_KR_CONF_INVALID_PARAMETER;
    }
    if (kr_conf.ampl > 1275) {
        VTSS_I("Invalid Amplitude,expected  ampl<1275");
        rc = VTSS_RC_ERR_KR_CONF_INVALID_PARAMETER;
    }
    if (kr_conf.slewrate >= VTSS_SLEWRATE_INVALID) {
        VTSS_I("Invalid slew rate,expected  slewrate<5");
        rc = VTSS_RC_ERR_KR_CONF_INVALID_PARAMETER;
    }
    if (rc == VTSS_RC_OK) {
        v_sum = VTSS_ENCODE_BITFIELD(v[0],0,6) | VTSS_ENCODE_BITFIELD(v[1],6,6) |
            VTSS_ENCODE_BITFIELD(v[2],12,6) | VTSS_ENCODE_BITFIELD(v[3],18,6);
        VTSS_D("v[0] %d, v[1] %d, v[2] %d, v[3] %d, v_sum 0x%x", v[0], v[1], v[2], v[3], v_sum);

#ifdef VTSS_FEATURE_10GBASE_KR
        if(((!vtss_state->phy_10g_state[port_no].kr_tr_aneg.host_kr) ||
                    (!vtss_state->phy_10g_state[port_no].kr_tr_aneg.line_kr)) && (!vtss_state->sync_calling_private)) {
#endif
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(v_sum),
                    VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER);
#ifdef VTSS_FEATURE_10GBASE_KR
        }
#endif
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
                VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(predrv_ctrl_table[kr_conf.slewrate][1]) |
                VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(predrv_ctrl_table[kr_conf.slewrate][0]),
                VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL |
                VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL);
        if (kr_conf.ampl > 1075) {
            incr_levn = 0;
            levn = (1275 - kr_conf.ampl)/25;
        } else {
            incr_levn = 1;
            levn = (1075 - kr_conf.ampl)/25;
        }
        VTSS_D("ampl %d, incr_levn %d, levn %d", kr_conf.ampl, incr_levn, levn);
        value = (kr_conf.ser_inv ? VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV : 0) |
            (kr_conf.en_ob ? VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB : 0) |
            (incr_levn ? VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN : 0) |
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(levn);
        mask =  VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV |
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB |
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN |
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN;
        VTSS_D("LINE:value 0x%x, mask 0x%x", value, mask);
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0, value, mask);
    }
    return rc;
}
static vtss_rc malibu_phy_10g_base_kr_host_conf_set(vtss_state_t *vtss_state,vtss_port_no_t port_no)
{
    i32 v[4];
    u32 v_sum, levn, incr_levn, value, mask;
    int i;
    vtss_rc rc = VTSS_RC_OK;
    /* map slewrate to PREDRV_C_CTRL (index 0), PREDRV_R_CTRL (index 1) */
    vtss_phy_10g_base_kr_conf_t kr_conf = vtss_state->phy_10g_state[port_no].host_kr_conf;
    VTSS_D("Enter");
    v[0] = -kr_conf.cm1 -kr_conf.c0 -kr_conf.c1-1;
    v[1] = -kr_conf.cm1 -kr_conf.c0 +kr_conf.c1-1;
    v[2] = -kr_conf.cm1 +kr_conf.c0 -kr_conf.c1;
    v[3] = -kr_conf.cm1 +kr_conf.c0 +kr_conf.c1;
    /* values are 6 bit signed i.e. -32..31, therefore values >31 or <-32 are trunkated */
    for (i = 0; i < 4; i++) {
        if (v[i] > 31) {v[i] = 31; rc = VTSS_RC_ERR_KR_CONF_INVALID_PARAMETER;}
        if (v[i] < -32) {v[i] = -32; rc = VTSS_RC_ERR_KR_CONF_INVALID_PARAMETER;}
    }
    if ((MEPA_LABS(kr_conf.c0) + MEPA_LABS(kr_conf.c1) + MEPA_LABS(kr_conf.cm1)) > 31) {
        VTSS_I("Invalid cm1,c0,c1 combination expected relation is (abs(c0)+abs(c1)+abs(cm2) < 31)");
        rc = VTSS_RC_ERR_KR_CONF_INVALID_PARAMETER;
    }
    if (kr_conf.ampl > 1275) {
        VTSS_I("Invalid Amplitude,expected  ampl<1275");
        rc = VTSS_RC_ERR_KR_CONF_INVALID_PARAMETER;
    }
    if (kr_conf.slewrate >= VTSS_SLEWRATE_INVALID) {
        VTSS_I("Invalid slew rate,expected  slewrate<5");
        rc = VTSS_RC_ERR_KR_CONF_INVALID_PARAMETER;
    }
    if (rc == VTSS_RC_OK) {
        v_sum = VTSS_ENCODE_BITFIELD(v[0],0,6) | VTSS_ENCODE_BITFIELD(v[1],6,6) |
            VTSS_ENCODE_BITFIELD(v[2],12,6) | VTSS_ENCODE_BITFIELD(v[3],18,6);
        VTSS_D("v[0] %d, v[1] %d, v[2] %d, v[3] %d, v_sum 0x%x", v[0], v[1], v[2], v[3], v_sum);

        /* Host side configuration */
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2,
                VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(v_sum),
                VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
                VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(predrv_ctrl_table[kr_conf.slewrate][1]) |
                VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(predrv_ctrl_table[kr_conf.slewrate][0]),
                VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL |
                VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL);
        if (kr_conf.ampl > 1075) {
            incr_levn = 0;
            levn = (1275 - kr_conf.ampl)/25;
        } else {
            incr_levn = 1;
            levn = (1075 - kr_conf.ampl)/25;
        }
        VTSS_D("ampl %d, incr_levn %d, levn %d", kr_conf.ampl, incr_levn, levn);
        value = (kr_conf.ser_inv ? VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV : 0) |
            (kr_conf.en_ob ? VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB : 0) |
            (incr_levn ? VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN : 0) |
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(levn);
        mask =  VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV |
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB |
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN |
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN;
        VTSS_D("HOST:value 0x%x, mask 0x%x", value, mask);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0, value, mask);
    }
    return rc;
}

static BOOL mal_chip_diff_api_mode(vtss_state_t *vtss_state,vtss_port_no_t port_no) 
{
    u32 value;
    if (vtss_state->phy_10g_state[port_no].mode.oper_mode == VTSS_PHY_1G_MODE) {
        CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG, &value);
        return  (value & VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG_PCS_ENA) ? 0 : 1;
    } else if (vtss_state->phy_10g_state[port_no].mode.oper_mode == VTSS_PHY_WAN_MODE) {
        CSR_RD(port_no, VTSS_WIS_WIS_Control_2_WIS_CTRL2, &value);
        return  (value & VTSS_F_WIS_WIS_Control_2_WIS_CTRL2_WAN_MODE) ? 0 : 1;
    }
    return 0;
}
typedef struct {
    BOOL enable;
    u8 h_src;
    u8 l_src;
} vtss_lane_sync_t;

static vtss_rc malibu_phy_10g_lane_sync_set_internal(vtss_state_t *vtss_state,
                                             vtss_port_no_t port_no,
                                             vtss_lane_sync_t *conf)
{
    u8 ch_id = vtss_state->phy_10g_state[port_no].channel_id; 

    // select lane sync sources
#ifdef VTSS_FEATURE_10GBASE_KR
    if(((!vtss_state->phy_10g_state[port_no].kr_tr_aneg.host_kr) || (!vtss_state->phy_10g_state[port_no].kr_tr_aneg.line_kr))
            && (!vtss_state->sync_calling_private)) {
#endif
        CSR_WARM_WRM(port_no, VTSS_CLCK_CFG_CS_HOST_CLK_SEL(ch_id),
                VTSS_F_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL(conf->h_src),
                VTSS_M_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL);
        CSR_WARM_WRM(port_no, VTSS_CLCK_CFG_CS_LINE_CLK_SEL(ch_id),
                VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(conf->l_src),
                VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
#ifdef VTSS_FEATURE_10GBASE_KR
    }
#endif
// Set the FSEL to 44

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
                 VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(43),
                 VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL);
    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, 
                 VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(44),
                 VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                 VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(43),
                 VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                 VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(44),
                 VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);


    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
                 VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(43),
                 VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL);
    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
                 VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(44),
                 VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                 VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(43),
                 VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);
    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                 VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(44),
                 VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);


    // enable lane sync
    CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);
    CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            conf->enable ? VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA : 0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);
    CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);

    CSR_COLD_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);
    CSR_COLD_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            conf->enable ? VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA : 0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);
    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);


    MEPA_MSLEEP(10);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1, 1, VTSS_F_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_FIFO_RESET);
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1, 1, VTSS_F_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_FIFO_RESET);

    MEPA_MSLEEP(1);
    return VTSS_RC_OK;
}
static vtss_rc malibu_polarity_swap_set(vtss_state_t *vtss_state, vtss_port_no_t port_no,BOOL line)
{
    vtss_phy_10g_mode_t *mode = &vtss_state->phy_10g_state[port_no].mode;
    if (line == TRUE) {
        /* Polarity inversion settings (If any) */
        if (mode->polarity.line_tx == TRUE) {
            /* Line TX inversion */
            CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV);
        }else {
            CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
                    0,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV);
        }
        if (mode->polarity.line_rx == TRUE) {
            /* Line RX  inversion */
            CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M | 
                    VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
                    VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
                    VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
                    VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H);

            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL);
        }else {
            CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
                    0,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
                    VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
                    VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                    0,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL);
        }
    } else {
        if (mode->polarity.host_tx == TRUE) {
            /* Host TX inversion */
            CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
                    VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
                    VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
                    VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
                    VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL);

        }else {
            CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
                    0,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
                    VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
                    VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                    0,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL);
        }

        if (mode->polarity.host_rx == TRUE) {
#ifdef VTSS_FEATURE_10GBASE_KR
            if(((!vtss_state->phy_10g_state[port_no].kr_tr_aneg.host_kr) ||
                        (!vtss_state->phy_10g_state[port_no].kr_tr_aneg.line_kr)) && (!vtss_state->sync_calling_private)) {
#endif
                /* Host RX  inversion */
                CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV);
#ifdef VTSS_FEATURE_10GBASE_KR
            }
#endif
        } else {
            CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
                    0,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV);
        }
    }
    return VTSS_RC_OK;
}
static vtss_rc malibu_repeater_otn_serdes(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL host)
{
    vtss_phy_10g_mode_t *mode = &vtss_state->phy_10g_state[port_no].mode;
    vtss_sd10g65_setup_tx_args_t  config_tx = {0};
    vtss_sd10g65_setup_rx_args_t  config_rx = {0};
    vtss_sd10g65_setup_apc_args_t config_apc = {0};
    u32 value = 0;
    /* Initialize the configuration with default values */
    VTSS_RC(vtss_sd10g65_setup_tx_args_init(&config_tx));
    VTSS_RC(vtss_sd10g65_setup_rx_args_init(&config_rx));
    VTSS_RC(vtss_sd10g65_setup_apc_args_init(&config_apc));
    if(host){
        //checking if host side serdes setup was completed before warm start.
        CSR_RD(port_no, VTSS_HOST_PORT_SERDES_SETUP_STATUS,&value);
        value &= VTSS_F_HOST_PORT_SERDES_SETUP_STATUS_BIT;
        switch (vtss_state->phy_10g_state[port_no].mode.h_media) {
            case VTSS_MEDIA_TYPE_SR:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_HW;
                VTSS_N("port %u preset is VTSS_SD10G65_SR_HW",port_no);
                break;;
            case VTSS_MEDIA_TYPE_SR2:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_SR2_HW;
                VTSS_N("port %u preset is VTSS_SD10G65_SR2_HW",port_no);
                break;;
            case VTSS_MEDIA_TYPE_DAC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_DAC_HW;
                VTSS_N("port %u preset is VTSS_SD10G65_DAC_HW",port_no);
                break;
            case VTSS_MEDIA_TYPE_ZR:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_HW;
                VTSS_N("port %u preset is VTSS_SD10G65_ZR_HW",port_no);
                break;
            case VTSS_MEDIA_TYPE_KR:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_KR_HW;
                VTSS_N("port %u preset is VTSS_SD10G65_KR_HW",port_no);
                break;
            case VTSS_MEDIA_TYPE_SR_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_SC;
                VTSS_N("port %u preset is VTSS_SD10G65_SR_SC",port_no);
                break;;
            case VTSS_MEDIA_TYPE_SR2_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_SC;
                VTSS_N("port %u preset is VTSS_SD10G65_SR_SC",port_no);
                break;;
            case VTSS_MEDIA_TYPE_DAC_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_DAC_SC;
                VTSS_N("port %u preset is VTSS_SD10G65_DAC_SC",port_no);
                break;
            case VTSS_MEDIA_TYPE_ZR_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_SC;
                VTSS_N("port %u preset is VTSS_SD10G65_ZR_SC",port_no);
                break;
            case VTSS_MEDIA_TYPE_ZR2_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_SC;
                config_apc.ld_lev_ini = TRUE;
                config_apc.ld_lev_ini_val = 40;
                VTSS_I("port %u preset is VTSS_SD10G65_ZR_SC",port_no);
                break;
            case VTSS_MEDIA_TYPE_KR_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_KR_SC;
                VTSS_N("port %u preset is VTSS_SD10G65_KR_SC",port_no);
                break;

            default:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_HW;
                VTSS_N("port %u default preset is VTSS_SD10G65_SR_HW",port_no);
                break;
        }
        /* Inversion selection ,w.r.t partner connected on HOST side*/
        config_tx.invert = vtss_state->phy_10g_state[port_no].mode.polarity.host_rx;
        config_rx.invert = config_apc.invert = vtss_state->phy_10g_state[port_no].mode.polarity.host_tx;
        VTSS_N("port %u tx data inversion %s rx data inversion %s ",port_no,config_tx.invert ? "TRUE" : "FALSE",config_rx.invert ? "TRUE" : "FALSE");

    } else {
        //checking if line side serdes setup was completed before warm start.
        CSR_RD(port_no, VTSS_LINE_PORT_SERDES_SETUP_STATUS,&value);
        value &= VTSS_F_LINE_PORT_SERDES_SETUP_STATUS_BIT;
        switch (vtss_state->phy_10g_state[port_no].mode.l_media) {
            case VTSS_MEDIA_TYPE_SR:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_HW;
                VTSS_N("port %u preset is VTSS_SD10G65_SR_HW",port_no);
                break;;
            case VTSS_MEDIA_TYPE_SR2:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_SR2_HW;
                VTSS_N("port %u preset is VTSS_SD10G65_SR2_HW",port_no);
                break;;
            case VTSS_MEDIA_TYPE_DAC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_DAC_HW;
                VTSS_N("port %u preset is VTSS_SD10G65_DAC_HW",port_no);
                break;
            case VTSS_MEDIA_TYPE_ZR:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_HW;
                VTSS_N("port %u preset is VTSS_SD10G65_ZR_HW",port_no);
                break;
            case VTSS_MEDIA_TYPE_KR:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_KR_HW;
                VTSS_N("port %u preset is VTSS_SD10G65_KR_HW",port_no);
                break;
            case VTSS_MEDIA_TYPE_SR_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_SC;
                VTSS_N("port %u preset is VTSS_SD10G65_SR_SC",port_no);
                break;;
            case VTSS_MEDIA_TYPE_SR2_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_SR2_SC;
                VTSS_N("port %u preset is VTSS_SD10G65_SR2_SC",port_no);
                break;;
            case VTSS_MEDIA_TYPE_DAC_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_DAC_SC;
                VTSS_N("port %u preset is VTSS_SD10G65_DAC_SC",port_no);
                break;
            case VTSS_MEDIA_TYPE_ZR_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_SC;
                VTSS_N("port %u preset is VTSS_SD10G65_ZR_SC",port_no);
                break;
            case VTSS_MEDIA_TYPE_ZR2_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_SC;
                config_apc.ld_lev_ini = TRUE;
                config_apc.ld_lev_ini_val = 40;
                VTSS_N("port %u preset is VTSS_SD10G65_ZR_SC",port_no);
                break;
            case VTSS_MEDIA_TYPE_KR_SC:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_KR_SC;
                VTSS_N("port %u preset is VTSS_SD10G65_KR_SC",port_no);
                break;

            default:
                config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_HW;
                VTSS_N("port %u default preset is VTSS_SD10G65_SR_HW",port_no);
                break;
        }
        config_tx.invert = vtss_state->phy_10g_state[port_no].mode.polarity.line_tx;
        config_rx.invert = config_apc.invert = vtss_state->phy_10g_state[port_no].mode.polarity.line_rx;
        VTSS_N("port %u tx data inversion %s rx data inversion %s ",port_no,config_tx.invert ? "TRUE" : "FALSE",config_rx.invert ? "TRUE" : "FALSE");
    }
    config_tx.chip_name = config_rx.chip_name = config_apc.chip_name = VTSS_SD10G65_CHIP_MALIBU;
    if(mode->oper_mode == VTSS_PHY_REPEATER_MODE){

        switch(mode->rate) {
            case VTSS_RPTR_RATE_10_709:
                //Call the OTU2 host serdes settings here
                config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_OTU2;
                break;
            case VTSS_RPTR_RATE_11_095727:
                //Call the OTU2E Serdes Settings here.
                config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_OTU2e;
                break;
            case VTSS_RPTR_RATE_11_05:
                config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_OTU1e;
                break;
            default:
                VTSS_E("Only VTSS_SD10G65_MODE_OTU2 and VTSS_SD10G65_MODE_OTU2e datarates supported for OTN");
                break;
        }
        if(host){
            if(value == 0){
                VTSS_RC(vtss_malibu_host_pma_sd10g_setup_tx(vtss_state, config_tx, port_no));
                VTSS_RC(vtss_malibu_host_pma_sd10g_setup_rx(vtss_state, config_rx, port_no));
                VTSS_RC(vtss_malibu_host_pma_apc10g_setup(vtss_state, config_apc, port_no));
                //setting the status bit to 1 to indicate host serdes setup is completed.
                CSR_WARM_WRM(port_no, VTSS_HOST_PORT_SERDES_SETUP_STATUS,
                        VTSS_F_HOST_PORT_SERDES_SETUP_STATUS_BIT,
                        VTSS_F_HOST_PORT_SERDES_SETUP_STATUS_BIT);
            }
        } else {
            if(value == 0){
                VTSS_RC(vtss_malibu_line_pma_sd10g_setup_tx(vtss_state, config_tx, port_no));
                VTSS_RC(vtss_malibu_line_pma_sd10g_setup_rx(vtss_state, config_rx, port_no));
                VTSS_RC(vtss_malibu_line_pma_apc10g_setup(vtss_state, config_apc, port_no));
                //setting the status bit to 1 to indicate line serdes setup is completed.
                CSR_WARM_WRM(port_no, VTSS_LINE_PORT_SERDES_SETUP_STATUS,
                        VTSS_F_LINE_PORT_SERDES_SETUP_STATUS_BIT,
                        VTSS_F_LINE_PORT_SERDES_SETUP_STATUS_BIT);
            }
        }

    }else {
        VTSS_E("Only Repeater Modes Support OTN Rates\n");
        return VTSS_RC_ERROR;
    }
    return VTSS_RC_OK;
}

#define VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG VTSS_IOREG(0x01, 1, 0xf114)
#define VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG VTSS_IOREG(0x09, 1, 0xf114)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S  VTSS_BIT(15)
#define VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S  VTSS_BIT(15)
#define VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL VTSS_ENCODE_BITMASK(16,4)
#define VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL(x) VTSS_ENCODE_BITFIELD(x,16,4)
#define VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL VTSS_ENCODE_BITMASK(16,4)
#define VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL(x) VTSS_ENCODE_BITFIELD(x,16,4)

static vtss_rc malibu_b_line_serdes(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{

    vtss_phy_10g_mode_t *mode = &vtss_state->phy_10g_state[port_no].mode;
    vtss_sd10g65_setup_tx_args_t  config_tx = {0};
    vtss_sd10g65_setup_rx_args_t  config_rx = {0};
    vtss_sd10g65_setup_apc_args_t config_apc = {0};
    u32 value;

    VTSS_N("\n Malibu line serdes settings REV B port no: %u", port_no);
    /* Initialize the configuration with default values */
    VTSS_RC(vtss_sd10g65_setup_tx_args_init(&config_tx));
    VTSS_RC(vtss_sd10g65_setup_rx_args_init(&config_rx));
    VTSS_RC(vtss_sd10g65_setup_apc_args_init(&config_apc));
    config_tx.chip_name = config_rx.chip_name = config_apc.chip_name = VTSS_SD10G65_CHIP_MALIBU_B;
    /* Operation mode selection */
    switch (mode->oper_mode) {
        case VTSS_PHY_LAN_MODE:
        case VTSS_PHY_LAN_SYNCE_MODE:
        case VTSS_PHY_LAN_MIXED_SYNCE_MODE:
            config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_LAN;
            VTSS_N("port %u Line VTSS_SD10G65_MODE_10G_LAN",port_no);
            break;
        case VTSS_PHY_WAN_MODE:
        case VTSS_PHY_WAN_SYNCE_MODE:
        case VTSS_PHY_WAN_MIXED_SYNCE_MODE:
            config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_WAN;
            VTSS_N("port %u Line VTSS_SD10G65_MODE_10G_WAN",port_no);
            break;
        case VTSS_PHY_1G_MODE:
            config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_1G_LAN;
            config_rx.if_width = config_tx.if_width = config_apc.if_width = 10;
            config_tx.f_pll.f_pll_khz = config_rx.f_pll.f_pll_khz = config_apc.f_pll.f_pll_khz = 1e6;
            config_tx.f_pll.ratio_num = config_rx.f_pll.ratio_num = config_apc.f_pll.ratio_num = 10;
            config_tx.f_pll.ratio_den = config_rx.f_pll.ratio_den = config_apc.f_pll.ratio_den = 8;
            VTSS_N("port %u Line VTSS_SD10G65_MODE_1G_LAN",port_no);
            break;
        case VTSS_PHY_REPEATER_MODE:
            switch(mode->rate) {
                case VTSS_RPTR_RATE_10_3125:
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_LAN;
                    VTSS_N("port %u Line VTSS_RPTR_RATE_10_3125 ",port_no);
                    break;
                case VTSS_RPTR_RATE_9_9532:
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_WAN;
                    VTSS_N("port %u Line VTSS_RPTR_RATE_9_9532",port_no);

                    break;
                case VTSS_RPTR_RATE_1_25:
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_1G_LAN;
                    config_rx.if_width = config_tx.if_width = config_apc.if_width = 10;
                    config_tx.f_pll.f_pll_khz = config_rx.f_pll.f_pll_khz = config_apc.f_pll.f_pll_khz = 1e6;
                    config_tx.f_pll.ratio_num = config_rx.f_pll.ratio_num = config_apc.f_pll.ratio_num = 10;
                    config_tx.f_pll.ratio_den = config_rx.f_pll.ratio_den = config_apc.f_pll.ratio_den = 8;
                    VTSS_N("port %u Line VTSS_RPTR_RATE_1_25",port_no);
                    break;
                case VTSS_RPTR_RATE_10_709:
                    //Call the OTU2 host serdes settings here
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_OTU2;
                    VTSS_N("port %u Line VTSS_RPTR_RATE_10_709", port_no);
                    break;
                case VTSS_RPTR_RATE_11_095727:
                    //Call the OTU2E Serdes Settings here.
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_OTU2e;
                    VTSS_N("port %u Line VTSS_RPTR_RATE_11_095727", port_no);
                    break;
                case VTSS_RPTR_RATE_11_05:
                    //Call the OTU1E Serdes Settings
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_OTU1e;
                    VTSS_N("port %u Line VTSS_RPTR_RATE_11_05", port_no);
                    break;
                default:
                    VTSS_E("Repeater rate %u not supported not Supported on port %u",mode->rate,port_no);
                    break;
            }
            break;
        default:
            config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_LAN;
            VTSS_N("port %u default Line VTSS_SD10G65_MODE_10G_LAN",port_no);
    }

    /* Preset selection */
    switch (vtss_state->phy_10g_state[port_no].mode.l_media) {
        case VTSS_MEDIA_TYPE_SR:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_HW;
            VTSS_N("port %u preset is VTSS_SD10G65_SR_HW",port_no);
            break;;
        case VTSS_MEDIA_TYPE_SR2:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_SR2_HW;
            VTSS_N("port %u preset is VTSS_SD10G65_SR2_HW",port_no);
            break;;
        case VTSS_MEDIA_TYPE_DAC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_DAC_HW;
            VTSS_N("port %u preset is VTSS_SD10G65_DAC_HW",port_no);
            break;
        case VTSS_MEDIA_TYPE_ZR:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_HW;
            VTSS_N("port %u preset is VTSS_SD10G65_ZR_HW",port_no);
            break;
        case VTSS_MEDIA_TYPE_KR:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_KR_HW;
            VTSS_N("port %u preset is VTSS_SD10G65_KR_HW",port_no);
            break;
        case VTSS_MEDIA_TYPE_SR_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_SC;
            VTSS_N("port %u preset is VTSS_SD10G65_SR_SC",port_no);
            break;;
        case VTSS_MEDIA_TYPE_SR2_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_SR2_SC;
            VTSS_N("port %u preset is VTSS_SD10G65_SR2_SC",port_no);
            break;;
        case VTSS_MEDIA_TYPE_DAC_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_DAC_SC;
            VTSS_N("port %u preset is VTSS_SD10G65_DAC_SC",port_no);
            break;
        case VTSS_MEDIA_TYPE_ZR_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_SC;
            VTSS_N("port %u preset is VTSS_SD10G65_ZR_SC",port_no);
            break;
        case VTSS_MEDIA_TYPE_ZR2_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_SC;
            config_apc.ld_lev_ini = TRUE;
            config_apc.ld_lev_ini_val = 40;
            VTSS_N("port %u preset is VTSS_SD10G65_ZR_SC",port_no);
            break;
        case VTSS_MEDIA_TYPE_KR_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_KR_SC;
            VTSS_N("port %u preset is VTSS_SD10G65_KR_SC",port_no);
            break;

        default:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_HW;
            VTSS_N("port %u default preset is VTSS_SD10G65_SR_HW",port_no);
            break;
    }

    /* Inversion selection ,w.r.t partner connected on HOST side*/
    config_tx.invert = vtss_state->phy_10g_state[port_no].mode.polarity.line_tx;
    config_rx.invert = config_apc.invert = vtss_state->phy_10g_state[port_no].mode.polarity.line_rx;
    VTSS_N("port %u tx data inversion %s rx data inversion %s ",port_no,config_tx.invert ? "TRUE" : "FALSE",config_rx.invert ? "TRUE" : "FALSE");

    /* Set Line LD_LEV_INI to user supplied value */
    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_ld_ctrl) {
         VTSS_I("Setting APC line ld_lev_ini to %x\n",
                               vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_eqz_ld_ctrl);
         config_apc.ld_lev_ini = TRUE;
         config_apc.ld_lev_ini_val = vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_eqz_ld_ctrl;
    }

    //checking if line serdes setup was completed before warm start
    CSR_RD(port_no, VTSS_LINE_PORT_SERDES_SETUP_STATUS, &value);
    value &= VTSS_F_LINE_PORT_SERDES_SETUP_STATUS_BIT;
    if(value == 0){
        vtss_malibu_b_line_pma_sd10g_setup_tx(vtss_state,config_tx,port_no);
        vtss_malibu_b_line_pma_sd10g_setup_rx(vtss_state,config_rx,port_no);
        vtss_malibu_b_line_pma_apc10g_setup(vtss_state,config_apc,port_no);
        //setting the status bit to 1 to indicate line serdes setup was completed.
        CSR_WARM_WRM(port_no, VTSS_LINE_PORT_SERDES_SETUP_STATUS,
                VTSS_F_LINE_PORT_SERDES_SETUP_STATUS_BIT,
                VTSS_F_LINE_PORT_SERDES_SETUP_STATUS_BIT);
    }
    return VTSS_RC_OK;
}

static vtss_rc malibu_b_host_serdes(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{
    vtss_phy_10g_mode_t *mode = &vtss_state->phy_10g_state[port_no].mode;
    vtss_sd10g65_setup_tx_args_t  config_tx = {0};
    vtss_sd10g65_setup_rx_args_t  config_rx = {0};
    vtss_sd10g65_setup_apc_args_t config_apc = {0};
    u32 value;

    VTSS_I("\n Malibu host serdes settings REV B port no: %u", port_no);
    /* Initialize the configuration with default values */
    VTSS_RC(vtss_sd10g65_setup_tx_args_init(&config_tx));
    VTSS_RC(vtss_sd10g65_setup_rx_args_init(&config_rx));
    VTSS_RC(vtss_sd10g65_setup_apc_args_init(&config_apc));
    config_tx.chip_name = config_rx.chip_name = config_apc.chip_name = VTSS_SD10G65_CHIP_MALIBU_B;
    switch (mode->oper_mode) {
        case VTSS_PHY_LAN_MODE:
        case VTSS_PHY_LAN_SYNCE_MODE:
        case VTSS_PHY_LAN_MIXED_SYNCE_MODE:
            config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_LAN;
            VTSS_N("port %u host VTSS_SD10G65_MODE_10G_LAN",port_no);
            break;
        case VTSS_PHY_WAN_MODE:
        case VTSS_PHY_WAN_SYNCE_MODE:
        case VTSS_PHY_WAN_MIXED_SYNCE_MODE:
            if (mode->is_host_wan == TRUE) {
                config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_WAN;
                VTSS_N("port %u host VTSS_SD10G65_MODE_10G_WAN",port_no);
            } else {
                config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_LAN;
                VTSS_N("port %u host VTSS_SD10G65_MODE_10G_LAN",port_no);
            }
            break;
        case VTSS_PHY_1G_MODE:
            config_rx.if_width = config_tx.if_width = config_apc.if_width = 10;
            config_tx.f_pll.f_pll_khz = config_rx.f_pll.f_pll_khz = config_apc.f_pll.f_pll_khz = 1e6;
            config_tx.f_pll.ratio_num = config_rx.f_pll.ratio_num = config_apc.f_pll.ratio_num = 10;
            config_tx.f_pll.ratio_den = config_rx.f_pll.ratio_den = config_apc.f_pll.ratio_den = 8;
            config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_1G_LAN;
            VTSS_N("port %u host VTSS_SD10G65_MODE_1G_LAN",port_no);
            break;
        case VTSS_PHY_REPEATER_MODE:
            switch(mode->rate) {
                case VTSS_RPTR_RATE_10_3125:
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_LAN;
                    VTSS_N("port %u host VTSS_RPTR_RATE_10_3125 ",port_no);
                    break;
                case VTSS_RPTR_RATE_9_9532:
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_WAN;
                    VTSS_N("port %u host VTSS_RPTR_RATE_9_9532",port_no);

                    break;
                case VTSS_RPTR_RATE_1_25:
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_1G_LAN;
                    config_rx.if_width = config_tx.if_width = config_apc.if_width = 10;
                    config_tx.f_pll.f_pll_khz = config_rx.f_pll.f_pll_khz = config_apc.f_pll.f_pll_khz = 1e6;
                    config_tx.f_pll.ratio_num = config_rx.f_pll.ratio_num = config_apc.f_pll.ratio_num = 10;
                    config_tx.f_pll.ratio_den = config_rx.f_pll.ratio_den = config_apc.f_pll.ratio_den = 8;
                    VTSS_N("port %u host VTSS_RPTR_RATE_1_25",port_no);
                    break;
                case VTSS_RPTR_RATE_10_709:
                    //Call the OTU2 host serdes settings here
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_OTU2;
                    VTSS_N("port %u hose VTSS_RPTR_RATE_10_709", port_no);
                    break;
                case VTSS_RPTR_RATE_11_095727:
                    //Call the OTU2E Serdes Settings here.
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_OTU2e;
                    VTSS_N("port %u host VTSS_RPTR_RATE_11_095727", port_no);
                    break;
                case VTSS_RPTR_RATE_11_05:
                    //Call the OTU1E Serdes Settings
                    config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_OTU1e;
                    VTSS_N("port %u host VTSS_RPTR_RATE_11_05", port_no);
                    break;
                default:
                    VTSS_E("Repeater rate %u not supported not Supported on port %u",mode->rate,port_no);
                    break;
            }
            break;
        default:
            config_rx.f_mode = config_tx.f_mode = VTSS_SD10G65_MODE_10G_LAN;
            VTSS_N("port %u host default VTSS_SD10G65_MODE_10G_LAN",port_no);
    }

    switch (vtss_state->phy_10g_state[port_no].mode.h_media) {
        case VTSS_MEDIA_TYPE_SR:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_HW;
            VTSS_N("port %u preset is VTSS_SD10G65_SR_HW",port_no);
            break;;
        case VTSS_MEDIA_TYPE_SR2:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_SR2_HW;
            VTSS_N("port %u preset is VTSS_SD10G65_SR2_HW",port_no);
            break;;
        case VTSS_MEDIA_TYPE_DAC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_DAC_HW;
            VTSS_N("port %u preset is VTSS_SD10G65_DAC_HW",port_no);
            break;
        case VTSS_MEDIA_TYPE_ZR:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_HW;
            VTSS_N("port %u preset is VTSS_SD10G65_ZR_HW",port_no);
            break;
        case VTSS_MEDIA_TYPE_KR:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_KR_HW;
            VTSS_N("port %u preset is VTSS_SD10G65_KR_HW",port_no);
            break;
        case VTSS_MEDIA_TYPE_SR_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_SC;
            VTSS_N("port %u preset is VTSS_SD10G65_SR_SC",port_no);
            break;;
        case VTSS_MEDIA_TYPE_SR2_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_SR2_SC;
            VTSS_N("port %u preset is VTSS_SD10G65_SR2_SC",port_no);
            break;;
        case VTSS_MEDIA_TYPE_DAC_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_DAC_SC;
            VTSS_N("port %u preset is VTSS_SD10G65_DAC_SC",port_no);
            break;
        case VTSS_MEDIA_TYPE_ZR_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_SC;
            VTSS_N("port %u preset is VTSS_SD10G65_ZR_SC",port_no);
            break;
        case VTSS_MEDIA_TYPE_ZR2_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_ZR_SC;
            config_apc.ld_lev_ini = TRUE;
            config_apc.ld_lev_ini_val = 40;
            VTSS_I("port %u preset is VTSS_SD10G65_ZR_SC",port_no);
            break;
        case VTSS_MEDIA_TYPE_KR_SC:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_KR_SC;
            VTSS_N("port %u preset is VTSS_SD10G65_KR_SC",port_no);
            break;

        default:
            config_rx.preset = config_apc.preset = VTSS_SD10G65_SR_HW;
            VTSS_N("port %u default preset is VTSS_SD10G65_SR_HW",port_no);
            break;
    }
    /* Inversion selection ,w.r.t partner connected on HOST side*/
    config_tx.invert = vtss_state->phy_10g_state[port_no].mode.polarity.host_rx;
    config_rx.invert = config_apc.invert = vtss_state->phy_10g_state[port_no].mode.polarity.host_tx;
    VTSS_N("port %u tx data inversion %s rx data inversion %s ",port_no,config_tx.invert ? "TRUE" : "FALSE",config_rx.invert ? "TRUE" : "FALSE");

    /* Set Host LD_LEV_INI to user supplied value */
    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_ld_ctrl) {
         VTSS_I("Setting APC host ld_lev_ini to %x\n",
                               vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_eqz_ld_ctrl);
         config_apc.ld_lev_ini = TRUE;
         config_apc.ld_lev_ini_val = vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_eqz_ld_ctrl;
    }

    //checking if host side serdes setup was completed before warm start.
    CSR_RD(port_no, VTSS_HOST_PORT_SERDES_SETUP_STATUS,&value);
    value &= VTSS_F_HOST_PORT_SERDES_SETUP_STATUS_BIT;
    if(value == 0){
        vtss_malibu_b_host_pma_sd10g_setup_tx(vtss_state,config_tx,port_no);
        vtss_malibu_b_host_pma_sd10g_setup_rx(vtss_state,config_rx,port_no);
        vtss_malibu_b_host_pma_apc10g_setup(vtss_state,config_apc,port_no);
        //setting the status bit to 1 to indicate host serdes setup is completed.
        CSR_WARM_WRM(port_no, VTSS_HOST_PORT_SERDES_SETUP_STATUS,
                VTSS_F_HOST_PORT_SERDES_SETUP_STATUS_BIT,
                VTSS_F_HOST_PORT_SERDES_SETUP_STATUS_BIT);
    }
    return VTSS_RC_OK;
}
/*MALIBU_REV_A_SERDES */
/* Data structure that holds serdes,apc values */
typedef struct {
    u8 ib_rib_adj;
    u8 ib_vscope_h_thres;
    u8 ib_vscope_l_thres;
    u8 ib_main_thres;
    u8 eqz_c_min;
    u8 eqz_l_min;
    u8 ib_sig_sel;
    u8 dfe1_min;
    u8 dfe1_max;
    u8 dfe1_ini;
    u8 dfe2_min;
    u8 dfe2_max;
    u8 dfe2_ini;
    u8 dfe3_min;
    u8 dfe3_max;
    u8 dfe3_ini;
    u8 dfe4_min;
    u8 dfe4_max;
    u8 dfe4_ini;
    u16 ib_ena_400_inp;
    u8 ib_tc_dfe;
    u8 ib_tc_eq;
    u8 ld_lev_ini;
    u8 eqz_agc_max;
    u8 eqz_agc_ini;
    u8 eqz_l_ini;
    u8 eqz_c_ini;
    u8 synth_phase_data;
    u8 c_adj_ib;
    u8 c_adj_es0;
    u8 c_adj_es1;
    u8 c_adj_es2;
    u8 l_chng_mod;
    u8 c_chng_mod;
    u8 ld1_offset;
    u8 ib_eqz_l_mode;
    u8 eqz_l_range_sel;
    u8 eqz_offs_max;
    u8 eqz_offs_min;
    u8 eqz_l_max;
    u8 ib_dfe_offset_h;
    u8 eqz_offs_range_sel;
} vtss_phy_10g_serdes_data_t;

static void malibu_serdes_data_get(vtss_phy_10g_mode_t *mode,vtss_phy_10g_serdes_data_t *data,vtss_phy_10g_media_t media) 
{
    switch (media) {
        case VTSS_MEDIA_TYPE_SR_SC:
        case VTSS_MEDIA_TYPE_SR2_SC:
        case VTSS_MEDIA_TYPE_ZR_SC:
        case VTSS_MEDIA_TYPE_ZR2_SC:
        case VTSS_MEDIA_TYPE_KR_SC:
        case VTSS_MEDIA_TYPE_DAC_SC:
            VTSS_I("SC Media types not supported for Malibu-revA, using non-sc media types");
            break;
        default:
            break;
    }

    switch(media) {
        case VTSS_MEDIA_TYPE_SR:
        case VTSS_MEDIA_TYPE_SR_SC:
            data->ib_rib_adj = 0;
            data->ib_vscope_h_thres = 40;
            data->ib_vscope_l_thres = 23;
            data->ib_main_thres = 32;
            data->ib_sig_sel = 0;
            data->eqz_c_min = 0;
            data->eqz_l_min = 0;
            data->ib_ena_400_inp = 0;
            data->ib_tc_dfe = 12;
            data->ib_tc_eq = 12;
            data->ld_lev_ini = 44;
            data->eqz_agc_max = 248;
            data->eqz_agc_ini = 88;
            data->eqz_l_ini = 22;
            data->eqz_c_ini = 11;
            data->synth_phase_data = 54;
            data->c_adj_ib = 2;
            data->c_adj_es0 = 2;
            data->c_adj_es1 = 2;
            data->c_adj_es2 = 2;
            if (mode->oper_mode == VTSS_PHY_1G_MODE) {
                data->l_chng_mod = 1;
                data->c_chng_mod = 1;
                data->dfe1_max = 68;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 36;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 20;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 20;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            } else {
                data->l_chng_mod = 0;
                data->c_chng_mod = 0;
                data->dfe1_max = 80;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 48;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 31;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 31;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            }
            data->ld1_offset = 0;
            data->ib_eqz_l_mode = 0;
            data->eqz_l_range_sel = 22;
            data->eqz_l_max = 124;
            data->eqz_offs_max = 160;
            data->eqz_offs_min = 96;
            data->ib_dfe_offset_h = 19;
            data->eqz_offs_range_sel = 20;
            break;
        case VTSS_MEDIA_TYPE_SR2:
        case VTSS_MEDIA_TYPE_SR2_SC:
            data->ib_rib_adj = 0;
            data->ib_vscope_h_thres = 40;
            data->ib_vscope_l_thres = 23;
            data->ib_main_thres = 32;
            data->ib_sig_sel = 0;
            data->eqz_c_min = 0;
            data->eqz_l_min = 0;
            data->ib_ena_400_inp = 0;
            data->ib_tc_dfe = 12;
            data->ib_tc_eq = 12;
            data->ld_lev_ini = 24;
            data->eqz_agc_max = 248;
            data->eqz_agc_ini = 88;
            data->eqz_l_ini = 22;
            data->eqz_c_ini = 11;
            data->synth_phase_data = 54;
            data->c_adj_ib = 0;
            data->c_adj_es0 = 0;
            data->c_adj_es1 = 0;
            data->c_adj_es2 = 0;
            if (mode->oper_mode == VTSS_PHY_1G_MODE) {
                data->l_chng_mod = 1;
                data->c_chng_mod = 1;
                data->dfe1_max = 68;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 36;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 20;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 20;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            } else {
                data->l_chng_mod = 0;
                data->c_chng_mod = 0;
                data->dfe1_max = 127;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 48;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 31;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 31;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            }
            data->ld1_offset = 0;
            data->ib_eqz_l_mode = 0;
            data->eqz_l_range_sel = 22;
            data->eqz_l_max = 124;
            data->eqz_offs_max = 160;
            data->eqz_offs_min = 96;
            data->ib_dfe_offset_h = 19;
            data->eqz_offs_range_sel = 20;
            break;
        case VTSS_MEDIA_TYPE_ZR:
        case VTSS_MEDIA_TYPE_ZR_SC:
        case VTSS_MEDIA_TYPE_ZR2_SC:
            data->ib_rib_adj = 0;
            data->ib_vscope_h_thres = 43;
            data->ib_vscope_l_thres = 20;
            data->ib_main_thres = 21;
            data->ib_sig_sel = 0;
            data->eqz_c_min = 0;
            data->eqz_l_min = 0;
            data->ib_ena_400_inp = VTSS_BIT(11);
            data->ib_tc_dfe = 0;
            data->ib_tc_eq = 0;
            data->ld_lev_ini = 48;
            data->eqz_agc_max = 248;
            data->eqz_agc_ini = 88;
            data->eqz_l_ini = 22;
            data->eqz_c_ini = 11;
            data->synth_phase_data = 51;
            data->c_adj_ib = 0;
            data->c_adj_es0 = 0;
            data->c_adj_es1 = 0;
            data->c_adj_es2 = 0;
            if (mode->oper_mode == VTSS_PHY_1G_MODE) {
                data->l_chng_mod = 1;
                data->c_chng_mod = 1;
                data->dfe1_max = 68;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 36;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 20;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 20;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            } else {
                data->l_chng_mod = 0;
                data->c_chng_mod = 0;
                data->dfe1_max = 127;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 48;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 31;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 31;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            }
            data->ld1_offset = 0;
            data->ib_eqz_l_mode = 0;
            data->eqz_l_range_sel = 22;
            data->eqz_l_max = 124;
            data->eqz_offs_max = 160;
            data->eqz_offs_min = 96;
            data->ib_dfe_offset_h = 19;
            data->eqz_offs_range_sel = 20;
            break;
        case VTSS_MEDIA_TYPE_DAC:
        case VTSS_MEDIA_TYPE_DAC_SC:
            data->ib_rib_adj = 8;
            data->ib_vscope_h_thres = 42;
            data->ib_vscope_l_thres = 21;
            data->ib_main_thres = 32;
            data->ib_sig_sel = 0;
            data->eqz_c_min = 4;
            data->eqz_l_min = 8;
            data->ib_ena_400_inp = VTSS_BIT(11);
            data->ib_tc_dfe = 0;
            data->ib_tc_eq = 0;
            data->ld_lev_ini = 4;
            data->eqz_agc_max = 216;
            data->eqz_agc_ini = 168;
            data->eqz_l_ini = 50;
            data->eqz_c_ini = 25;
            data->synth_phase_data = 54;
            data->c_adj_ib = 0;
            data->c_adj_es0 = 0;
            data->c_adj_es1 = 0;
            data->c_adj_es2 = 0;
            if (mode->oper_mode == VTSS_PHY_1G_MODE) {
                data->l_chng_mod = 1;
                data->c_chng_mod = 1;
                data->dfe1_max = 68;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 36;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 20;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 20;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            } else {
                data->l_chng_mod = 0;
                data->c_chng_mod = 0;
                data->dfe1_max = 127;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 48;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 31;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 31;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            }
            data->ld1_offset = 20;
            data->ib_eqz_l_mode = 0;
            data->eqz_l_range_sel = 22;
            data->eqz_l_max = 62;
            data->eqz_offs_max = 160;
            data->eqz_offs_min = 96;
            data->ib_dfe_offset_h = 24;
            data->eqz_offs_range_sel = 20;
            break;
        case VTSS_MEDIA_TYPE_KR:
        case VTSS_MEDIA_TYPE_KR_SC:
            data->ib_rib_adj = 12;
            data->ib_vscope_h_thres = 42;
            data->ib_vscope_l_thres = 21;
            data->ib_main_thres = 32;
            data->ib_sig_sel = 0;
            data->eqz_c_min = 0;
            data->eqz_l_min = 0;
            data->ib_ena_400_inp = VTSS_BIT(11);
            data->ib_tc_dfe = 12;
            data->ib_tc_eq = 12;
            data->ld_lev_ini = 8;
            data->eqz_agc_max = 248;
            data->eqz_agc_ini = 88;
            data->eqz_l_ini = 44;
            data->eqz_c_ini = 11;
            data->synth_phase_data = 54;
            data->c_adj_ib = 0;
            data->c_adj_es0 = 0;
            data->c_adj_es1 = 0;
            data->c_adj_es2 = 0;
            if (mode->oper_mode == VTSS_PHY_1G_MODE) {
                data->l_chng_mod = 1;
                data->c_chng_mod = 1;
                data->dfe1_max = 68;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 36;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 20;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 20;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            } else {
                data->l_chng_mod = 0;
                data->c_chng_mod = 0;
                data->dfe1_max = 127;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 48;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 31;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 31;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            }
            data->ld1_offset = 20;
            data->ib_eqz_l_mode = 2;
            data->eqz_l_range_sel = 21;
            data->eqz_l_max = 124;
            data->eqz_offs_max = 255;
            data->eqz_offs_min = 0;
            data->ib_dfe_offset_h = 24;
            data->eqz_offs_range_sel = 12;
            break;
        default:
            /* Though all the media types are taken care of but
             * default should stay at SR2
             */
            data->ib_rib_adj = 0;
            data->ib_vscope_h_thres = 40;
            data->ib_vscope_l_thres = 23;
            data->ib_main_thres = 32;
            data->ib_sig_sel = 0;
            data->eqz_c_min = 0;
            data->eqz_l_min = 0;
            data->ib_ena_400_inp = 0;
            data->ib_tc_dfe = 12;
            data->ib_tc_eq = 12;
            data->ld_lev_ini = 24;
            data->eqz_agc_max = 248;
            data->eqz_agc_ini = 88;
            data->eqz_l_ini = 22;
            data->eqz_c_ini = 11;
            data->synth_phase_data = 54;
            data->c_adj_ib = 0;
            data->c_adj_es0 = 0;
            data->c_adj_es1 = 0;
            data->c_adj_es2 = 0;
            if (mode->oper_mode == VTSS_PHY_1G_MODE) {
                data->l_chng_mod = 1;
                data->c_chng_mod = 1;
                data->dfe1_max = 68;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 36;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 20;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 20;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            } else {
                data->l_chng_mod = 0;
                data->c_chng_mod = 0;
                data->dfe1_max = 127;
                data->dfe1_min = 0;
                data->dfe1_ini = 64;
                data->dfe2_max = 48;
                data->dfe2_min = 0;
                data->dfe2_ini = 32;
                data->dfe3_max = 31;
                data->dfe3_min = 0;
                data->dfe3_ini = 16;
                data->dfe4_max = 31;
                data->dfe4_min = 0;
                data->dfe4_ini = 16;
            }
            data->ld1_offset = 0;
            data->ib_eqz_l_mode = 0;
            data->eqz_l_range_sel = 22;
            data->eqz_l_max = 124;
            data->eqz_offs_max = 160;
            data->eqz_offs_min = 96;
            data->ib_dfe_offset_h = 19;
            data->eqz_offs_range_sel = 20;
            break;
    }
}


/*Malibu Rev A serdes settings */
static vtss_rc malibu_line_sd10g_tx_cfg_lan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(23),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0(0));

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0(0));

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT(8448),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1(8),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_SPEED,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_DIR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_DIR);
#ifdef VTSS_FEATURE_10GBASE_KR
    if(((!vtss_state->phy_10g_state[port_no].kr_tr_aneg.host_kr) || (!vtss_state->phy_10g_state[port_no].kr_tr_aneg.line_kr))
        && (!vtss_state->sync_calling_private)) {
#endif
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);
#ifdef VTSS_FEATURE_10GBASE_KR
    }
#endif
    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(35),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_INP_LOOP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_PAD_LOOP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL);
#ifdef VTSS_FEATURE_10GBASE_KR
    if(((!vtss_state->phy_10g_state[port_no].kr_tr_aneg.host_kr) || (!vtss_state->phy_10g_state[port_no].kr_tr_aneg.line_kr))
       && (!vtss_state->sync_calling_private)) {
#endif
       CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2,
               VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(0x7DF820),
               VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER);
#ifdef VTSS_FEATURE_10GBASE_KR
    }
#endif
    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END(198),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    MEPA_MSLEEP(50);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_line_sd10g_rx_cfg_lan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix)
{

    vtss_phy_10g_serdes_data_t data;
    u8 dfe_offset_h;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.l_media);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_LOOPDRV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            0,
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0(0));

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0(0));

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT(8448),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1(8),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA(data.synth_phase_data),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_CPMD_DIG_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(35),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ(data.ib_rib_adj),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET(data.ld1_offset),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SDET_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ(63),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ);

    if ( eye_fix ) {
        dfe_offset_h = (u8) ((u16)(4 + 19* (data.ib_vscope_h_thres-32)) / 8); // integer based calculation
    } else {
        dfe_offset_h = 19;
    }
    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H(dfe_offset_h),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB(data.c_adj_ib),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0(data.c_adj_es0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1(data.c_adj_es1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2(data.c_adj_es2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE(data.ib_eqz_l_mode),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(data.ib_vscope_h_thres),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(data.ib_vscope_l_thres),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES(data.ib_main_thres),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SET_SDET);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL(data.ib_sig_sel),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_DRV);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_REC);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            data.ib_ena_400_inp,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_ENA_400_INP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE(data.ib_tc_dfe),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ(data.ib_tc_eq),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_CPMD_SWAP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END(198),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    MEPA_MSLEEP(50);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_line_sd10g_apc_cfg_lan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL cold_fix)
{
    vtss_phy_10g_serdes_data_t data;
    u32 value=0;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.l_media);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_HML_ERRCORR_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES(8),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_AUTO_RESTART);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME(50000),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE);

    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_ld_ctrl) {
        VTSS_I("Setting APC line ld_lev_ini to %x\n", 
                vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_eqz_ld_ctrl);
        data.ld_lev_ini =
            vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_eqz_ld_ctrl;
    }

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI(data.ld_lev_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK(65535),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK(1000),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL(65535),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL(1000),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL(data.eqz_offs_range_sel),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX(data.eqz_offs_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN(data.eqz_offs_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI(128),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI);

    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_offs_ctrl) {
        VTSS_I("Setting APC OFFS PAR CFG to %x\n", 
                vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_eqz_offs_par_cfg);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_eqz_offs_par_cfg);
    }

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX(data.eqz_agc_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI(data.eqz_agc_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(data.l_chng_mod),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_RANGE_SEL(data.eqz_l_range_sel),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX(data.eqz_l_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI(data.eqz_l_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN(data.eqz_l_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(data.c_chng_mod),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_RANGE_SEL(23),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI(data.eqz_c_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN(data.eqz_c_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX(data.dfe1_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN(data.dfe1_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI(data.dfe1_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX(data.dfe2_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN(data.dfe2_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI(data.dfe2_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX(data.dfe3_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN(data.dfe3_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI(data.dfe3_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX(data.dfe4_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN(data.dfe4_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI(data.dfe4_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI(112),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_INV_THR_CAL_VAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);
    /* Undo Invertion */
    CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H);
    CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV);
    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL);

    if ( cold_fix ) {
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(1),
                VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

        MEPA_MSLEEP(1);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);
    } else {
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(5),
                VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        MEPA_MSLEEP(2);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);
    }
    MEPA_MSLEEP(63);

    if ( cold_fix ) {
        if (!vtss_state->sync_calling_private) {
            CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,&value);
            if(!(value & VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_OFFSCAL_DONE)) {
                VTSS_E("Line APC Calibration not done on Line for Port %d\n", port_no);
                return VTSS_RC_ERROR;
            }
        }
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);
    } else {
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);
    }
    /* Apply Invertion */
    VTSS_RC(malibu_polarity_swap_set(vtss_state,port_no,TRUE));

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

    return VTSS_RC_OK;
}

/* Line WAN settings */
static vtss_rc malibu_line_sd10g_tx_cfg_wan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(23),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0(398458880));

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0(1111490560));

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT(8153),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1(11),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_SPEED,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_DIR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_DIR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(35),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_INP_LOOP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_PAD_LOOP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(0x7DF820),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END(205),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    MEPA_MSLEEP(50);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_line_sd10g_rx_cfg_wan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix)
{

    vtss_phy_10g_serdes_data_t data;
    u8 dfe_offset_h;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.l_media);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_LOOPDRV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0(398458880));

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0(1111490560));

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT(8153),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1(11),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA(data.synth_phase_data),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_CPMD_DIG_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(35),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ(data.ib_rib_adj),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET(data.ld1_offset),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SDET_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ(63),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ);

    if ( eye_fix ) {
        dfe_offset_h = (u8) ((u16)(4 + 19* (data.ib_vscope_h_thres-32)) / 8); // integer based calculation
    } else {
        dfe_offset_h = 19;
    }
    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H(dfe_offset_h),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB(data.c_adj_ib),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0(data.c_adj_es0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1(data.c_adj_es1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2(data.c_adj_es2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE(data.ib_eqz_l_mode),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(data.ib_vscope_h_thres),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(data.ib_vscope_l_thres),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES(data.ib_main_thres),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SET_SDET);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL(data.ib_sig_sel),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_DRV);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_REC);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            data.ib_ena_400_inp,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_ENA_400_INP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE(data.ib_tc_dfe),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ(data.ib_tc_eq),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_CPMD_SWAP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END(205),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    MEPA_MSLEEP(50);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_line_sd10g_apc_cfg_wan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL cold_fix)
{
    vtss_phy_10g_serdes_data_t data;
    u32 value=0;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.l_media);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_HML_ERRCORR_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES(8),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_AUTO_RESTART);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME(50000),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE);

    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_ld_ctrl) {
        VTSS_I("Setting APC Line ld_lev_ini to %x\n", 
                vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_eqz_ld_ctrl);
        data.ld_lev_ini =
            vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_eqz_ld_ctrl;
    }

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI(data.ld_lev_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK(65535),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK(1000),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL(65535),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL(1000),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL(data.eqz_offs_range_sel),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX(data.eqz_offs_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN(data.eqz_offs_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI(128),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI);

    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_offs_ctrl) {
        VTSS_I("Setting APC OFFS PAR CFG to %x\n", 
                vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_eqz_offs_par_cfg);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_eqz_offs_par_cfg);
    }

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX(data.eqz_agc_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI(data.eqz_agc_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(data.l_chng_mod),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_RANGE_SEL(data.eqz_l_range_sel),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX(data.eqz_l_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI(data.eqz_l_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN(data.eqz_l_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(data.c_chng_mod),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_RANGE_SEL(23),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI(data.eqz_c_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN(data.eqz_c_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX(data.dfe1_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN(data.dfe1_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI(data.dfe1_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX(data.dfe2_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN(data.dfe2_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI(data.dfe2_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX(data.dfe3_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN(data.dfe3_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI(data.dfe3_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX(data.dfe4_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN(data.dfe4_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI(data.dfe4_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI(112),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_INV_THR_CAL_VAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    /* Undo Invertion */
    CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H);
    CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV);
    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL);

    if ( cold_fix ) {
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(1),
                VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

        MEPA_MSLEEP(1);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);
    } else {
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(5),
                VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        MEPA_MSLEEP(2);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);
    }
    MEPA_MSLEEP(65);

    if ( cold_fix ) {
        if (!vtss_state->sync_calling_private) {
            CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,&value);
            if(!(value & VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_OFFSCAL_DONE)) {
                VTSS_E("Line APC Calibration not done on Line for Port %d\n", port_no);
                return VTSS_RC_ERROR;
            }
        }
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);
    } else {
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);
    }
    /* Apply Invertion */
    VTSS_RC(malibu_polarity_swap_set(vtss_state,port_no,TRUE));

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

    return VTSS_RC_OK;
}
/* Line 1G settings */
static vtss_rc malibu_line_sd10g_tx_cfg_lan1g(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(23),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPEED_SEL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0(0));

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0(0));

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT(8192),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1(8),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_DIR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_DIR);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(35),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_INP_LOOP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_PAD_LOOP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(0x820820),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END(512),
            VTSS_M_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    MEPA_MSLEEP(50);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_line_sd10g_rx_cfg_lan1g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix)
{

    vtss_phy_10g_serdes_data_t data;
    u8 dfe_offset_h;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.l_media);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_LOOPDRV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPEED_SEL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0(0));

    CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0(0));

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT(8192),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1(8),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA(64),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_CPMD_DIG_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(35),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ(data.ib_rib_adj),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA);
    
    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET(data.ld1_offset),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SDET_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ(63),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ);

    if ( eye_fix ) {
        dfe_offset_h = (u8) ((u16)(4 + 19* (data.ib_vscope_h_thres-32)) / 8); // integer based calculation
    } else {
        dfe_offset_h = 19;
    }
    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H(dfe_offset_h),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB(data.c_adj_ib),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0(data.c_adj_es0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1(data.c_adj_es1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2(data.c_adj_es2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE(data.ib_eqz_l_mode),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(data.ib_vscope_h_thres),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(data.ib_vscope_l_thres),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES(data.ib_main_thres),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SET_SDET);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL(data.ib_sig_sel),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_DRV);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_REC);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            data.ib_ena_400_inp,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_ENA_400_INP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE(data.ib_tc_dfe),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ(data.ib_tc_eq),
            VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_CPMD_SWAP);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_DIS);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END(512),
            VTSS_M_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    MEPA_MSLEEP(50);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_line_sd10g_apc_cfg_lan1g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL cold_fix)
{
    vtss_phy_10g_serdes_data_t data;
    u32 value=0;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.l_media);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_HML_ERRCORR_ENA);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV(3),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_AUTO_RESTART);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME(50000),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE);

    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_ld_ctrl) {
        VTSS_I("Setting APC Line ld_lev_ini to %x\n", 
                vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_eqz_ld_ctrl);
        data.ld_lev_ini =
            vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_line_eqz_ld_ctrl;
    }

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI(data.ld_lev_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK(65535),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK(1000),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL(65535),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL(1000),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK(7),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK(15),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH(5),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL(data.eqz_offs_range_sel),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX(data.eqz_offs_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN(data.eqz_offs_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI(128),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI);

    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_offs_ctrl) {
        VTSS_I("Setting APC OFFS PAR CFG to %x\n", 
                vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_eqz_offs_par_cfg);
        CSR_WARM_WR(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_eqz_offs_par_cfg);
    }

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX(data.eqz_agc_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI(data.eqz_agc_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(data.l_chng_mod),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI(data.eqz_l_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN(data.eqz_l_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(data.c_chng_mod),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI(data.eqz_c_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN(data.eqz_c_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX(data.dfe1_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN(data.dfe1_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI(data.dfe1_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX(data.dfe2_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN(data.dfe2_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI(data.dfe2_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX(data.dfe3_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN(data.dfe3_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI(data.dfe3_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL(20),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX(data.dfe4_max),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN(data.dfe4_min),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI(data.dfe4_ini),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE(1),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI(0),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI(112),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_INV_THR_CAL_VAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT(31),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT);

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    /* Undo Invertion */
    CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
            VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H);
    CSR_COLD_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV);
    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL);

    if ( cold_fix ) {
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(1),
                VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

        MEPA_MSLEEP(1);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);
    } else {
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(5),
                VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        MEPA_MSLEEP(2);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);
    }
    MEPA_MSLEEP(161);
    if ( cold_fix ) {
        if (!vtss_state->sync_calling_private) {
            CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,&value);
            if(!(value & VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_OFFSCAL_DONE)) {
                VTSS_E("Line APC Calibration not done on Line for Port %d\n", port_no);
                return VTSS_RC_ERROR;
            }
        }
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);
    } else {
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);
    }
    /* Apply Invertion */
    VTSS_RC(malibu_polarity_swap_set(vtss_state,port_no,TRUE));

    CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(2),
            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

    return VTSS_RC_OK;
}

/* Host Lan settings */
static vtss_rc malibu_host_sd10g_tx_cfg_lan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(23),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0(0));

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0(0));

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT(8448),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1(8),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_SPEED,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_DIR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_DIR);


#ifdef VTSS_FEATURE_10GBASE_KR
    if(((!vtss_state->phy_10g_state[port_no].kr_tr_aneg.host_kr) || (!vtss_state->phy_10g_state[port_no].kr_tr_aneg.line_kr))
        && (!vtss_state->sync_calling_private)) {
#endif
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);
#ifdef VTSS_FEATURE_10GBASE_KR
    }

#endif
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(35),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_INP_LOOP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_PAD_LOOP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL);
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(0x7DF820),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END(198),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    MEPA_MSLEEP(50);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_host_sd10g_rx_cfg_lan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix)
{

    vtss_phy_10g_serdes_data_t data;
    u8 dfe_offset_h;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.h_media);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_LOOPDRV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0(0));

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0(0));

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT(8448),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1(8),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA(data.synth_phase_data),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_CPMD_DIG_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(35),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ(data.ib_rib_adj),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET(data.ld1_offset),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SDET_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ(63),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ);

    if ( eye_fix ) {
        dfe_offset_h = (u8) ((u16)(4 + 19* (data.ib_vscope_h_thres-32)) / 8); // integer based calculation
    } else {
        dfe_offset_h = 19;
    }
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H(dfe_offset_h),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB(data.c_adj_ib),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0(data.c_adj_es0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1(data.c_adj_es1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2(data.c_adj_es2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE(data.ib_eqz_l_mode),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(data.ib_vscope_h_thres),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(data.ib_vscope_l_thres),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES(data.ib_main_thres),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SET_SDET);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL(data.ib_sig_sel),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_DRV);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_REC);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            data.ib_ena_400_inp,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_ENA_400_INP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE(data.ib_tc_dfe),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ(data.ib_tc_eq),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_CPMD_SWAP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END(198),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    MEPA_MSLEEP(50);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_host_sd10g_apc_cfg_lan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL cold_fix)
{
    vtss_phy_10g_serdes_data_t data;
    u32 value=0;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.h_media);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_HML_ERRCORR_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES(8),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_AUTO_RESTART);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME(50000),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE);

    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_ld_ctrl) {
        VTSS_I("Setting APC Host ld_lev_ini to %x\n", 
            vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_eqz_ld_ctrl);
            data.ld_lev_ini =
                 vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_eqz_ld_ctrl;            
    }

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI(data.ld_lev_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK(65535),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK(1000),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL(65535),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL(1000),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL(data.eqz_offs_range_sel),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX(data.eqz_offs_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN(data.eqz_offs_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI(128),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX(data.eqz_agc_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI(data.eqz_agc_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(data.l_chng_mod),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_RANGE_SEL(data.eqz_l_range_sel),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX(data.eqz_l_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI(data.eqz_l_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI);
    
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN(data.eqz_l_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(data.c_chng_mod),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_RANGE_SEL(23),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI(data.eqz_c_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN(data.eqz_c_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX(data.dfe1_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN(data.dfe1_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI(data.dfe1_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX(data.dfe2_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN(data.dfe2_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI(data.dfe2_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX(data.dfe3_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN(data.dfe3_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI(data.dfe3_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX(data.dfe4_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN(data.dfe4_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI(data.dfe4_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI(112),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_INV_THR_CAL_VAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);
     /* Undo Invertion */
    CSR_COLD_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H);
    CSR_COLD_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV);
    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL);

    if ( cold_fix ) {
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(1),
                VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

        MEPA_MSLEEP(1);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);
    } else {
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(5),
                VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        MEPA_MSLEEP(2);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);
    }

    MEPA_MSLEEP(63);

    if ( cold_fix ) {
        if (!vtss_state->sync_calling_private) {
            CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,&value);
            if(!(value & VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_OFFSCAL_DONE)) {
                VTSS_E("HOST APC Calibration not done on Line for Port %d\n", port_no);
                return VTSS_RC_ERROR;
            }
        }
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);
    }  else {
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);
    }
    /* Apply inversion */
    VTSS_RC(malibu_polarity_swap_set(vtss_state,port_no,FALSE));

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

    return VTSS_RC_OK;
}
/* Host wan settings */
static vtss_rc malibu_host_sd10g_tx_cfg_wan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(23),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0(398458880));

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0(1111490560));

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT(8153),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1(11),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_SPEED,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_DIR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_DIR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(35),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_INP_LOOP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_PAD_LOOP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(0x7DF820),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END(205),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    MEPA_MSLEEP(50);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_host_sd10g_rx_cfg_wan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix)
{

    vtss_phy_10g_serdes_data_t data;
    u8 dfe_offset_h;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.h_media);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_LOOPDRV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0(398458880));

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0(1111490560));

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT(8153),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1(11),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA(data.synth_phase_data),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_CPMD_DIG_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(35),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ(data.ib_rib_adj),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET(data.ld1_offset),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SDET_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ(63),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ);

    if ( eye_fix ) {
        dfe_offset_h = (u8) ((u16)(4 + 19* (data.ib_vscope_h_thres-32)) / 8); // integer based calculation
    } else {
        dfe_offset_h = 19;
    }
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H(dfe_offset_h),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB(data.c_adj_ib),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0(data.c_adj_es0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1(data.c_adj_es1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2(data.c_adj_es2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE(data.ib_eqz_l_mode),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(data.ib_vscope_h_thres),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(data.ib_vscope_l_thres),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES(data.ib_main_thres),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SET_SDET);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL(data.ib_sig_sel),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_DRV);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_REC);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            data.ib_ena_400_inp,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_ENA_400_INP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE(data.ib_tc_dfe),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ(data.ib_tc_eq),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_CPMD_SWAP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END(205),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    MEPA_MSLEEP(50);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_host_sd10g_apc_cfg_wan10g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL cold_fix)
{
    vtss_phy_10g_serdes_data_t data;
    u32 value=0;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.h_media);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_HML_ERRCORR_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES(8),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_AUTO_RESTART);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME(50000),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE);

    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_ld_ctrl) {
        VTSS_I("Setting APC Host ld_lev_ini to %x\n", 
            vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_eqz_ld_ctrl);
            data.ld_lev_ini =
                 vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_eqz_ld_ctrl;            
    }

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI(data.ld_lev_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK(65535),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK(1000),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL(65535),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL(1000),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL(data.eqz_offs_range_sel),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX(data.eqz_offs_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN(data.eqz_offs_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI(128),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX(data.eqz_agc_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI(data.eqz_agc_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(data.l_chng_mod),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_RANGE_SEL(data.eqz_l_range_sel),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX(data.eqz_l_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI(data.eqz_l_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN(data.eqz_l_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(data.c_chng_mod),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_RANGE_SEL(23),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI(data.eqz_c_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN(data.eqz_c_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX(data.dfe1_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN(data.dfe1_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI(data.dfe1_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX(data.dfe2_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN(data.dfe2_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI(data.dfe2_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX(data.dfe3_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN(data.dfe3_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI(data.dfe3_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX(data.dfe4_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN(data.dfe4_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI(data.dfe4_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE);
    
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI(112),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_INV_THR_CAL_VAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);
     /* Undo Invertion */
    CSR_COLD_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H);
    CSR_COLD_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV);
    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL);
    if ( cold_fix ) {
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(1),
                VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

        MEPA_MSLEEP(1);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);
    } else {
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(5),
                VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        MEPA_MSLEEP(2);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);
    }
    MEPA_MSLEEP(65);
    if ( cold_fix ) {
        if (!vtss_state->sync_calling_private) {
            CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,&value);
            if(!(value & VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_OFFSCAL_DONE)) {
                VTSS_E("HOST APC Calibration not done on Line for Port %d\n", port_no);
                return VTSS_RC_ERROR;
            }
        }
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);
    } else {
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);
    }
    /* Apply inversion */
    VTSS_RC(malibu_polarity_swap_set(vtss_state,port_no,FALSE));

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

    return VTSS_RC_OK;
}
/* Host 1G settings */
static vtss_rc malibu_host_sd10g_tx_cfg_lan1g(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_SBUS_TX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_OB);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(23),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPEED_SEL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG3_SYNTH_FREQM_0(0));

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG4_SYNTH_FREQN_0(0));

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT(8192),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1(8),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CS_SPEED);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_ENA_SYNC_UNIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_DIR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_DS_SPEED);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_DIR);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(35),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_INP_LOOP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_EN_PAD_LOOP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_LEV_SHFT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(0x820820),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END(512),
            VTSS_M_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SEL_IFW);

    MEPA_MSLEEP(50);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_host_sd10g_rx_cfg_lan1g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix)
{

    vtss_phy_10g_serdes_data_t data;
    u8 dfe_offset_h;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.h_media);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    MEPA_MSLEEP(1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_LOOPDRV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_EN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_SBUS_RX_CFG_SBUS_BIAS_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_CLKDIV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VBULK_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SAM_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_CML_CURR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_BIAS_ADJ);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_DIS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPARE_POOL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_OFF_COMP_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPEED_SEL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_SPEED_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FBDIV_SEL);

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG3_SYNTH_FREQM_0(0));

    CSR_WARM_WR(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG4_SYNTH_FREQN_0(0));

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_HI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT(8192),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQM_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1(8),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQN_1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_FB_STEP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_STEP);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I2_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_CONV_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_SYNC_CTRL_SYNTH_SC_SYNC_TIMER_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA(64),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_CPMD_DIG_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_P_STEP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_I1_STEP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1E);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I1M);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_MAX0);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_LIM);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG1_FSEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(35),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ(data.ib_rib_adj),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_RIB_ADJ);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_EQZ_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_LD_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_IA_SDET_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET(data.ld1_offset),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_EQ_LD1_OFFSET);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_LDSD_DIVSEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_IA_SDET_LEVEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SDET_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_OFFS_VALUE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_CALMUX_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_SAM_OFFS_ADJ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG6_IB_AUTO_AGC_ADJ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ_S);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ(63),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_GAIN_ADJ);

    if ( eye_fix ) {
        dfe_offset_h = (u8) ((u16)(4 + 19* (data.ib_vscope_h_thres-32)) / 8); // integer based calculation
    } else {
        dfe_offset_h = 19;
    }

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H(dfe_offset_h),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG7_IB_DFE_OFFSET_H);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_LAT_NEUTRAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB(data.c_adj_ib),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_IB);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0(data.c_adj_es0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES0);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1(data.c_adj_es1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES1);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2(data.c_adj_es2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_ADJ_ES2);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_C_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE(data.ib_eqz_l_mode),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_EQZ_L_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(data.ib_vscope_h_thres),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(data.ib_vscope_l_thres),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES(data.ib_main_thres),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_MAIN_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG3_IB_SET_SDET);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL(data.ib_sig_sel),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_SIG_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_DRV);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_LOOP_REC);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            data.ib_ena_400_inp,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_ENA_400_INP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE(data.ib_tc_dfe),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_DFE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ(data.ib_tc_eq),
            VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG11_IB_TC_EQ);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_A);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_BW_CDR_SEL_B);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_CPMD_SWAP);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_MOEBDIV_CFG0_MOEBDIV_DIS);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VCO_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_VREG18);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_CUR);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES(10),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG2_PLL_LPF_RES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_START_CNT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_SYN_CLK_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_CTRL_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_LOOP_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END(512),
            VTSS_M_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG1_PLLF_REF_CNT_END);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    MEPA_MSLEEP(10);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(4),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_HRATE_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG0_SYNTH_ENA);

    MEPA_MSLEEP(2);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_IF_MODE_SEL);

    MEPA_MSLEEP(50);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_CFG0_PLLF_OOR_RECAL_ENA);

    return VTSS_RC_OK;

}
static vtss_rc malibu_host_sd10g_apc_cfg_lan1g(vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL cold_fix)
{
    vtss_phy_10g_serdes_data_t data;
    u32 value=0;

    malibu_serdes_data_get(&vtss_state->phy_10g_state[port_no].mode,&data,vtss_state->phy_10g_state[port_no].mode.h_media);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_FSM_RECOVER_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_HML_ERRCORR_ENA);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV(3),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_LD_CAL_CFG_CAL_CLK_DIV);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_PAR_DATA_NUM_ONES_THRES);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_NUM_ITERATIONS);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_AUTO_RESTART);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME(50000),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_FSM1_TIMER_CFG_FSM1_OP_TIME);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_PARCTRL_SYNC_CFG_FSM1_OP_MODE);

    if (vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_ld_ctrl) {
        VTSS_I("Setting APC Host ld_lev_ini to %x\n", 
            vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_eqz_ld_ctrl);
            data.ld_lev_ini =
                 vtss_state->phy_10g_state[port_no].mode.serdes_conf.apc_host_eqz_ld_ctrl;            
    }

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI(data.ld_lev_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK(65535),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_DEADTIME_WRK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK(1000),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG0_LD_T_TIMEOUT_WRK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL(65535),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_DEADTIME_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL(1000),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_CFG1_LD_T_TIMEOUT_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_C_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG0_EQZ_L_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK(7),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_OFFS_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK(15),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH(5),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_PAT_MATCH_CFG1_EQZ_AGC_PAT_MATCH);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL(data.eqz_offs_range_sel),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX(data.eqz_offs_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN(data.eqz_offs_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI(128),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX(data.eqz_agc_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI(data.eqz_agc_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(data.l_chng_mod),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI(data.eqz_l_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN(data.eqz_l_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(data.c_chng_mod),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI(data.eqz_c_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN(data.eqz_c_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX(data.dfe1_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN(data.dfe1_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI(data.dfe1_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX(data.dfe2_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN(data.dfe2_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI(data.dfe2_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX(data.dfe3_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN(data.dfe3_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI(data.dfe3_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL(20),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_RANGE_SEL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX(data.dfe4_max),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN(data.dfe4_min),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI(data.dfe4_ini),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE(1),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_SYNC_MODE);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI(0),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI(112),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_INV_THR_CAL_VAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT(31),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT);

    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);
     /* Undo Invertion */
    CSR_COLD_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_M |
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_L |
            VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_INV_H);
    CSR_COLD_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_SER_INV);
    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
            0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_DIR_SEL);
    if ( cold_fix ) {
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(1),
                VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

        MEPA_MSLEEP(1);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);
    } else {
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(5),
                VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);
        MEPA_MSLEEP(2);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);
    }

    MEPA_MSLEEP(161);

    if ( cold_fix ) {
        if (!vtss_state->sync_calling_private) {
            CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,&value);
            if(!(value & VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_OFFSCAL_DONE)) {
                VTSS_E("HOST APC Calibration not done on Line for Port %d\n", port_no);
                return VTSS_RC_ERROR;
            }
        }
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);
    } else {
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);
    }
    /* Apply inversion */
    VTSS_RC(malibu_polarity_swap_set(vtss_state,port_no,FALSE));
    CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(2),
            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);
    return VTSS_RC_OK;
}

static vtss_rc malibu_host_serdes_lan1g (vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix, BOOL cold_fix)
{
    VTSS_RC(malibu_host_sd10g_tx_cfg_lan1g(vtss_state,port_no));
    VTSS_RC(malibu_host_sd10g_rx_cfg_lan1g(vtss_state,port_no, eye_fix));
    VTSS_RC(malibu_host_sd10g_apc_cfg_lan1g(vtss_state,port_no, cold_fix));
     return VTSS_RC_OK;
}
static vtss_rc malibu_host_serdes_lan10g (vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix, BOOL cold_fix)
{
    VTSS_RC(malibu_host_sd10g_tx_cfg_lan10g(vtss_state,port_no));
    VTSS_RC(malibu_host_sd10g_rx_cfg_lan10g(vtss_state,port_no, eye_fix));
    VTSS_RC(malibu_host_sd10g_apc_cfg_lan10g(vtss_state,port_no, cold_fix));
     return VTSS_RC_OK;
}
static vtss_rc malibu_host_serdes_wan10g (vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix, BOOL cold_fix)
{
    VTSS_RC(malibu_host_sd10g_tx_cfg_wan10g(vtss_state,port_no));
    VTSS_RC(malibu_host_sd10g_rx_cfg_wan10g(vtss_state,port_no, eye_fix));
    VTSS_RC(malibu_host_sd10g_apc_cfg_wan10g(vtss_state,port_no, cold_fix));
    return VTSS_RC_OK;
}
static vtss_rc malibu_host_serdes(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{
    BOOL eye_fix = TRUE;
    BOOL cold_fix = TRUE;

    vtss_phy_10g_mode_t *mode = &vtss_state->phy_10g_state[port_no].mode;
    VTSS_I("Malibu host serdes settings REV A port no: %u",port_no);

    switch (mode->oper_mode) {
        case VTSS_PHY_LAN_MODE:
        case VTSS_PHY_LAN_SYNCE_MODE:
        case VTSS_PHY_LAN_MIXED_SYNCE_MODE:
            malibu_host_serdes_lan10g(vtss_state, port_no, eye_fix, cold_fix);
            break;
        case VTSS_PHY_WAN_MODE:
        case VTSS_PHY_WAN_SYNCE_MODE:
        case VTSS_PHY_WAN_MIXED_SYNCE_MODE:
            if (mode->is_host_wan) {
                malibu_host_serdes_wan10g(vtss_state, port_no, eye_fix, cold_fix);
            } else {
                malibu_host_serdes_lan10g(vtss_state, port_no, eye_fix, cold_fix);
            }
            break;
        case VTSS_PHY_1G_MODE:
            malibu_host_serdes_lan1g(vtss_state, port_no, eye_fix, cold_fix);
            break;
        case VTSS_PHY_REPEATER_MODE:
            VTSS_N("port %u repeater rate %u",port_no,mode->rate);
            switch(mode->rate) { 
                case VTSS_RPTR_RATE_10_3125:
                    malibu_host_serdes_lan10g(vtss_state, port_no, eye_fix, cold_fix);
                    break;
                case VTSS_RPTR_RATE_9_9532:
                    malibu_host_serdes_wan10g(vtss_state, port_no, eye_fix, cold_fix);
                    break;
                case VTSS_RPTR_RATE_1_25: 
                    malibu_host_serdes_lan1g(vtss_state, port_no, eye_fix, cold_fix);
                    break;
                case VTSS_RPTR_RATE_10_709:
                    //Call the OTU2 host serdes settings here
                    malibu_repeater_otn_serdes(vtss_state, port_no, TRUE);
                    VTSS_N("port %u host VTSS_RPTR_RATE_10_709", port_no);
                    break;
                case VTSS_RPTR_RATE_11_095727:
                    //Call the OTU2E Serdes Settings here.
                    malibu_repeater_otn_serdes(vtss_state, port_no, TRUE);
                    VTSS_N("port %u host VTSS_RPTR_RATE_11_095727", port_no);
                    break;
                case VTSS_RPTR_RATE_11_05:
                    //Call the OTU1E Serdes Settings
                    malibu_repeater_otn_serdes(vtss_state, port_no, TRUE);
                    VTSS_N("port %u host VTSS_RPTR_RATE_11_05", port_no);
                    break;
                default:
                    VTSS_E("port %u Not supported repeater rate %u", port_no,mode->rate);
                    break;
            }
            break;
        default:
            VTSS_E("Serdes10g mode not supported");
    }
    return VTSS_RC_OK;
}
static vtss_rc malibu_line_serdes_lan1g (vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix, BOOL cold_fix)
{
    VTSS_RC(malibu_line_sd10g_tx_cfg_lan1g(vtss_state,port_no));
    VTSS_RC(malibu_line_sd10g_rx_cfg_lan1g(vtss_state,port_no, eye_fix));
    VTSS_RC(malibu_line_sd10g_apc_cfg_lan1g(vtss_state,port_no, cold_fix));
     return VTSS_RC_OK;
 }
static vtss_rc malibu_line_serdes_wan10g (vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix, BOOL cold_fix)
{
    VTSS_RC(malibu_line_sd10g_tx_cfg_wan10g(vtss_state,port_no));
    VTSS_RC(malibu_line_sd10g_rx_cfg_wan10g(vtss_state,port_no, eye_fix));
    VTSS_RC(malibu_line_sd10g_apc_cfg_wan10g(vtss_state,port_no, cold_fix));
     return VTSS_RC_OK;
 }
static vtss_rc malibu_line_serdes_lan10g (vtss_state_t *vtss_state, vtss_port_no_t port_no, BOOL eye_fix, BOOL cold_fix)
{
    VTSS_RC(malibu_line_sd10g_tx_cfg_lan10g(vtss_state,port_no));
    VTSS_RC(malibu_line_sd10g_rx_cfg_lan10g(vtss_state,port_no, eye_fix));
    VTSS_RC(malibu_line_sd10g_apc_cfg_lan10g(vtss_state,port_no, cold_fix));
     return VTSS_RC_OK;
}
static vtss_rc malibu_line_serdes(vtss_state_t *vtss_state, vtss_port_no_t port_no)
{
    BOOL eye_fix = TRUE;
    BOOL cold_fix = TRUE;
    vtss_phy_10g_mode_t *mode = &vtss_state->phy_10g_state[port_no].mode;
    VTSS_I("Malibu line serdes settings REV A port no: %u" ,port_no);
    switch (mode->oper_mode) {
        case VTSS_PHY_LAN_MODE:
        case VTSS_PHY_LAN_SYNCE_MODE:
        case VTSS_PHY_LAN_MIXED_SYNCE_MODE:
            malibu_line_serdes_lan10g(vtss_state, port_no, eye_fix, cold_fix);
            break;
        case VTSS_PHY_WAN_MODE:
        case VTSS_PHY_WAN_SYNCE_MODE:
        case VTSS_PHY_WAN_MIXED_SYNCE_MODE:
            malibu_line_serdes_wan10g(vtss_state, port_no, eye_fix, cold_fix);
            break;
        case VTSS_PHY_1G_MODE:
            malibu_line_serdes_lan1g(vtss_state, port_no, eye_fix, cold_fix);
            break;
        case VTSS_PHY_REPEATER_MODE:
            VTSS_N("port %u repeater rate %u",port_no,mode->rate);
            switch(mode->rate) {
                case VTSS_RPTR_RATE_10_3125:
                    malibu_line_serdes_lan10g(vtss_state, port_no, eye_fix, cold_fix);
                    VTSS_N("port %u line VTSS_RPTR_RATE_10_3125", port_no);
                    break;
                case VTSS_RPTR_RATE_9_9532:
                    malibu_line_serdes_wan10g(vtss_state, port_no, eye_fix, cold_fix);
                    VTSS_N("port %u line VTSS_RPTR_RATE_9_9532", port_no);
                    break;
                case VTSS_RPTR_RATE_1_25:
                    malibu_line_serdes_lan1g(vtss_state, port_no, eye_fix, cold_fix);
                    VTSS_N("port %u line VTSS_RPTR_RATE_1_25", port_no);
                    break;
                case VTSS_RPTR_RATE_10_709:
                    //call the OTU2 line Serdes Settings here.
                    malibu_repeater_otn_serdes(vtss_state, port_no, FALSE);
                    VTSS_N("port %u line VTSS_RPTR_RATE_10_709", port_no);
                    break;
                case VTSS_RPTR_RATE_11_095727:
                    //Call the OTU2E line Serdes Settings here.
                    malibu_repeater_otn_serdes(vtss_state, port_no, FALSE);
                    VTSS_N("port %u line VTSS_RPTR_RATE_11_095727", port_no);
                    break;
                case VTSS_RPTR_RATE_11_05:
                    //Call the OTU1E Serdes Settings
                    malibu_repeater_otn_serdes(vtss_state, port_no, FALSE);
                    VTSS_N("port %u line VTSS_RPTR_RATE_11_05", port_no);
                    break;
                default:
                    VTSS_E("port %u Not supported repeater rate %u", port_no,mode->rate);
                    break;
            }
            break;
        default:
            VTSS_E("Serdes10g mode not supported");
    }
    return VTSS_RC_OK;
}
//Missing in header files
#define VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG0B  VTSS_IOREG(0x1e, 0, 0x8101) 
#define VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG4A  VTSS_IOREG(0x1e, 0, 0x8108) 
#define VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG2A  VTSS_IOREG(0x1e, 0, 0x8104) 

#define VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG4A  VTSS_IOREG(0x1e, 0, 0x8208) 
#define VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG2A  VTSS_IOREG(0x1e, 0, 0x8204) 

#define VTSS_PLL_REFCK_SRC_HOST_PLL_REFCK_SRC VTSS_IOREG(0x1e, 0, 0x0210)

static vtss_rc malibu_phy_10g_ref_clk_conf(vtss_state_t *vtss_state,vtss_port_no_t port_no,vtss_phy_10g_clk_src_t *clk_src,BOOL is_host)
{
    u8 lcpll_gain;
    u32 i, value;
    if (is_host == TRUE) {
        /* Host Pll configuration */
        if (vtss_state->phy_10g_state[port_no].mode.lref_for_host == FALSE) {
            /* Selecting clock source from Href. Clock */
            CSR_WARM_WRM(port_no,VTSS_PLL_REFCK_SRC_HOST_PLL_REFCK_SRC,
                    0,
                    VTSS_BIT(0));

            /*Enable Input buffer,High amplitude tolerance */
            CSR_WARM_WRM(port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG4A,
                    VTSS_BIT(10)|((clk_src->is_high_amp == TRUE)? 0 : VTSS_BIT(9)),
                    VTSS_BIT(10)|VTSS_BIT(9));
        } else {
            /* Selecting clock source from Lref. Clock */
            CSR_WARM_WRM(port_no,VTSS_PLL_REFCK_SRC_HOST_PLL_REFCK_SRC,
                    VTSS_BIT(0),
                    VTSS_BIT(0));

            /*Disable Input buffer,Low amplitude tolerance */
            CSR_WARM_WRM(port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG4A,
                    ((clk_src->is_high_amp == TRUE)? 0 : VTSS_BIT(9)),
                    VTSS_BIT(10)|VTSS_BIT(9));
        }
        //Following Configuration is for Malibu-A only as Malibu-B+ PLL configuration is done using UTE
        if(malibu_rev_a(vtss_state, port_no)){
            /* Set ENA_VCO_CONTRH to 0 */
            CSR_WARM_WRM(port_no, VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG0A,
                    0,
                    VTSS_F_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG0A_ENA_VCO_CONTRH);

            //VTSS_F_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG0A_ENA_VCO_CONTRH
            CSR_WARM_WRM(port_no, VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG0B,
                    VTSS_F_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG0B_LOOP_BW_RES(14),
                    VTSS_M_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG0B_LOOP_BW_RES);

            CSR_WARM_WRM(port_no, VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG0B,
                    VTSS_F_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG0B_SELBGV820(4),
                    VTSS_M_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG0B_SELBGV820);

            /*Toggle FSM */
            
            for(i=0;i<10;i++)
            {
                VTSS_N("Work around to check the LCPLL Gain on host side, iteration :%d\n", i);
                //             MEPA_MSLEEP(1);
                /* Restart Line LCPLL FSM */
                CSR_COLD_WRM(port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG2A,
                        VTSS_F_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG2A_DISABLE_FSM,
                        VTSS_F_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG2A_DISABLE_FSM);
                CSR_COLD_WRM(port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG2A,
                        0,
                        VTSS_F_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG2A_DISABLE_FSM);
                MEPA_MSLEEP(10);
                /* Clear PLL5G_INTR */
                CSR_WARM_WRM(port_no, VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_INTR,
                        1,
                        VTSS_F_HOST_PLL5G_H_PLL5G_H_PLL5G_INTR_LOCK_STATUS_INTR);
                /* Wait 10ms */
                MEPA_MSLEEP(10);
                CSR_RD(port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1B,&value);
                
                lcpll_gain = VTSS_EXTRACT_BITFIELD(value,0,4);
                if(lcpll_gain > 2 && lcpll_gain < 0xa)
                {
                    break;
                }
                VTSS_N("Restarting the FSM Toggle on host side for Port: %d, Iteration:%d and current gain value:%d\n", port_no, i+1, lcpll_gain);
            }
            if(lcpll_gain < 2 || lcpll_gain > 0xa) {
                VTSS_E("Failed to initialize LCPLL as the gain was too high or low, current gain value for port %d, is : %d",port_no,lcpll_gain);
            }
        }
    } else {
        /* Line Pll Configuration */
        /*Default case */
        /*Selects Lref clock as reference clock at LINE */
        CSR_WARM_WRM(port_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG4A,
                ((clk_src->is_high_amp == TRUE)? 0 : VTSS_BIT(9)),
                VTSS_BIT(9));
        //Following Configuration is for Malibu-A only as Malibu-B+ PLL configuration is done using UTE
        if(malibu_rev_a(vtss_state, port_no)){
            CSR_WARM_WRM(port_no, VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG0A,
                    0,
                    VTSS_F_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG0A_ENA_VCO_CONTRH);

            CSR_WARM_WRM(port_no, VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG0B,
                    VTSS_F_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG0B_LOOP_BW_RES(14),
                    VTSS_M_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG0B_LOOP_BW_RES);

            CSR_WARM_WRM(port_no, VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG0B,
                    VTSS_F_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG0B_SELBGV820(4),
                    VTSS_M_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG0B_SELBGV820);

            /*Toggle FSM */

            for(i=0;i<10;i++)
            {
                VTSS_N("Work around to check the LCPLL Gain , iteration :%d\n", i);
                //             MEPA_MSLEEP(1);
                /* Restart Line LCPLL FSM */
                CSR_COLD_WRM(port_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG2A,
                        VTSS_F_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG2A_DISABLE_FSM,
                        VTSS_F_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG2A_DISABLE_FSM);
                CSR_COLD_WRM(port_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG2A,
                        0,
                        VTSS_F_LINE_PLL5G_L_PLL5G_L_PLL5G_CFG2A_DISABLE_FSM);
                /* Wait 1ms */
                MEPA_MSLEEP(10);
                CSR_RD(port_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1B,&value);

                /* Clear L_PLL5G_INTR  */ 

                CSR_WARM_WRM(port_no, VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_INTR, 
                        1,
                        VTSS_F_LINE_PLL5G_L_PLL5G_L_PLL5G_INTR_LOCK_STATUS_INTR);

                lcpll_gain = VTSS_EXTRACT_BITFIELD(value,0,4);
                if(lcpll_gain > 2 && lcpll_gain < 0xa)
                {
                    break;       
                }  
                VTSS_N("Restarting the FSM Toggle for Port: %d, Iteration:%d and current gain value:%d\n", port_no, i+1, lcpll_gain);
            }
            if(lcpll_gain < 2 || lcpll_gain > 0xa) {
                VTSS_E("Failed to initialize LCPLL as the gain was too high or low, current gain value for port %d, is : %d",port_no,lcpll_gain);
            } 
        }
    }
    return VTSS_RC_OK;
}
static vtss_rc malibu_phy_10g_mode_conf_set(vtss_state_t *vtss_state,
        vtss_port_no_t port_no)
{
    vtss_phy_10g_mode_t *mode = &vtss_state->phy_10g_state[port_no].mode;
    u8 ch_id= vtss_state->phy_10g_state[port_no].channel_id;
    vtss_lane_sync_t lsync_conf;
    vtss_phy_10g_media_t media_type;
    vtss_phy_10g_lane_sync_conf_t lane_sync;
    BOOL macsec_enable = FALSE;
    u32 lcpll_status, apc_status;
    vtss_port_no_t base_port_no = vtss_state->phy_10g_state[port_no].phy_api_base_no;
#if defined(VTSS_FEATURE_MACSEC)
    macsec_enable = vtss_state->macsec_conf[port_no].glb.init.enable;
#endif
    if (mode->rate == VTSS_RPTR_RATE_NONE) {
        mode->rate = VTSS_RPTR_RATE_10_3125;
    }
    VTSS_I("phy_10g_mode_conf_set - %u\n",port_no);
    vtss_state->phy_10g_state[port_no].mode.channel_id = vtss_state->phy_10g_state[port_no].channel_id;
    if (vtss_state->phy_10g_state[port_no].family != VTSS_PHY_FAMILY_MALIBU) {
        VTSS_E("phy_10g_mode_conf_set- chip %x is not of MALIBU family\n",(vtss_state->phy_10g_state[port_no].type));
        return VTSS_RC_ERROR;
    }
    vtss_state->phy_10g_state[port_no].mode.h_ib_conf.apc_bit_mask = 0xff;
    vtss_state->phy_10g_state[port_no].mode.l_ib_conf.apc_bit_mask = 0xff;
    if (vtss_state->sync_calling_private && mal_chip_diff_api_mode(vtss_state, port_no)) {
        /* If during warm start the configured mode is different from chip mode then this must be registered */ 
        VTSS_E("Chip mode is different from API mode, meaning that phy_10g_mode_conf_set() will be performed in COLD mode.");
        vtss_state->sync_calling_private = 0;
        vtss_state->phy_10g_state[port_no].warm_start_reg_changed = TRUE;
    }

    //restoring the BYPASS configuration and some other settings so that Pre-Recorded setup is not affected for MalibuA.
    if(mode->oper_mode != VTSS_PHY_REPEATER_MODE) {
        lsync_conf.enable = FALSE;
        lsync_conf.h_src = 0xf;
        lsync_conf.l_src = 0xf;
        VTSS_RC(malibu_phy_10g_lane_sync_set_internal(vtss_state,port_no,&lsync_conf));
        CSR_WARM_WRM(port_no,
                VTSS_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1,
                0 |
                0 |
                VTSS_BIT(2),
                VTSS_F_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_MODE_EN |
                VTSS_F_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_FIFO_EN |
                VTSS_BIT(2));
        CSR_WARM_WRM(port_no,
                VTSS_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1,
                VTSS_ENCODE_BITFIELD(4,4,4),
                VTSS_ENCODE_BITMASK(4,4));

        CSR_WARM_WRM(port_no,
                VTSS_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1,
                0 |
                0 |
                VTSS_BIT(2),
                VTSS_F_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_MODE_EN |
                VTSS_F_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_FIFO_EN |
                VTSS_BIT(2));
        CSR_WARM_WRM(port_no,
                VTSS_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1,
                VTSS_ENCODE_BITFIELD(4,4,4),
                VTSS_ENCODE_BITMASK(4,4));
        VTSS_I(" NON-Repeater mode being configured ");
    }
    CSR_WARM_WRM(port_no, VTSS_GLOBAL_SPI_CTRL_SPI_CTRL, 1, 0x1);
    if (malibu_rev_a(vtss_state, port_no)) {

        //Setting SYNTH_FREQ_MULT_BYP to 0 as the Pre-recorded settings do not use this configuration and it causes port-up issue (Only required for Malibu Rev-A
        CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_BYP);

        CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_BYP);

        CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG1_SYNTH_FREQ_MULT_BYP);

        CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG1_SYNTH_FREQ_MULT_BYP);
    }

    // Disable traffic and put MAC's in reset
    VTSS_RC(phy_10g_mac_conf(vtss_state, port_no, 0, macsec_enable));

    if (!vtss_state->sync_calling_private) {
        /* Block level reset, not using WRM here because all bits in this register are One-shot */
        CSR_COLD_WR(port_no,VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1 ,VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_1G_PCS_INGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_FIFO_INGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_LINE_10G_PCS_INGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_LINE_1G_PCS_INGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_WIS_INGR_RESET | 
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_LINE_PMA_INGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_10G_PCS_INGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_PMA_INGR_RESET);
        MEPA_MSLEEP(10);
        CSR_COLD_WR(port_no,VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2 ,VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_PMA_EGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_10G_PCS_EGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_1G_PCS_EGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_LINE_10G_PCS_EGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_LINE_1G_PCS_EGR_RESET | 
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_WIS_EGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_LINE_PMA_EGR_RESET);
        MEPA_MSLEEP(10);
#if defined(VTSS_FEATURE_MACSEC)
        /* Reset the mac configuration if macsec disabled */
        if (!vtss_state->macsec_conf[port_no].glb.init.enable) {
            CSR_COLD_WR(port_no,VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1,VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_MAC_INGR_RESET |
                    VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_LINE_MAC_INGR_RESET);
            CSR_COLD_WR(port_no,VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2 ,VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_MAC_EGR_RESET |
                    VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_LINE_MAC_EGR_RESET);
        }
#else
        CSR_COLD_WR(port_no,VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1,VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_MAC_INGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_LINE_MAC_INGR_RESET);
        CSR_COLD_WR(port_no,VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2 ,VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_MAC_EGR_RESET |
                VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_LINE_MAC_EGR_RESET);
#endif 

#if defined(VTSS_FEATURE_MACSEC)
        if (is_macsec_capable(vtss_state, port_no)) {
            /* Disable MacSec block during bringup/speed change */
            VTSS_RC(vtss_macsec_speed_conf_priv(vtss_state, port_no, 0, 0));
        }
#endif
    }
    if (malibu_rev_a(vtss_state, port_no)) {
        //vtss_state->phy_10g_state[port_no].mode
        if  (vtss_state->phy_10g_state[base_port_no].mode.is_init == TRUE) {
            if (!(vtss_state->sync_calling_private)) {
                VTSS_I (" PHY initialization being done on port %u",port_no);
                VTSS_RC(malibu_phy_10g_ref_clk_conf(vtss_state, base_port_no , &(mode->l_clk_src),FALSE));
                VTSS_RC(malibu_phy_10g_ref_clk_conf(vtss_state, base_port_no ,&(mode->h_clk_src),TRUE));
            }
            /* As PLL setup is being called only for RevB version */
            vtss_state->phy_10g_state[base_port_no].mode.is_init = FALSE;    
        }
    }
    /*setting the serdes status bit to zero so that the serdes setup can be called, ignored in case of warm start*/
    CSR_COLD_WRM(port_no, VTSS_HOST_PORT_SERDES_SETUP_STATUS,
            0,
            VTSS_F_HOST_PORT_SERDES_SETUP_STATUS_BIT);
    CSR_COLD_WRM(port_no, VTSS_LINE_PORT_SERDES_SETUP_STATUS,
            0,
            VTSS_F_LINE_PORT_SERDES_SETUP_STATUS_BIT);

    switch (mode->oper_mode) {
        case VTSS_PHY_LAN_MODE:
            vtss_state->phy_10g_state[port_no].srefclk.enable = FALSE;
            vtss_state->phy_10g_state[port_no].srefclk.freq = VTSS_PHY_10G_SREFCLK_156_25;
            break;
        case VTSS_PHY_WAN_MODE:
            vtss_state->phy_10g_state[port_no].srefclk.enable = FALSE;
            vtss_state->phy_10g_state[port_no].srefclk.freq = VTSS_PHY_10G_SREFCLK_155_52;
            break;
        case VTSS_PHY_1G_MODE:
            vtss_state->phy_10g_state[port_no].srefclk.enable = FALSE;
            vtss_state->phy_10g_state[port_no].srefclk.freq = VTSS_PHY_10G_SREFCLK_125_00;
            break;
        case VTSS_PHY_LAN_SYNCE_MODE:
        case VTSS_PHY_LAN_MIXED_SYNCE_MODE:
            if (mode->hl_clk_synth) {
                vtss_state->phy_10g_state[port_no].srefclk.enable = FALSE;
            } else {
                vtss_state->phy_10g_state[port_no].srefclk.enable = TRUE;
            }
            vtss_state->phy_10g_state[port_no].srefclk.freq = VTSS_PHY_10G_SREFCLK_156_25;
            break;
        case VTSS_PHY_WAN_SYNCE_MODE:
        case VTSS_PHY_WAN_MIXED_SYNCE_MODE:
            if (mode->hl_clk_synth) {
                vtss_state->phy_10g_state[port_no].srefclk.enable = FALSE;
            } else {
                vtss_state->phy_10g_state[port_no].srefclk.enable = TRUE;
                VTSS_D("Dual clock WAN mode %u\n",port_no);
            }
            vtss_state->phy_10g_state[port_no].srefclk.freq = VTSS_PHY_10G_SREFCLK_155_52;
            break;
        case VTSS_PHY_REPEATER_MODE:
            if (mode->hl_clk_synth) {
                vtss_state->phy_10g_state[port_no].srefclk.enable = FALSE;
            } else {
                vtss_state->phy_10g_state[port_no].srefclk.enable = TRUE;
            }
            break;
    }


    switch (mode->oper_mode) {
        case VTSS_PHY_LAN_MODE:
        case VTSS_PHY_LAN_SYNCE_MODE:
        case VTSS_PHY_LAN_MIXED_SYNCE_MODE:
            CSR_WARM_WRM(port_no,VTSS_LINE_PMA_DATAPATH_CONTROL_DATAPATH_MODE,
                    0,
                    VTSS_F_LINE_PMA_DATAPATH_CONTROL_DATAPATH_MODE_ETH_1G_ENA);
            VTSS_I(" LAN mode being configured ");
            break;
        case VTSS_PHY_WAN_MODE:
        case VTSS_PHY_WAN_SYNCE_MODE:
        case VTSS_PHY_WAN_MIXED_SYNCE_MODE:
            CSR_WARM_WRM(port_no,VTSS_LINE_PMA_DATAPATH_CONTROL_DATAPATH_MODE,
                    0,
                    VTSS_F_LINE_PMA_DATAPATH_CONTROL_DATAPATH_MODE_ETH_1G_ENA);
            CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_GPIO_CFG_STAT_CH0_TOSI_SDAT_CFG,
                    VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH0_TOSI_SDAT_CFG_CH0_TOSI_SDAT_SEL(63),
                    VTSS_M_GPIO_CTRL_GPIO_CFG_STAT_CH0_TOSI_SDAT_CFG_CH0_TOSI_SDAT_SEL);
            CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_GPIO_CFG_STAT_CH1_TOSI_SDAT_CFG,
                    VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH1_TOSI_SDAT_CFG_CH1_TOSI_SDAT_SEL(63),
                    VTSS_M_GPIO_CTRL_GPIO_CFG_STAT_CH1_TOSI_SDAT_CFG_CH1_TOSI_SDAT_SEL);
            CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_GPIO_CFG_STAT_CH2_TOSI_SDAT_CFG,
                    VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH2_TOSI_SDAT_CFG_CH2_TOSI_SDAT_SEL(63),
                    VTSS_M_GPIO_CTRL_GPIO_CFG_STAT_CH2_TOSI_SDAT_CFG_CH2_TOSI_SDAT_SEL);
            CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_GPIO_CFG_STAT_CH3_TOSI_SDAT_CFG,
                    VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH3_TOSI_SDAT_CFG_CH3_TOSI_SDAT_SEL(63),
                    VTSS_M_GPIO_CTRL_GPIO_CFG_STAT_CH3_TOSI_SDAT_CFG_CH3_TOSI_SDAT_SEL);
            CSR_WARM_WRM(port_no, VTSS_WIS_WIS_Control_2_WIS_CTRL2,
                    VTSS_F_WIS_WIS_Control_2_WIS_CTRL2_WAN_MODE,
                    VTSS_F_WIS_WIS_Control_2_WIS_CTRL2_WAN_MODE);
            VTSS_I(" WAN mode being configured ");
            break;
        case VTSS_PHY_1G_MODE:

            /* enter 1G mode */
            CSR_WARM_WRM(port_no,VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG_PCS_ENA,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG_PCS_ENA);
            CSR_WARM_WRM(port_no,VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_SD_CFG,
                    0,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_SD_CFG_SD_ENA);
            CSR_WARM_WRM(port_no,VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG,
                    VTSS_F_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG_PCS_ENA,
                    VTSS_F_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG_PCS_ENA);
            CSR_WARM_WRM(port_no,VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_SD_CFG,
                    0,
                    VTSS_F_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_SD_CFG_SD_ENA);
            CSR_WARM_WRM(port_no,VTSS_LINE_PMA_DATAPATH_CONTROL_DATAPATH_MODE,
                    VTSS_F_LINE_PMA_DATAPATH_CONTROL_DATAPATH_MODE_ETH_1G_ENA,
                    VTSS_F_LINE_PMA_DATAPATH_CONTROL_DATAPATH_MODE_ETH_1G_ENA);
            VTSS_I(" 1G mode being configured ");
            break;
        case  VTSS_PHY_REPEATER_MODE:
            CSR_WARM_WRM(port_no,
                    VTSS_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1,
                    VTSS_F_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_MODE_EN | 
                    VTSS_F_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_FIFO_EN |
                    VTSS_BIT(2),
                    VTSS_F_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_MODE_EN | 
                    VTSS_F_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_FIFO_EN |
                    VTSS_BIT(2));
            CSR_WARM_WRM(port_no,
                    VTSS_LINE_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1,
                    VTSS_ENCODE_BITFIELD(8,4,4),
                    VTSS_ENCODE_BITMASK(4,4));

            CSR_WARM_WRM(port_no,
                    VTSS_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1,
                    VTSS_F_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_MODE_EN |
                    VTSS_F_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_FIFO_EN |
                    VTSS_BIT(2),
                    VTSS_F_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_MODE_EN |
                    VTSS_F_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1_REPEATER_FIFO_EN |
                    VTSS_BIT(2));
            CSR_WARM_WRM(port_no,
                    VTSS_HOST_PMA_BYPASS_CONFIG_STAT_BYPASS_CFG1,
                    VTSS_ENCODE_BITFIELD(8,4,4),
                    VTSS_ENCODE_BITMASK(4,4));
            VTSS_I(" Repeater mode being configured ");
            break;
        default:
            break;
    }
    media_type = vtss_state->phy_10g_state[port_no].mode.l_media;
    VTSS_I("Media type in Line direction %u",vtss_state->phy_10g_state[port_no].mode.l_media);
    switch(media_type) {
        case VTSS_MEDIA_TYPE_SR:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_SR");
            break;
        case VTSS_MEDIA_TYPE_SR2:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_SR2");
            break;
        case VTSS_MEDIA_TYPE_KR:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_KR");
            break;
        case VTSS_MEDIA_TYPE_ZR:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_ZR");
            break;
        case VTSS_MEDIA_TYPE_DAC:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_DAC");
            break;
        case VTSS_MEDIA_TYPE_SR_SC:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_SR_SC");
            break;
        case VTSS_MEDIA_TYPE_SR2_SC:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_SR2_SC");
            break;
        case VTSS_MEDIA_TYPE_KR_SC:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_KR_SC");
            break;
        case VTSS_MEDIA_TYPE_ZR_SC:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_ZR_SC");
            break;
        case VTSS_MEDIA_TYPE_ZR2_SC:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_ZR2_SC");
            break;
        case VTSS_MEDIA_TYPE_DAC_SC:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_DAC_SC");
            break;

        default:
            VTSS_E("LINE media type not supported");
    }
    VTSS_I("Media type in Host direction %u",vtss_state->phy_10g_state[port_no].mode.h_media);
    media_type = vtss_state->phy_10g_state[port_no].mode.h_media;
    switch(media_type) {
        case VTSS_MEDIA_TYPE_SR:
            VTSS_I("HOST Malibu serdes media type VTSS_MEDIA_TYPE_SR");
            break;
        case VTSS_MEDIA_TYPE_SR2:
            VTSS_I("HOST Malibu serdes media type VTSS_MEDIA_TYPE_SR2");
            break;
        case VTSS_MEDIA_TYPE_KR:
            VTSS_I("HOST Malibu serdes media type VTSS_MEDIA_TYPE_KR");
            break;
        case VTSS_MEDIA_TYPE_ZR:
            VTSS_I("HOST Malibu serdes media type VTSS_MEDIA_TYPE_ZR");
            break;
        case VTSS_MEDIA_TYPE_DAC:
            VTSS_I("HOST Malibu serdes media type VTSS_MEDIA_TYPE_DAC");
            break;
        case VTSS_MEDIA_TYPE_SR_SC:
            VTSS_I("HOST Malibu serdes media type VTSS_MEDIA_TYPE_SR_SC");
            break;
        case VTSS_MEDIA_TYPE_SR2_SC:
            VTSS_I("HOST Malibu serdes media type VTSS_MEDIA_TYPE_SR2_SC");
            break;
        case VTSS_MEDIA_TYPE_KR_SC:
            VTSS_I("HOST Malibu serdes media type VTSS_MEDIA_TYPE_KR_SC");
            break;
        case VTSS_MEDIA_TYPE_ZR_SC:
            VTSS_I("HOST Malibu serdes media type VTSS_MEDIA_TYPE_ZR_SC");
            break;
        case VTSS_MEDIA_TYPE_ZR2_SC:
            VTSS_I("LINE Malibu serdes media type VTSS_MEDIA_TYPE_ZR2_SC");
            break;
        case VTSS_MEDIA_TYPE_DAC_SC:
            VTSS_I("HOST Malibu serdes media type VTSS_MEDIA_TYPE_DAC_SC");
            break;

        default:
            VTSS_E("HOST media type not supported");
    }

    if(malibu_rev_a(vtss_state, port_no)){
        CSR_RD(base_port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS0,&lcpll_status);
        VTSS_I("Host PLL Status 0 is 0x%x for port %u \n", lcpll_status, port_no);
        CSR_RD(base_port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1A,&lcpll_status);
        VTSS_I("Host PLL Status 1A is 0x%x for port %u \n", lcpll_status, port_no);
        CSR_RD(base_port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1B,&lcpll_status);
        VTSS_I("Host PLL Status 1B is 0x%x for port %u \n", lcpll_status, port_no);
        CSR_RD(base_port_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS0,&lcpll_status);
        VTSS_I("Line PLL Status 0 is 0x%x for port %u \n", lcpll_status, port_no);
        CSR_RD(base_port_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1A,&lcpll_status);
        VTSS_I("Line PLL Status 1A is 0x%x for port %u \n", lcpll_status, port_no);
        CSR_RD(base_port_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1B,&lcpll_status);
        VTSS_I("Line PLL Status 1B is 0x%x for port %u \n", lcpll_status, port_no);

        VTSS_RC(malibu_line_serdes(vtss_state,port_no));
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0, &apc_status);
        VTSS_I("Line APC Common CFG0 is 0x%x for port %u \n", apc_status, port_no);
        VTSS_RC(malibu_host_serdes(vtss_state,port_no));
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0, &apc_status);
        VTSS_I("Host APC Common CFG0 is 0x%x for port %u \n", apc_status, port_no);
        VTSS_I("Serdes config complete for Malibu A port %u\n",port_no);
    } else {
        vtss_pll5g_setup_args_t conf_pll5g;
        vtss_pll5g_setup_args_init(&conf_pll5g);
        conf_pll5g.chip_name = VTSS_PLL5G_CHIP_MALIBU_B;
        conf_pll5g.side = VTSS_LINE;
        conf_pll5g.f_ref_kHz = 156250;

        VTSS_I("Serdes config complete for Malibu B port %u\n",port_no);
        if (!(vtss_state->sync_calling_private)) {
            if (vtss_state->phy_10g_state[base_port_no].mode.is_init == TRUE) {
                VTSS_I("vtss_malibu_b_line_pll5g_setup port_no %u\n", port_no);
                vtss_malibu_b_line_pll5g_setup(vtss_state,conf_pll5g, base_port_no);
                conf_pll5g.side = VTSS_HOST;
                vtss_malibu_b_host_pll5g_setup(vtss_state,conf_pll5g, base_port_no);    
            }
        }

        CSR_RD( vtss_state->phy_10g_state[port_no].phy_api_base_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS0,&lcpll_status);
        VTSS_I("Host PLL Status 0 is 0x%x for port %u \n", lcpll_status, port_no);
        CSR_RD(vtss_state->phy_10g_state[port_no].phy_api_base_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1A,&lcpll_status);
        VTSS_I("Host PLL Status 1A is 0x%x for port %u \n", lcpll_status, port_no);
        CSR_RD(vtss_state->phy_10g_state[port_no].phy_api_base_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1B,&lcpll_status);
        VTSS_I("Host PLL Status 1B is 0x%x for port %u \n", lcpll_status, port_no);
        CSR_RD(vtss_state->phy_10g_state[port_no].phy_api_base_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS0,&lcpll_status);
        VTSS_I("Line PLL Status 0 is 0x%x for port %u \n", lcpll_status, port_no);
        CSR_RD(vtss_state->phy_10g_state[port_no].phy_api_base_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1A,&lcpll_status);
        VTSS_I("Line PLL Status 1A is 0x%x for port %u \n", lcpll_status, port_no);
        CSR_RD(vtss_state->phy_10g_state[port_no].phy_api_base_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1B,&lcpll_status);
        VTSS_I("Line PLL Status 1B is 0x%x for port %u \n", lcpll_status, port_no);

        VTSS_RC(malibu_b_line_serdes(vtss_state, port_no));
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0, &apc_status);
        VTSS_I("Line APC Common CFG0 is 0x%x for port %u \n", apc_status, port_no);
        VTSS_RC(malibu_b_host_serdes(vtss_state, port_no));
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0, &apc_status);
        VTSS_I("Host APC Common CFG0 is 0x%x for port %u \n", apc_status, port_no);

        /* Application specific PLL changes */
        if (!(vtss_state->sync_calling_private)) {
            if (vtss_state->phy_10g_state[base_port_no].mode.is_init == TRUE) {
                if(vtss_state->phy_10g_state[vtss_state->phy_10g_state[port_no].phy_api_base_no].mode.lref_for_host == FALSE) {
                    CSR_WARM_WRM(port_no,VTSS_PLL_REFCK_SRC_HOST_PLL_REFCK_SRC,
                            0,
                            VTSS_BIT(0));
                }
                CSR_WARM_WRM(base_port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG4A,
                        VTSS_BIT(10),
                        VTSS_BIT(10));
                /*Toggle FSM */
                CSR_COLD_WRM(base_port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG2A,
                        VTSS_BIT(1),
                        VTSS_BIT(1));
                CSR_COLD_WRM(base_port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_CFG2A,
                        0,
                        VTSS_BIT(1));
            }
            vtss_state->phy_10g_state[base_port_no].mode.is_init = FALSE;
        }
    }

    MEPA_MSLEEP(10);

    ///*Configure power */
    VTSS_RC(malibu_phy_10g_power_set(vtss_state, port_no));

    ///* Apply ref clock and recovered clock outputs.  */
    if (mode->oper_mode == VTSS_PHY_LAN_SYNCE_MODE || mode->oper_mode == VTSS_PHY_WAN_MIXED_SYNCE_MODE ||
            mode->oper_mode == VTSS_PHY_LAN_MIXED_SYNCE_MODE || mode->oper_mode == VTSS_PHY_WAN_SYNCE_MODE ||
            mode->oper_mode == VTSS_PHY_1G_MODE) {
        VTSS_RC(malibu_phy_10g_srefclk_set(vtss_state, port_no));
    }

    VTSS_RC(phy_10g_kr_conf_init(vtss_state, port_no));
    if (mode->oper_mode == VTSS_PHY_1G_MODE) {
        // Clear all Interrupts
        CSR_WARM_WR(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKA_1, 0);
        CSR_WARM_WR(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKB_1, 0);
        CSR_WARM_WR(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKA_2, 0);
        CSR_WARM_WR(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKB_2, 0);
        CSR_WARM_WR(port_no, VTSS_WIS_EWIS_Interrupt_Mask_3_EWIS_INTR_MASKA_3, 0);
        CSR_WARM_WR(port_no, VTSS_WIS_EWIS_Interrupt_Mask_3_EWIS_INTR_MASKB_3, 0);
    }
    /* Block level reset, not using WRM here because all bits in this register are One-shot */
    CSR_COLD_WR(port_no, VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1,
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_XPT_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_10G_PCS_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_1G_PCS_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_WIS_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_LINE_10G_PCS_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_LINE_1G_PCS_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_MAC_INGR_RESET);

    MEPA_MSLEEP(10);

    CSR_COLD_WR(port_no, VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1,
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_FIFO_INGR_RESET);

    CSR_COLD_WR(port_no, VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2,
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_XPT_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_10G_PCS_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_1G_PCS_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_WIS_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_LINE_10G_PCS_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_LINE_1G_PCS_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_MAC_EGR_RESET);

    MEPA_MSLEEP(10);

    CSR_COLD_WR(port_no, VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2,
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_FIFO_EGR_RESET);

    if (mode->oper_mode == VTSS_PHY_REPEATER_MODE) {
        lsync_conf.enable = TRUE;
        lsync_conf.h_src = ch_id; 
        lsync_conf.l_src = ch_id + 4;
        VTSS_RC(malibu_phy_10g_lane_sync_set_internal(vtss_state,port_no,&lsync_conf));
    } else if (mode->oper_mode == VTSS_PHY_1G_MODE) {
#if defined(VTSS_FEATURE_MACSEC)
        if (!vtss_state->macsec_conf[port_no].glb.init.enable)
#endif
        {
            CSR_COLD_WR(port_no,VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1,
                    VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_MAC_INGR_RESET |
                    VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_LINE_MAC_INGR_RESET);
            CSR_COLD_WR(port_no,VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2 ,
                    VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_MAC_EGR_RESET |
                    VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_LINE_MAC_EGR_RESET);
            MEPA_MSLEEP(10);
        }
        if (malibu_rev_a(vtss_state, port_no)) {
            lane_sync.enable = TRUE;
            lane_sync.rx_macro = VTSS_PHY_10G_RX_MACRO_HOST;
            lane_sync.tx_macro = VTSS_PHY_10G_TX_MACRO_HOST;
            lane_sync.rx_ch = vtss_state->phy_10g_state[port_no].channel_id;
            lane_sync.tx_ch = vtss_state->phy_10g_state[port_no].channel_id;
            vtss_state->phy_10g_state[port_no].lane_sync = lane_sync;
            VTSS_RC(malibu_phy_10g_lane_sync_set(vtss_state, port_no));
        }
    } else if (mode->oper_mode == VTSS_PHY_LAN_MODE || mode->oper_mode == VTSS_PHY_WAN_MODE) {
        /* Disable Lane sync */
        lane_sync.enable = FALSE;
        lane_sync.rx_macro = VTSS_PHY_10G_RX_MACRO_HOST;
        lane_sync.tx_macro = VTSS_PHY_10G_TX_MACRO_HOST;
        lane_sync.rx_ch = vtss_state->phy_10g_state[port_no].channel_id;
        lane_sync.tx_ch = vtss_state->phy_10g_state[port_no].channel_id;
        vtss_state->phy_10g_state[port_no].lane_sync = lane_sync;
        VTSS_RC(malibu_phy_10g_lane_sync_set(vtss_state, port_no));
    }
#if defined(VTSS_FEATURE_MACSEC)
    if (is_macsec_capable(vtss_state, port_no)) {
        /* Enable 256-bit key capabilty */
        CSR_WARM_WRM(PHY_BASE_PORT(port_no), VTSS_ENCRPT_GLOBAL_FRC_DIS, 0, VTSS_F_ENCRPT_GLOBAL_FRC_DIS_FRC_256KEY_DIS);
        VTSS_RC(vtss_macsec_speed_conf_priv(vtss_state, port_no, 1, 1));
    }
#endif
    if (macsec_enable || (mode->oper_mode == VTSS_PHY_1G_MODE)) {
        VTSS_RC(phy_10g_mac_conf(vtss_state, port_no, 1, macsec_enable));
    }
    return VTSS_RC_OK;
}
static vtss_rc malibu_phy_10g_global_reset(struct vtss_state_s *vtss_state,
                                           const vtss_port_no_t port_no)
{

    CSR_COLD_WR(port_no, VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1,
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_XPT_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_10G_PCS_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_1G_PCS_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_WIS_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_LINE_10G_PCS_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_LINE_1G_PCS_INGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_HOST_MAC_INGR_RESET);


    MEPA_MSLEEP(10);
    CSR_COLD_WR(port_no, VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1,
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET1_FIFO_INGR_RESET);

    CSR_COLD_WR(port_no, VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2,
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_XPT_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_10G_PCS_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_1G_PCS_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_WIS_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_LINE_10G_PCS_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_LINE_1G_PCS_EGR_RESET |
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_HOST_MAC_EGR_RESET);


    MEPA_MSLEEP(10);

    CSR_COLD_WR(port_no, VTSS_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2,
            VTSS_F_LINE_PMA_BLOCK_LEVEL_RESET_BLOCK_LEVEL_RESET2_FIFO_EGR_RESET);

    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_handle_gpio_input(struct vtss_state_s *vtss_state,
        const vtss_port_no_t             port_no,
        const vtss_gpio_10g_no_t    gpio_no) {
    vtss_gpio_10g_input_t gpio_input = vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].input;
    u16 ch_id = vtss_state->phy_10g_state[port_no].channel_id;
    VTSS_I("Port %u, GPIO  = %u, input %u,channel id %u",
            port_no,gpio_no,gpio_input,ch_id);
    switch (gpio_input) {
        case VTSS_10G_GPIO_INPUT_LINE_LOPC:
            CSR_WARM_WRM(port_no,CHNLx_LINE_LOPC_INPUT(ch_id),
                    VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH0_LINE_LOPC_CFG_CH0_LINE_LOPC_SEL(gpio_no)|
                    VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH0_LINE_LOPC_CFG_CH0_LINE_LOPC_INV,
                    VTSS_M_GPIO_CTRL_GPIO_CFG_STAT_CH0_LINE_LOPC_CFG_CH0_LINE_LOPC_SEL|
                    VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH0_LINE_LOPC_CFG_CH0_LINE_LOPC_INV);
            break;
        case VTSS_10G_GPIO_INPUT_HOST_LOPC:
            CSR_WARM_WRM(port_no,CHNLx_HOST_LOPC_INPUT(ch_id),
                    VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH0_HOST_LOPC_CFG_CH0_HOST_LOPC_INV |
                    VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH0_HOST_LOPC_CFG_CH0_HOST_LOPC_SEL(gpio_no),
                    VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_CH0_HOST_LOPC_CFG_CH0_HOST_LOPC_INV |
                    VTSS_M_GPIO_CTRL_GPIO_CFG_STAT_CH0_HOST_LOPC_CFG_CH0_HOST_LOPC_SEL);
            break;
        default:
            break;
    }
    return VTSS_RC_OK;
}
static vtss_rc malibu_phy_10g_led_conf_set(struct vtss_state_s *vtss_state,
        const vtss_port_no_t             port_no,
        const vtss_gpio_10g_no_t    gpio_no) {

    vtss_gpio_10g_led_conf_t *led_config = &vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].led_conf;
    vtss_gpio_10g_led_mode_t led_mode = led_config->mode;
    vtss_gpio_10g_led_blink_t blink_intrvl = led_config->blink;
    u8 value = 0;

    VTSS_I("port %u gpio %u ledmode %u , blink %u",port_no ,gpio_no ,led_mode ,blink_intrvl);
    if (led_mode != VTSS_10G_GPIO_LED_NONE) {
        if (led_mode == VTSS_10G_GPIO_LED_TX_LINK_STATUS  ||
            led_mode == VTSS_10G_GPIO_LED_TX_LINK_TX_DATA ||
            led_mode == VTSS_10G_GPIO_LED_TX_LINK_TX_RX_DATA) {
            /* Line Tx */
            value = led_mode - VTSS_10G_GPIO_LED_TX_LINK_STATUS;
            CSR_WARM_WRM(port_no,VTSS_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2,
                    VTSS_F_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2_TX_LED_MODE(value),
                    VTSS_M_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2_TX_LED_MODE);
            if (blink_intrvl != VTSS_10G_GPIO_LED_BLINK_NONE) {
                CSR_WARM_WRM(port_no,VTSS_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2,
                        blink_intrvl ? VTSS_F_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2_TX_LED_BLINK_TIME : 0,
                        VTSS_F_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2_TX_LED_BLINK_TIME);
            }
        } else if (led_mode ==  VTSS_10G_GPIO_LED_RX_LINK_STATUS  ||
                   led_mode ==  VTSS_10G_GPIO_LED_RX_LINK_RX_DATA ||
                   led_mode == VTSS_10G_GPIO_LED_RX_LINK_TX_RX_DATA) {
            /* Line Rx */
            value = led_mode - VTSS_10G_GPIO_LED_RX_LINK_STATUS;
            CSR_WARM_WRM(port_no,VTSS_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2,
                    VTSS_F_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2_RX_LED_MODE(value),
                    VTSS_M_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2_RX_LED_MODE);
            if (blink_intrvl != VTSS_10G_GPIO_LED_BLINK_NONE) {
                CSR_WARM_WRM(port_no,VTSS_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2,
                        blink_intrvl ? VTSS_F_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2_RX_LED_BLINK_TIME : 0,
                        VTSS_F_LINE_PMA_Vendor_Specific_PMA_Control_2_Vendor_Specific_PMA_Control_2_RX_LED_BLINK_TIME);
            }
        }
    }

    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_gpio_mode_set(struct vtss_state_s *vtss_state,
        const vtss_port_no_t             port_no,
        const vtss_gpio_10g_no_t    gpio_no) {
    vtss_gpio_10g_gpio_mode_t *gpio_mode = &vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no];
    BOOL is_first_slt;
    u8 aggr_indx = -1;
    vtss_gpio_10g_no_t t_gpio = gpio_no,int_gpio=gpio_no;
    vtss_gpio_10g_gpio_intr_sgnl_t in_sig = 0;
    vtss_gpio_10g_chan_intrpt_t c_intrpt = 0;
    u16 ch_id= vtss_state->phy_10g_state[port_no].channel_id;
    u32 t_aggr_intrpt=0;
    BOOL  p_gpio_intrpt;
    u32 value;

    is_first_slt = (gpio_no > 31) ? FALSE : TRUE ;
    t_gpio = !is_first_slt ? gpio_no - 32 : gpio_no ;
    in_sig = gpio_mode->in_sig;
    int_gpio = gpio_mode->p_gpio;
    c_intrpt = gpio_mode->c_intrpt;
    p_gpio_intrpt = gpio_mode->p_gpio_intrpt;
    VTSS_I("Port %u,GPIO mode %u , GPIO  = %u, perchannel GPIO %u\n internal signal %u,channel interrupt %u channel id %u p_gpio_intrpt %u ,invert_output %u ,use_as_intrpt %u",
            port_no ,gpio_mode->mode ,gpio_no ,int_gpio ,in_sig ,c_intrpt ,ch_id ,p_gpio_intrpt ,gpio_mode->invert_output ,gpio_mode->use_as_intrpt);

    /* GPIO output enable */
    CSR_COLD_WRM(port_no,is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CFG0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CFG1,
            VTSS_BIT(t_gpio),
            VTSS_BIT(t_gpio));
    /* Default GPIO level is low */
    gpio_mode->source = 127;
    switch (gpio_mode->mode) {
        case VTSS_10G_PHY_GPIO_OUT:
            /* GPIO internal signal configuration .
               As bit field range is common in all the 8 registers ranging from GPIO0_OUT - GPIO7_OUT
               using same Field and Mask Macros of GPIO0_OUT for all.
             */
            if (in_sig != VTSS_10G_GPIO_INTR_SGNL_NONE) {
                CSR_WARM_WRM(port_no,GPIOx_OUT(int_gpio),
                        GPIOx_F_OUT_SEL(in_sig),
                        GPIOx_M_OUT_SEL);
                gpio_mode->source = ch_id * 8 + int_gpio;
                if (in_sig == VTSS_10G_GPIO_INTR_SGNL_I2C_MSTR_DATA_OUT) {
                    CSR_WARM_WRM(port_no,CHx_I2C_MST_DATA_IN_CFG(ch_id),
                            CHx_I2C_MST_DATA_IN_SEL_F(gpio_no),
                            CHx_I2C_MST_DATA_IN_SEL_M);

                } else if (in_sig == VTSS_10G_GPIO_INTR_SGNL_I2C_MSTR_CLK_OUT) {
                    CSR_WARM_WRM(port_no,CHx_I2C_MST_CLK_IN_CFG(ch_id),
                            CHx_I2C_MST_CLK_IN_SEL_F(gpio_no),
                            CHx_I2C_MST_CLK_IN_SEL_M);
                }
            }
            /* invert output */
            CSR_COLD_WRM(port_no,is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_INV_CFG0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_INV_CFG1,
                    gpio_mode->invert_output? VTSS_BIT(t_gpio) : 0,
                    VTSS_BIT(t_gpio));
            break;
        case VTSS_10G_PHY_GPIO_IN:
            /* GPIO input enable */
            CSR_WARM_WRM(port_no,is_first_slt ?VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CFG0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CFG1,
                    0,
                    VTSS_BIT(t_gpio));
            if (p_gpio_intrpt) {
                VTSS_I("p_gpio_intrpt set gpio_no:%d\n", gpio_no);
                if (gpio_no > 31) {
                    CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,&value);
                    CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,
                            VTSS_BIT(gpio_no-32) & value,
                            VTSS_BIT(gpio_no-32));

                    CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK1,
                            VTSS_BIT(gpio_no-32),
                            VTSS_BIT(gpio_no-32));
                } else {
                    CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
                    CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,
                            VTSS_BIT(gpio_no) & value,
                            VTSS_BIT(gpio_no));
                    CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK0,
                            VTSS_BIT(gpio_no),
                            VTSS_BIT(gpio_no));
                }
            }

            if (gpio_mode->input != VTSS_10G_GPIO_INPUT_NONE) {
                if (gpio_mode->use_as_intrpt) {
                    /* case where change in the input generates an interrupt */
                    CSR_RD(port_no, (is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1),
                            &value);
                    CSR_WARM_WRM(port_no ,(is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1),
                            VTSS_BIT(t_gpio) & value,
                            VTSS_BIT(t_gpio));

                    CSR_WARM_WRM(port_no ,(is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK1),
                            VTSS_BIT(t_gpio),
                            VTSS_BIT(t_gpio));

                } else {
                    /* clear mask */
                    CSR_WARM_WRM(port_no,is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK1,
                            0,
                            VTSS_BIT(t_gpio));
                }

                malibu_phy_10g_handle_gpio_input(vtss_state,port_no,gpio_no);
            }

            break;
        case VTSS_10G_PHY_GPIO_WIS_INT:
            /*In Malibu there are two wis interrupts WIS0,WIS1 so this is no longer used  and all the channel level
              interrupts are handled in cases 
              VTSS_10G_PHY_GPIO_CHAN_INT_0,
              VTSS_10G_PHY_GPIO_CHAN_INT_1*/
            break;
        case VTSS_10G_PHY_GPIO_PCS_RX_FAULT:
            /* This mode of GPIO expects to route internal signal PCS_RX_FAULT in Line side.
               So this case can be handled in VTSS_10G_PHY_GPIO_OUT, by giving internal signal(in_sig) = 16*/
            break;
        case VTSS_10G_PHY_GPIO_1588_LOAD_SAVE:
            /* As 1588_LS is now a seperate chip level signal ,it is no longer done through GPIOs*/
            break;
        case VTSS_10G_PHY_GPIO_1588_1PPS_0:
        case VTSS_10G_PHY_GPIO_1588_1PPS_1:
        case VTSS_10G_PHY_GPIO_1588_1PPS_2:
        case VTSS_10G_PHY_GPIO_1588_1PPS_3:
            /* 1. As PPS is per channel , by deducting channel id, GPIO out selection can be done.  
               2. SELECT_1588_PPS register has to be configured accordingly to select PPS */

            /* To select apt. GPIO configuration mode */
            /* gpio_mode->source has to be assigned apt value */ 
            break;
        case VTSS_10G_PHY_GPIO_LINE_PLL_STATUS:
        case VTSS_10G_PHY_GPIO_HOST_PLL_STATUS:
        case VTSS_10G_PHY_GPIO_RCOMP_BUSY:
            break;
            /* All the channel level interrupts per channel can be configured using the below two cases */
            /* Interrupt that is to be enabled should be given in vtss_gpio_10g_chan_intrpt_t */
        case VTSS_10G_PHY_GPIO_CHAN_INT_0:
            gpio_mode->source = ch_id * 2 + 48;
            /* Enable corresponding channel interrupt */ 
            CSR_WARM_WRM(port_no,VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(0),
                    VTSS_BIT(c_intrpt),
                    VTSS_BIT(c_intrpt));
            /* Mapping GPIO to channel */
            /* gpio_mode->source has to be assigned apt value */ 
            CSR_WARM_WRM(port_no,is_first_slt?VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK0:VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK1,
                    VTSS_BIT(t_gpio),
                    VTSS_BIT(t_gpio));
            break;
        case VTSS_10G_PHY_GPIO_CHAN_INT_1:
            gpio_mode->source = ch_id * 2 + 49;
            /* Enable corresponding channel interrupt */ 
            CSR_WARM_WRM(port_no,VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
                    VTSS_BIT(c_intrpt),
                    VTSS_BIT(c_intrpt));
            /* Mapping GPIO to channel */
            /* gpio_mode->source has to be assigned apt value */ 
            CSR_WARM_WRM(port_no,is_first_slt?VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK0:VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK1,
                    VTSS_BIT(t_gpio),
                    VTSS_BIT(t_gpio));
            break;
        case VTSS_10G_PHY_GPIO_1588_INT:
            gpio_mode->source = ch_id + 56;
            CSR_WARM_WRM(port_no,is_first_slt?VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK0:VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK1,
                    VTSS_BIT(t_gpio),
                    VTSS_BIT(t_gpio));
            break;
        case VTSS_10G_PHY_GPIO_TS_FIFO_EMPTY:
            break;
        case VTSS_10G_PHY_GPIO_AGG_INT_0:
            gpio_mode->source = 64;
            aggr_indx = 0;
            break;
        case VTSS_10G_PHY_GPIO_AGG_INT_1:
            gpio_mode->source = 65;
            aggr_indx = 1;
            break;
        case VTSS_10G_PHY_GPIO_AGG_INT_2:
            gpio_mode->source = 66;
            aggr_indx = 2;
            break;
        case VTSS_10G_PHY_GPIO_AGG_INT_3:
            gpio_mode->source = 67;
            aggr_indx = 3;
            break;
        case VTSS_10G_PHY_GPIO_PLL_INT_0:
            gpio_mode->source = 68;
            break;
        case VTSS_10G_PHY_GPIO_PLL_INT_1:
            gpio_mode->source = 69;
            break;
        case VTSS_10G_PHY_GPIO_SET_I2C_SLAVE:
            break;
        case VTSS_10G_PHY_GPIO_SET_I2C_MASTER:
            /* This is being handled in VTSS_10G_PHY_GPIO_OUT case, by propagating internal signals to 
               the selected GPIO pins .It needs
               1. 2x GPIO pins as output one for i2c data and other for i2c clock*/
            break;
        case VTSS_10G_PHY_GPIO_CRSS_INT:
            gpio_mode->source = 71;
            break;
        case VTSS_10G_PHY_GPIO_LED:
            if (in_sig == VTSS_10G_GPIO_INTR_SGNL_LED_TX ||
                in_sig == VTSS_10G_GPIO_INTR_SGNL_LED_RX) {
                CSR_WARM_WRM(port_no,GPIOx_OUT(int_gpio),
                        GPIOx_F_OUT_SEL(in_sig),
                        GPIOx_M_OUT_SEL);
                malibu_phy_10g_led_conf_set(vtss_state ,port_no ,gpio_no);
            }
            /* invert output */
            CSR_COLD_WRM(port_no,is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_INV_CFG0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_INV_CFG1,
                    gpio_mode->invert_output ? VTSS_BIT(t_gpio) : 0,
                    VTSS_BIT(t_gpio));
            gpio_mode->source = ch_id * 8 + int_gpio;
            break;
        case VTSS_10G_PHY_GPIO_DRIVE_LOW:
            CSR_COLD_WRM(port_no,is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_INV_CFG0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_INV_CFG1,
                    0,
                    VTSS_BIT(t_gpio));
            gpio_mode->source = 127;
            break;
        case VTSS_10G_PHY_GPIO_DRIVE_HIGH:
            CSR_COLD_WRM(port_no,is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_INV_CFG0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_INV_CFG1,
                    1<<t_gpio,
                    VTSS_BIT(t_gpio));
            gpio_mode->source = 127;
            break;
        default:
            break;
    }

    /* GPIO mode selection */
    CSR_COLD_WRM(port_no,GPIO_OUT_CFGx(gpio_no),
            GPIO_OUT_CFG_x_F_GPIO_SEL(gpio_mode->source),
            GPIO_OUT_CFG_x_M_GPIO_SEL);

    if(aggr_indx < 4) {
        /* If aggregated interrupt is choosen as an GPIO mode */
        CSR_RD(port_no,VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(aggr_indx),&t_aggr_intrpt);
        gpio_mode->aggr_intrpt |= t_aggr_intrpt;
        CSR_COLD_WRM(port_no,VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(aggr_indx),
                gpio_mode->aggr_intrpt,
                0x1fffff);
        if ((gpio_mode->source) & 0xff) {
            /* If channel interrupt 0 or 1 is choosen as an aggregated interrupt */ 

            if ((gpio_mode->aggr_intrpt) & (1<<(ch_id*2)) ) { 
                /* Channel interrupt 0 */
                CSR_COLD_WRM(port_no,VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(0),
                        VTSS_BIT(c_intrpt),
                        VTSS_BIT(c_intrpt));
            } else if ((gpio_mode->aggr_intrpt) & (1<<(ch_id*2 + 1)) ) {
                /* Channel interrupt 1 */
                CSR_COLD_WRM(port_no,VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
                        VTSS_BIT(c_intrpt),
                        VTSS_BIT(c_intrpt));
            }
        }
    }
    return VTSS_RC_OK;
}
static vtss_rc malibu_phy_10g_gpio_read(struct vtss_state_s *vtss_state,
        const vtss_port_no_t             port_no,
        const vtss_gpio_10g_no_t    gpio_no,
        BOOL                  *const value){
    BOOL is_first_slt=TRUE;
    vtss_gpio_10g_no_t t_gpio=0;
    u32 val=0;

    is_first_slt = gpio_no > 31 ? FALSE : TRUE ;
    t_gpio = is_first_slt ? gpio_no : gpio_no - 32 ;
    CSR_RD(port_no,is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_STAT0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_STAT1,&val);
    *value = (val & VTSS_BIT(t_gpio)) ? TRUE: FALSE ;
    return VTSS_RC_OK;
}
static vtss_rc malibu_phy_10g_gpio_write(struct vtss_state_s *vtss_state,
        const vtss_port_no_t             port_no,
        const vtss_gpio_10g_no_t    gpio_no,
        BOOL                  const value){
    BOOL is_first_slt=TRUE;
    vtss_gpio_10g_no_t t_gpio=0;
    is_first_slt = gpio_no > 31 ? FALSE : TRUE ;
    t_gpio = is_first_slt ? gpio_no : gpio_no - 32 ;
    CSR_WARM_WRM(port_no,is_first_slt? VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_INV_CFG0 : VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_OUT_INV_CFG1,
            value ? 1<<t_gpio : 0,
            VTSS_BIT(t_gpio));
    /* GPIO mode selection */
    CSR_WARM_WRM(port_no,GPIO_OUT_CFGx(gpio_no),
            GPIO_OUT_CFG_x_F_GPIO_SEL(127),
            GPIO_OUT_CFG_x_M_GPIO_SEL);
    return VTSS_RC_OK;
}
static vtss_rc phy_10g_clause_37_adv_get(u32 value, vtss_phy_10g_clause_37_adv_t *adv)
{
//    adv->fdx = VTSS_BOOL(value & (1<<5));
    adv->fdx = 1; // FDX is always 1
    adv->hdx = VTSS_BOOL(value & (1<<6));
    adv->symmetric_pause = VTSS_BOOL(value & (1<<7));
    adv->asymmetric_pause = VTSS_BOOL(value & (1<<8));
    switch ((value>>12) & 3) {
    case 0:
        adv->remote_fault = VTSS_PHY_10G_CLAUSE_37_RF_LINK_OK;
        break;
    case 1:
        adv->remote_fault = VTSS_PHY_10G_CLAUSE_37_RF_LINK_FAILURE;
        break;
    case 2:
        adv->remote_fault = VTSS_PHY_10G_CLAUSE_37_RF_OFFLINE;
        break;
    default:
        adv->remote_fault = VTSS_PHY_10G_CLAUSE_37_RF_AUTONEG_ERROR;
        break;
    }
    adv->acknowledge = VTSS_BOOL(value & (1<<14));
    adv->next_page = VTSS_BOOL(value & (1<<15));

    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_clause_37_status_get(vtss_state_t *vtss_state,
                                            const vtss_port_no_t         port_no,
                                            vtss_phy_10g_clause_37_cmn_status_t *const status)
{
    BOOL link_down;
    u32 value, l_h;
    vtss_phy_10g_clause_37_status_t *stat;
   
    /* Get PCS status for both line and host */
    for (l_h = 0; l_h < 2; l_h++) {
        /* Get the link state 'down' sticky bit  */
        stat = l_h ? &status->line : &status->host;
   
    CSR_RD(port_no, PST(VTSS, l_h, PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY), &value);
   
    link_down  = VTSS_BOOL(PST(VTSS_F, l_h, PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY_LINK_DOWN_STICKY) & value) ||
            VTSS_BOOL(PST(VTSS_F, l_h, PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY_OUT_OF_SYNC_STICKY) & value);
 
    if (link_down) {
            /* The link has been down. Clear the sticky bits and return the 'down' value  */
            CSR_WR(port_no, PST(VTSS, l_h, PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY), value); /* clear sticky bits */
            stat->link = 0;
    } else {
        /*  Return the current status     */
         CSR_RD(port_no, PST(VTSS, l_h, PCS1G_PCS1G_CFG_STATUS_PCS1G_LINK_STATUS), &value);
         stat->link = VTSS_BOOL(VTSS_F_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_LINK_STATUS_LINK_STATUS & value) &&
             VTSS_BOOL(PST(VTSS_F, l_h, PCS1G_PCS1G_CFG_STATUS_PCS1G_LINK_STATUS_SYNC_STATUS) & value);
    }

    /* Get PCS ANEG status register */
        CSR_RD(port_no, PST(VTSS, l_h, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_STATUS), &value);

        /* Get 'Aneg complete'   */
        stat->autoneg.complete = VTSS_BOOL(value & PST(VTSS_F, l_h, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_STATUS_ANEG_COMPLETE));
 
/* Return partner advertisement ability */
        CSR_RD(port_no, PST(VTSS, l_h,  PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_STATUS2), &value);
        value = PST(VTSS_X, l_h,  PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_STATUS2_LP_ADV_ABILITY(value));

        VTSS_RC(phy_10g_clause_37_adv_get(value, &stat->autoneg.partner_advertisement));
  
    VTSS_D("%s P:%d link:%d aneg complete:%d partner aneg ability:%x\n",
               l_h ? "Line":"Host", port_no, stat->link, stat->autoneg.complete, value);
    }
    return VTSS_RC_OK;
}

static vtss_rc phy_10g_clause_37_adv_set(u32 *value, vtss_phy_10g_clause_37_adv_t *adv, BOOL aneg_enable)
{
    u32 rf;

    if (!aneg_enable) {
        *value = 0;
        VTSS_I("Clause 37 Aneg enable is set to false\n");
        return VTSS_RC_OK;
    }
    switch (adv->remote_fault) {
    case VTSS_PHY_10G_CLAUSE_37_RF_LINK_OK:
        rf = 0;
        break;
    case VTSS_PHY_10G_CLAUSE_37_RF_LINK_FAILURE:
        rf = 1;
        break;
    case VTSS_PHY_10G_CLAUSE_37_RF_OFFLINE:
        rf = 2;
        break;
    default:
        rf = 3;
        break;
    }
    *value = (((adv->acknowledge ? 1 : 0)<<14) |
              (rf<<12) |
              ((adv->asymmetric_pause ? 1 : 0)<<8) |
              ((adv->symmetric_pause ? 1 : 0)<<7) |
              ((adv->hdx ? 1 : 0)<<6) |
              ((adv->fdx ? 1 : 0)<<5));
    VTSS_I("adv->next_page:%d adv->asymmetric_pause:%d adv->hdx:%d adv->fdx:%d\n", adv->next_page,adv->asymmetric_pause, adv->hdx, adv->fdx);

    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_clause_37_control_set(vtss_state_t *vtss_state,
                                             const vtss_port_no_t port_no)
{
    vtss_phy_10g_clause_37_control_t *control = &vtss_state->phy_10g_state[port_no].clause_37;
    u32 value = 0, l_h;
    u32 pcs_cnt_max = 0;
    BOOL line = control->line; 
    BOOL host = control->host;
    BOOL host_line = control->l_h;
    u32 i = 0;

    if (line) {
        l_h = 1;
        pcs_cnt_max = 2;
    } else if (host) {
        l_h = 0;
        pcs_cnt_max = 1;
    } else if (host_line) {
        /* User driven control: Set PCS control for both line and host */
        l_h = 0;
        pcs_cnt_max = 2; 
    } else {
        /* Default: Set PCS control for line only */
        l_h = 1;
        pcs_cnt_max = 2; 
    }

    if (!vtss_state->sync_calling_private) {
        for (i = l_h; i < pcs_cnt_max; i++) {
            //  i=0 ==> Line Side
            //  i=1 ==> Host Side
            if(i) {
                control = &vtss_state->phy_10g_state[port_no].clause_37;
            } else {
                control = &vtss_state->phy_10g_state[port_no].host_clause_37;
            }

            VTSS_I(" port %u clause 37 aneg is being configured on 1G PCS of %s \n",port_no, i? "LINE" : "HOST");
            /* Aneg capabilities for this port */
            VTSS_RC(phy_10g_clause_37_adv_set(&value, &control->advertisement, control->enable));
            CSR_WARM_WRM(port_no, PST(VTSS, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG2),
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG2_ADV_ABILITY(value)),
                    PST(VTSS_M, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG2_ADV_ABILITY));

            CSR_RD(port_no, PST(VTSS, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG), &value);

            /* Per PCSC1G_ANEG_CFG2, If PCS1G_MODE_CFG is in SGMII Mode, Must set SW_Resolve_ENA in PCS1G_ANEG_CFG */
            if (value & PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG_SGMII_MODE_ENA)) {
                VTSS_I(" port %u clause 37 1G PCS of %s   Restart ANEG - SGMII MODE \n",port_no,i? "LINE" : "HOST");
                /* Restart aneg */
                CSR_COLD_WRM(port_no, PST(VTSS, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG),
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_RESTART_ONE_SHOT) |
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_SW_RESOLVE_ENA) |
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA),
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_RESTART_ONE_SHOT) |
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_SW_RESOLVE_ENA) |
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA));
            } else {
                VTSS_I(" port %u clause 37 1G PCS of %s   Restart ANEG - NOT SGMII MODE\n",port_no,i? "LINE" : "HOST");
                /* Restart aneg */
                CSR_COLD_WRM(port_no, PST(VTSS, i,PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG),
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_RESTART_ONE_SHOT) |
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA),
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_RESTART_ONE_SHOT) |
                    PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA));
            }

            if (!control->enable) {
                /* Disable Aneg */
                CSR_COLD_WRM(port_no, PST(VTSS, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG),
                        PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_RESTART_ONE_SHOT) |
                        0,
                        PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_RESTART_ONE_SHOT) |
                        PST(VTSS_F, i, PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA));
            }
        }
    }

    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_auto_failover_set(struct vtss_state_s *vtss_state,
                                                const vtss_phy_10g_auto_failover_conf_t  *mode)
{
    u16 ch_id=0,src=0;
    u32 reset_bit = 0;
    vtss_phy_10g_lane_sync_conf_t lane_sync;
    BOOL is_host = mode->is_host_side;
    vtss_port_no_t port_no = mode->port_no;
    
    ch_id = vtss_state->phy_10g_state[port_no].channel_id;

    /*Enable or disable Auto-Failover */
    if (mode->enable) {
        if (vtss_state->phy_10g_state[port_no].mode.oper_mode == VTSS_PHY_1G_MODE) {
            if (malibu_rev_a(vtss_state, port_no)) {
                VTSS_I("Disabling Lane SYNC while enabling cross-connect if PHY is in 1G mode port %u\n",port_no);
                /* Disable lane sync which was enabled for 1G FIFO clocking bug */
                lane_sync.enable = FALSE;
                lane_sync.rx_macro = VTSS_PHY_10G_RX_MACRO_HOST;
                lane_sync.tx_macro = VTSS_PHY_10G_TX_MACRO_HOST;
                lane_sync.rx_ch = vtss_state->phy_10g_state[port_no].channel_id;
                lane_sync.tx_ch = vtss_state->phy_10g_state[port_no].channel_id;
                vtss_state->phy_10g_state[port_no].lane_sync = lane_sync;
                VTSS_RC(malibu_phy_10g_lane_sync_set(vtss_state, port_no));
            }
        }
        /* Disabling cross connect bypass */
        CSR_WARM_WRM(port_no, VTSS_EXP_EXP_CFG_CFG1,
                0,
                VTSS_F_EXP_EXP_CFG_CFG1_BYPASS);
        switch (mode->evnt) {
            case VTSS_PHY_10G_AUTO_FAILOVER_EVENT_GPIO:
                src = mode->v_gpio;
                CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_EXP4_EXT_IN_CFG(src),
                        VTSS_F_GPIO_CTRL_GPIO_CFG_STAT_EXP4_EXT_IN_CFG_EXP4_EXT_IN_SEL(mode->a_gpio),
                        VTSS_M_GPIO_CTRL_GPIO_CFG_STAT_EXP4_EXT_IN_CFG_EXP4_EXT_IN_SEL);
                break;
            case VTSS_PHY_10G_AUTO_FAILOVER_EVENT_PCS_LINK_STATUS:
                /* Need to invert Link Status if this event is chosen */
                CSR_WARM_WRM(port_no, VTSS_EXP_EXP_CFG_COND_CFG,
                        VTSS_F_EXP_EXP_CFG_COND_CFG_INVERT_LINK_STATUS,
                        VTSS_F_EXP_EXP_CFG_COND_CFG_INVERT_LINK_STATUS);
                src = mode->trig_ch_id + 12;
                break;
            case VTSS_PHY_10G_AUTO_FAILOVER_EVENT_SERDES_LOS:
                src = mode->trig_ch_id + 16;
                break;
            case VTSS_PHY_10G_AUTO_FAILOVER_EVENT_WIS_LOF:
                src = mode->trig_ch_id + 20;
                if (!is_host) {
                    return VTSS_RC_ERROR;
                }
                break;
            case VTSS_PHY_10G_AUTO_FAILOVER_EVENT_NONE:
                /* Forced  selection of channel to be switched */
                src = 0x1f;
                break;
            default:
                return VTSS_RC_ERROR;
        }
        /* Enable Cross connect*/
        CSR_WARM_WRM(port_no,(is_host? HOSTx_CFG(ch_id):LINEx_CFG(ch_id)),
                CRSS_EN,
                CRSS_EN);
        /* Select alternate channel */
        CSR_WARM_WRM(port_no,(is_host? HOSTx_CFG(ch_id):LINEx_CFG(ch_id)),
                ALT_CHANx_F(mode->channel_id),
                ALT_CHANx_M);
        /* Select alternate source */
        CSR_WARM_WRM(port_no,(is_host? HOSTx_CFG(ch_id):LINEx_CFG(ch_id)),
                ALT_SRCx_F(src),
                ALT_SRCx_M);
        if (mode->evnt == VTSS_PHY_10G_AUTO_FAILOVER_EVENT_NONE && is_host == TRUE) {
            VTSS_I("existing alternate port of %u is %u \n",port_no,vtss_state->phy_10g_state[port_no].alt_port_no);
            vtss_state->phy_10g_state[port_no].alt_port_no = get_front_port_from_channel_id(vtss_state,port_no,mode->channel_id,mode->chip_no);
            VTSS_I("On port %u , modified alternate port to %u \n",port_no,vtss_state->phy_10g_state[port_no].alt_port_no);
        } 
        /* Filter enable or disable */
        CSR_WARM_WRM(port_no,(is_host? HOSTx_CFG(ch_id):LINEx_CFG(ch_id)),
                (mode->filter == VTSS_PHY_10G_AUTO_FAILOVER_FILTER_NONE) ? 0 : FLTR_EN,
                FLTR_EN);
        if ( mode->filter != VTSS_PHY_10G_AUTO_FAILOVER_FILTER_NONE) {
            switch (mode->filter) {
                case VTSS_PHY_10G_AUTO_FAILOVER_FILTER_CNT_B2316:

                    CSR_WARM_WRM(port_no,(is_host?FLTRx_HCFG(ch_id):FLTRx_LCFG(ch_id)),
                            FLTR_F_B2316(mode->fltr_val),
                            FLTR_M_B2316);
                    break;
                case VTSS_PHY_10G_AUTO_FAILOVER_FILTER_CNT_B70:
                    CSR_WARM_WRM(port_no,(is_host?FLTRx_HCFG(ch_id):FLTRx_LCFG(ch_id)),
                            FLTR_F_B70(mode->fltr_val),
                            FLTR_M_B70);
                    break;
                case VTSS_PHY_10G_AUTO_FAILOVER_FILTER_CNT_A2316:
                    CSR_WARM_WRM(port_no,(is_host?FLTRx_HCFG(ch_id):FLTRx_LCFG(ch_id)),
                            FLTR_F_A2316(mode->fltr_val),
                            FLTR_M_A2316);
                    break;
                case VTSS_PHY_10G_AUTO_FAILOVER_FILTER_CNT_A70:
                    CSR_WARM_WRM(port_no,(is_host?FLTRx_HCFG(ch_id):FLTRx_LCFG(ch_id)),
                            FLTR_F_A70(mode->fltr_val),
                            FLTR_M_A70);
                    break;
                default:
                    break;
            }
        }
        /* GPIO pin Select */

    } else {
        if (vtss_state->phy_10g_state[port_no].mode.oper_mode == VTSS_PHY_1G_MODE) {
            if (malibu_rev_a(vtss_state, port_no)) {
                /* Enable lane sync which was enabled for 1G FIFO clocking bug */
                lane_sync.enable = TRUE;
                lane_sync.rx_macro = VTSS_PHY_10G_RX_MACRO_HOST;
                lane_sync.tx_macro = VTSS_PHY_10G_TX_MACRO_HOST;
                lane_sync.rx_ch = vtss_state->phy_10g_state[port_no].channel_id;
                lane_sync.tx_ch = vtss_state->phy_10g_state[port_no].channel_id;
                vtss_state->phy_10g_state[port_no].lane_sync = lane_sync;
                VTSS_RC(malibu_phy_10g_lane_sync_set(vtss_state, port_no));
            }
        }
        /* Enabling cross connect by pass */
        CSR_WARM_WRM(port_no, VTSS_EXP_EXP_CFG_CFG1,
                VTSS_F_EXP_EXP_CFG_CFG1_BYPASS,
                VTSS_F_EXP_EXP_CFG_CFG1_BYPASS);
        CSR_WARM_WRM(port_no,(is_host? HOSTx_CFG(ch_id):LINEx_CFG(ch_id)),
                0,
                CRSS_EN);
        if (is_host) {
            /* while disabling cross-connect, changing alternate port to default */
            vtss_state->phy_10g_state[port_no].alt_port_no = port_no;
            VTSS_I(" on disable of cross connect, setting default alternate port of %u is %u \n",port_no,vtss_state->phy_10g_state[port_no].alt_port_no);
        }
    }
    /* Reset cross-connect every time enable/disable */
    switch(ch_id) {
        case 0:
            reset_bit = is_host ? VTSS_F_EXP_EXP_CFG_CFG1_H0_RESET : VTSS_F_EXP_EXP_CFG_CFG1_L0_RESET ;
            break;
        case 1:
            reset_bit = is_host ? VTSS_F_EXP_EXP_CFG_CFG1_H1_RESET : VTSS_F_EXP_EXP_CFG_CFG1_L1_RESET ;
            break;
        case 2:
            reset_bit = is_host ? VTSS_F_EXP_EXP_CFG_CFG1_H2_RESET : VTSS_F_EXP_EXP_CFG_CFG1_L2_RESET ;
            break;
        case 3:
            reset_bit = is_host ? VTSS_F_EXP_EXP_CFG_CFG1_H3_RESET : VTSS_F_EXP_EXP_CFG_CFG1_L3_RESET ;
            break;
    }

    CSR_WARM_WRM(port_no, VTSS_EXP_EXP_CFG_CFG1,
            reset_bit,
            0xff000000);
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_loopback_set(struct vtss_state_s *vtss_state,
        vtss_port_no_t port_no)
{
    vtss_phy_10g_loopback_t *loopback = &vtss_state->phy_10g_state[port_no].loopback;
    u32 value;
    vtss_lane_sync_t lsync_conf;
    vtss_rc rc = VTSS_RC_OK;

    VTSS_D("Enter");

    switch (loopback->lb_type) {
        case VTSS_LB_NETWORK_XS_DEEP:
        case VTSS_LB_L1:    /* Line Loopback , 64-bit PCS after the gearbox FF00 repeating IEEE PCS system loopback */
            /* = mode only 10G, Malibu name: H3  */
            if(vtss_state->phy_10g_state[port_no].mode.oper_mode != VTSS_PHY_1G_MODE) {
                CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_Control_1_PCS_Control_1,
                             loopback->enable ? VTSS_F_HOST_PCS10G_PCS_Control_1_PCS_Control_1_PCS_System_loopback : 0,
                             VTSS_F_HOST_PCS10G_PCS_Control_1_PCS_Control_1_PCS_System_loopback);
                VTSS_I("Loopback type L1, enable = %d port_no: %u", loopback->enable, port_no);
            } else {
                VTSS_I("Loopback L1 is not supported in 1G mode port_no: %u", port_no);
                return VTSS_RC_ERROR;
            }
            break;
        case VTSS_LB_SYSTEM_PMA:
        case VTSS_LB_H4:     
            /* Host Loopback 4, 64-bit WIS FF00 repeating IEEE WIS system loopback */
            if(vtss_state->phy_10g_state[port_no].mode.oper_mode != VTSS_PHY_1G_MODE) {
                CSR_WARM_WRM(port_no,VTSS_WIS_WIS_Control_1_WIS_CTRL1,
                        loopback->enable ? VTSS_F_WIS_WIS_Control_1_WIS_CTRL1_LPBK_H4 : 0,
                        VTSS_F_WIS_WIS_Control_1_WIS_CTRL1_LPBK_H4); /* Loopback J (resides on the WIS block) */
                VTSS_I("Loopback type H4, enable = %d port_no: %u", loopback->enable, port_no);
            } else {
                VTSS_I("Loopback H4 is not supported in 1G mode port_no: %u", port_no);
                return VTSS_RC_ERROR;
            }
            break;
        case VTSS_LB_NETWORK_PCS:
        case VTSS_LB_L2:                  /* Line Loopback 2, 64-bit XGMII after FIFO Mirror SFP+ data */
            /* mode F, Malibu name: L2 */
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_Datapath_Control_Datapath_Control,
                    loopback->enable ? VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_LOOP_L2_ENA : 0,
                    VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_LOOP_L2_ENA); /* Loopback F */
            VTSS_I("Loopback type L2, enable = %d port_no: %u", loopback->enable, port_no);
            break;
        case VTSS_LB_SYSTEM_PCS_DEEP:
        case VTSS_LB_H3:                  /* Host Loopback,Host PCS after the gearbox */
            if(vtss_state->phy_10g_state[port_no].mode.oper_mode != VTSS_PHY_1G_MODE) {
                CSR_WARM_WRM(port_no,VTSS_LINE_PCS10G_PCS_Control_1_PCS_Control_1,
                        loopback->enable ? VTSS_F_LINE_PCS10G_PCS_Control_1_PCS_Control_1_PCS_System_loopback : 0,
                        VTSS_F_LINE_PCS10G_PCS_Control_1_PCS_Control_1_PCS_System_loopback);
                VTSS_I("Loopback type H3, enable = %d port_no: %u", loopback->enable, port_no);
            } else {
                VTSS_I("Loopback H3 is not supported in 1G mode port_no: %u", port_no);
                return VTSS_RC_ERROR;
            }
            break;
        case VTSS_LB_L2C: /* Line loopback L2C XGMII after cross-connect */
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_Datapath_Control_Datapath_Control,
                    loopback->enable ? VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_LOOP_L2C_ENA : 0,
                    VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_LOOP_L2C_ENA); /*loopback L2C*/
            VTSS_I("Loopback type L2C, enable = %d port_no: %u", loopback->enable, port_no);
            break;
        case VTSS_LB_SYSTEM_XS_SHALLOW:
        case VTSS_LB_H2:
            if (loopback->enable) {
                // H2 loopback enable (facility loopback):
                CSR_WARM_WRM(port_no,VTSS_HOST_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CTRL,
                        VTSS_F_HOST_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CTRL_L3_CONTROL,
                        VTSS_F_HOST_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CTRL_L3_CONTROL);

                // Select source for synchronization:
                CSR_WARM_WRM(port_no, VTSS_CLCK_CFG_CS_HOST_CLK_SEL(vtss_state->phy_10g_state[port_no].channel_id),
                        VTSS_F_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL((vtss_state->phy_10g_state[port_no].channel_id) + 4),
                        VTSS_M_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL);
 
                // Adjust filter bandwidth in Rx and Tx macro: Line side
                CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &value);
                CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(value)),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);

                
                // Reset integrators synchronized
                CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(1),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);

                // Enable lane synchronization in Tx macro:
                CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);

                // Start integrators synchronized
                CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(3),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);

            } else {
                //Add a small frequency offset to Rx and Tx macro (clear bit 1 in normal mode):
                CSR_WARM_WRM(port_no, VTSS_HOST_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CTRL,
                        0,
                        VTSS_F_HOST_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CTRL_L3_CONTROL);

                if(vtss_state->phy_10g_state[port_no].mode.oper_mode ==  VTSS_PHY_REPEATER_MODE){
                    lsync_conf.enable = TRUE;
                    lsync_conf.h_src = vtss_state->phy_10g_state[port_no].channel_id;
                    lsync_conf.l_src = vtss_state->phy_10g_state[port_no].channel_id + 4;
                    VTSS_RC(malibu_phy_10g_lane_sync_set_internal(vtss_state,port_no,&lsync_conf));
                } else {
                    CSR_WARM_WRM(port_no, VTSS_CLCK_CFG_CS_HOST_CLK_SEL(vtss_state->phy_10g_state[port_no].channel_id),
                            VTSS_F_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL(15),
                            VTSS_M_CLK_CFG_CS_HOST_CLK_SEL_HOST_CLK_SEL);
                    // Disable lane synchronization in Tx macro:
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
                            0,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);
                }
            }
            VTSS_I("Loopback type H2, enable = %d port_no: %u", loopback->enable, port_no);
            break;

        case VTSS_LB_NETWORK_PMA:
        case VTSS_LB_L3:                  /* Line Loopback 3, 64-bit PMA interface Mirror SFP+ data */
            if (loopback->enable) {
                 // L3 loopback enable (facility loopback):
                CSR_WARM_WRM(port_no,VTSS_LINE_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CONTROL,
                        VTSS_F_LINE_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CONTROL_L3_CONTROL,
                        VTSS_F_LINE_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CONTROL_L3_CONTROL);
 
                // Select source for synchronization: LINE_CLK_SEl
                CSR_WARM_WRM(port_no,VTSS_CLCK_CFG_CS_LINE_CLK_SEL(vtss_state->phy_10g_state[port_no].channel_id),
                        VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(vtss_state->phy_10g_state[port_no].channel_id),
                        VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);

                // Adjust filter bandwidth in Rx and Tx macro: Line side
                CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF, &value);
                CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL(VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CDRLF_SYNTH_INTEG2_FSEL(value)),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_SSC_CFG1_SYNC_CTRL_FSEL);

                // Reset integrators synchronized
                CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(1),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);

                // Enable lane synchronization in Tx macro:
                CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);

                // Start integrators synchronized
                CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E(3),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_DV_CTRL_I2E);
            } else {
                //Add a small frequency offset to Rx and Tx macro (clear bit 1 in normal mode):
                CSR_WARM_WRM(port_no, VTSS_LINE_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CONTROL,
                        0,
                        VTSS_F_LINE_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CONTROL_L3_CONTROL);

                if(vtss_state->phy_10g_state[port_no].mode.oper_mode ==  VTSS_PHY_REPEATER_MODE){
                    lsync_conf.enable = TRUE;
                    lsync_conf.h_src = vtss_state->phy_10g_state[port_no].channel_id;
                    lsync_conf.l_src = vtss_state->phy_10g_state[port_no].channel_id + 4;
                    VTSS_RC(malibu_phy_10g_lane_sync_set_internal(vtss_state,port_no,&lsync_conf));
                } else {
                    /* Synch registers For Malibu, selection of LINE CLK SEL()*/
                    CSR_WARM_WRM(port_no, VTSS_CLCK_CFG_CS_LINE_CLK_SEL(vtss_state->phy_10g_state[port_no].channel_id),
                            VTSS_F_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL(15),
                            VTSS_M_CLK_CFG_CS_LINE_CLK_SEL_LINE_CLK_SEL);
                    
                    // disable lane synchronization in Tx macro:
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0,
                            0,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_TX_SYNTH_SD10G65_TX_SYNTH_CFG0_SYNTH_LS_ENA);
                    
                }
            }
            VTSS_I("Loopback type L3, enable = %d", loopback->enable);
            break;
        case VTSS_LB_NONE:
            break;
        default:
            /* Some loopbacks are not availble in Malibu family */
            VTSS_I("Loopback type is not supported for chip:%d\n",vtss_state->phy_10g_state[port_no].type);
            rc = VTSS_RC_ERROR;
            break;
    }
    VTSS_D("Exit");
    return rc;
}
static vtss_rc malibu_phy_10g_csr_read(vtss_state_t                *vtss_state,
        const vtss_port_no_t        port_no,
        const u32                   dev,
        const u32                   addr,
        u32                         *const value)
{
    vtss_rc rc = VTSS_RC_ERROR;
    if ((rc = csr_rd(vtss_state, port_no, dev, malibu_is32reg(dev, addr), addr, value)) != VTSS_RC_OK) {
        VTSS_E("Could not do CSR read");
    }
    return rc;
}

static vtss_rc malibu_phy_10g_csr_write(vtss_state_t                *vtss_state,
        const vtss_port_no_t        port_no,
        const u32                   dev,
        const u32                   addr,
        const u32                   value)
{
    vtss_rc rc = VTSS_RC_ERROR;
    if ((rc = csr_wr(vtss_state, port_no, dev, malibu_is32reg(dev, addr), addr, value)) != VTSS_RC_OK) {
        VTSS_E("Could not do CSR write");
    }

    return rc;
}
static vtss_rc vtss_phy_10g_wis_event_enable_private(vtss_state_t *vtss_state,
                                             const vtss_port_no_t port_no)
{
    u8   channel_id,gpio_no=0;
    u32  value=0;
    
    /*select mask address based on decision,interrupts needs to be enabled for which interrupt generator;interrupt sources      can be routed to 2 interrupt generators per channel  */
    /*
    mask_addr1_isr2 = 0xEE02;
    mask_addr2_isr1 = 0xEE05;
    mask_addr2_isr2 = 0xEE06;
    mask_addr3_isr1 = 0xEE09;
    mask_addr3_isr2 = 0xEE0A;
 */
    channel_id = vtss_state->phy_10g_state[port_no].channel_id;
    if ( vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_10G_LOPC_EV ) {
        /* Set LOPC event with the help of GPIO interrupt */
        CSR_RD(port_no,CHNLx_LINE_LOPC_INPUT(channel_id),&value);
        gpio_no = VTSS_X_GPIO_CTRL_GPIO_CFG_STAT_CH0_LINE_LOPC_CFG_CH0_LINE_LOPC_SEL(value);

        VTSS_D("port %u:ch_id %u gpio %u gpio mode %u input mode %u use as interrupt %s\n",
                port_no,channel_id,gpio_no,
                vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].mode,
                vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].input,
                vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].use_as_intrpt ? "TRUE" : "FALSE");
        if ( (vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].use_as_intrpt == TRUE) && 
                (vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].mode == VTSS_10G_PHY_GPIO_IN) &&
                (vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].input == VTSS_10G_GPIO_INPUT_LINE_LOPC) ) {
            /* As on VSC825X there are no interrupt masks for some of the interrupts like LOPC
               we depend on GPIOs to propagate interrupt and thus we configure GPIO mask*/
            if (gpio_no > 31) {
                CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,&value);
                CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,
                        VTSS_BIT(gpio_no-32) & value,
                        VTSS_BIT(gpio_no-32));

                CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK1,
                        VTSS_BIT(gpio_no-32),
                        VTSS_BIT(gpio_no-32));
            } else {
                CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
                CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,
                        VTSS_BIT(gpio_no) & value,
                        VTSS_BIT(gpio_no));
                CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK0,
                        VTSS_BIT(gpio_no),
                        VTSS_BIT(gpio_no));
            }

        }
    } else {
        /* Clear LOPC event */
        CSR_RD(port_no,CHNLx_LINE_LOPC_INPUT(channel_id),&value);
        gpio_no = VTSS_X_GPIO_CTRL_GPIO_CFG_STAT_CH0_LINE_LOPC_CFG_CH0_LINE_LOPC_SEL(value);
        if (vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].use_as_intrpt == TRUE) {
            if (gpio_no > 31) {
                CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK1,
                        0,
                        VTSS_BIT(gpio_no-32));
            } else {
                CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK0,
                        0,
                        VTSS_BIT(gpio_no));
            }
        }
    }
#ifdef VTSS_FEATURE_WIS
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKA_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_10G_LINK_LOS_EV)?0x0040:0, 0x0040);//TBD, LINK loss still in EWIS block
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKA_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_SEF_EV)? 0x0800 : 0, 0x0800);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKA_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_FPLM_EV)? 0x0400 : 0, 0x0400);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKA_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_FAIS_EV)? 0x0200 : 0, 0x0200);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKA_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_LOF_EV)? 0x0080 : 0, 0x0080);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKA_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_RDIL_EV)? 0x0020 : 0, 0x0020);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKB_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_AISL_EV)? 0x0010 : 0, 0x0010);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKB_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_LCDP_EV)? 0x0008 : 0, 0x0008);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKB_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_PLMP_EV)? 0x0004 : 0, 0x0004);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKB_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_AISP_EV)? 0x0002 : 0, 0x0002);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKB_1, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_LOPP_EV)? 0x0001 : 0, 0x0001);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKA_2, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_UNEQP_EV)? 0x0400 : 0, 0x0400);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKA_2, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_FEUNEQP_EV)? 0x0200 : 0, 0x0200);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKA_2, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_FERDIP_EV)? 0x0100 : 0, 0x0100);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKA_2, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_REIL_EV)? 0x0010 : 0, 0x0010);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKA_2, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_REIP_EV)? 0x0008 : 0, 0x0008);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKB_2, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_B1_NZ_EV)? 0x0080 : 0, 0x0080);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKB_2, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_B2_NZ_EV)? 0x0040 : 0, 0x0040);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKB_2, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_B3_NZ_EV)? 0x0020 : 0, 0x0020);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKB_2, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_REIL_NZ_EV)? 0x0004 : 0, 0x0004);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKB_2, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_REIP_NZ_EV)? 0x0002 : 0, 0x0002);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_3_EWIS_INTR_MASKA_3, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_B1_THRESH_EV)? 0x0004 : 0, 0x0004);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_3_EWIS_INTR_MASKA_3, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_B2_THRESH_EV)? 0x0002 : 0, 0x0002);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_3_EWIS_INTR_MASKA_3, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_B3_THRESH_EV)? 0x0001 : 0, 0x0001);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_3_EWIS_INTR_MASKB_3, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_REIL_THRESH_EV)? 0x0008 : 0, 0x0008);
    CSR_WARM_WRM(port_no, VTSS_WIS_EWIS_Interrupt_Mask_3_EWIS_INTR_MASKB_3, (vtss_state->phy_10g_state[port_no].ev_mask & VTSS_PHY_EWIS_REIP_THRESH_EV)? 0x0010 : 0, 0x0010);
    /* Enable WIS0 and WIS1 interrupts to propagate at INTR[0] Pin */
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(0),
                VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_WIS1_INTR_EN,
                VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_WIS1_INTR_EN);
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(0),
                VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_WIS0_INTR_EN,
                VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_WIS0_INTR_EN);
    /*For all channels;Enable WIS interrupts INTR[0] at aggr_intr[0]  */
    for (channel_id = 0; channel_id < MALIBU_MAX_CHANNEL_ID; channel_id++) {
        CSR_COLD_WRM(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(0),
                    VTSS_BIT(2*channel_id),
                    VTSS_BIT(2*channel_id));
    }
#endif /* VTSS_FEATURE_WIS */
    return VTSS_RC_OK;
}

static vtss_rc vtss_phy_10g_host_lopc_enable_private(vtss_state_t *vtss_state,
                                                     const vtss_port_no_t port_no)
{
    u8   channel_id, gpio_no = 0;
    u32  value = 0;
    channel_id = vtss_state->phy_10g_state[port_no].channel_id;
    if (vtss_state->phy_10g_state[port_no].ex2_ev_mask & VTSS_PHY_10G_HOST_LOPC_EV) {
        /* Set Host LOPC event with the help of GPIO interrupt */
        CSR_RD(port_no,CHNLx_HOST_LOPC_INPUT(channel_id),&value);
        gpio_no = VTSS_X_GPIO_CTRL_GPIO_CFG_STAT_CH0_HOST_LOPC_CFG_CH0_HOST_LOPC_SEL(value);

        VTSS_D("port %u:ch_id %u gpio %u gpio mode %u input mode %u use as interrupt %s\n",
                port_no,channel_id,gpio_no,
                vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].mode,
                vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].input,
                vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].use_as_intrpt ? "TRUE" : "FALSE");
        if ((vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].use_as_intrpt == TRUE) &&
             (vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].mode == VTSS_10G_PHY_GPIO_IN) &&
             (vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].input == VTSS_10G_GPIO_INPUT_HOST_LOPC) ) {
              /* As on VSC825X there are no interrupt masks for some of the interrupts like LOPC
                 we depend on GPIOs to propagate interrupt and thus we configure GPIO mask*/
             if (gpio_no > 31) {
                 CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,&value);
                 CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,
                         VTSS_BIT(gpio_no-32) & value,
                         VTSS_BIT(gpio_no-32));

                 CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK1,
                         VTSS_BIT(gpio_no-32),
                         VTSS_BIT(gpio_no-32));
             } else {
                 CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
                 CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,
                         VTSS_BIT(gpio_no) & value,
                         VTSS_BIT(gpio_no));
                 CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK0,
                         VTSS_BIT(gpio_no),
                         VTSS_BIT(gpio_no));
             }

        }
    } else {
        /* Clear HOST LOPC event */
        CSR_RD(port_no,CHNLx_HOST_LOPC_INPUT(channel_id),&value);
        gpio_no = VTSS_X_GPIO_CTRL_GPIO_CFG_STAT_CH0_HOST_LOPC_CFG_CH0_HOST_LOPC_SEL(value);
        if (vtss_state->phy_10g_state[port_no].gpio_mode[gpio_no].use_as_intrpt == TRUE) {
            if (gpio_no > 31) {
                CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK1,
                        0,
                        VTSS_BIT(gpio_no-32));
            } else {
                CSR_WARM_WRM(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_MASK0,
                        0,
                        VTSS_BIT(gpio_no));
            }
        }
    }
   return VTSS_RC_OK;
}

static vtss_rc vtss_phy_10g_host_pcs_event_enable_private(vtss_state_t *vtss_state,
                                                          const vtss_port_no_t port_no)
{
    u8       channel_id;
    VTSS_I("Enable PCS event\n");
   /* Enable the PCS Host side block interrupts */
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_10G_RX_CHAR_DEC_CNT_THRESH_EV))? 0x0001 : 0, 0x0001);
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_10G_TX_CHAR_ENC_CNT_THRESH_EV))? 0x0002 : 0, 0x0002);
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_10G_RX_BLK_DEC_CNT_THRESH_EV))? 0x0004 : 0, 0x0004);
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_10G_TX_BLK_ENC_CNT_THRESH_EV))? 0x0008 : 0, 0x0008);
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_10G_RX_SEQ_CNT_THRESH_EV))? 0x0010 : 0, 0x0010);
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_10G_TX_SEQ_CNT_THRESH_EV))? 0x0020 : 0, 0x0020);
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_10G_FEC_UNFIXED_CNT_THRESH_EV))? 0x0040 : 0, 0x0040);
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_10G_FEC_FIXED_CNT_THRESH_EV))? 0x0080 : 0, 0x0080);
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_10G_HIGHBER_EV))? 0x0100 : 0, 0x0100);
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_10G_RX_LINK_STAT_EV))? 0x0200 : 0, 0x0200);

   /* Enable the PCS10g interrupts on INTR[1]*/
   /* HPCS10G_INTR_EN */
   CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
                VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_HPCS10G_INTR_EN,
                VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_HPCS10G_INTR_EN);
   /* PCS block interrupts at aggr_intr[0] for all channels */
   for(channel_id  = 0; channel_id < MALIBU_MAX_CHANNEL_ID; channel_id++) {
       CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(0),
                    VTSS_BIT((2*channel_id)+1), VTSS_BIT((2*channel_id)+1));
   }
   return VTSS_RC_OK;
}

static vtss_rc vtss_phy_10g_pcs_event_enable_private(vtss_state_t *vtss_state, 
                                             const vtss_port_no_t port_no)
{
    u8       channel_id;
    VTSS_I("Enable PCS event\n");
   /* Enable the PCS Line side block interrupts */ 
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_RX_CHAR_DEC_CNT_THRESH_EV)? 0x0001 : 0, 0x0001);
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_TX_CHAR_ENC_CNT_THRESH_EV)? 0x0002 : 0, 0x0002);
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_RX_BLK_DEC_CNT_THRESH_EV)? 0x0004 : 0, 0x0004);
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_TX_BLK_ENC_CNT_THRESH_EV)? 0x0008 : 0, 0x0008);
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_RX_SEQ_CNT_THRESH_EV)? 0x0010 : 0, 0x0010);
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_TX_SEQ_CNT_THRESH_EV)? 0x0020 : 0, 0x0020);
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_FEC_UNFIXED_CNT_THRESH_EV)? 0x0040 : 0, 0x0040);
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_FEC_FIXED_CNT_THRESH_EV)? 0x0080 : 0, 0x0080);
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_HIGHBER_EV)? 0x0100 : 0, 0x0100);
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_RX_LINK_STAT_EV)? 0x0200 : 0, 0x0200);

   /*Enable the PCS10g interrupts on INTR[1]*/
   /*LPCS10G_INTR_EN ]*/ 
   CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1), 
                VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LPCS10G_INTR_EN, 
                VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LPCS10G_INTR_EN);
   /* PCS block interrupts at aggr_intr[0] for all channels */
   for(channel_id  = 0; channel_id < MALIBU_MAX_CHANNEL_ID; channel_id++) {
       CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(0),
                    VTSS_BIT((2*channel_id)+1), VTSS_BIT((2*channel_id)+1));
   }
   return VTSS_RC_OK;
}

static vtss_rc vtss_phy_10g_pma_event_enable_private(vtss_state_t *vtss_state,
                                             const vtss_port_no_t port_no)
{
    u8 channel_id; 
    VTSS_I("Enable PMA interrupt\n");
    /* Enable Host PMA interrupts */
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_PMA_INTR_PMA_INTR_MASK, 
                 (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_RX_LOS_EV) ? 0x0001 : 0, 0x0001);
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_PMA_INTR_PMA_INTR_MASK,
                 (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_RX_LOL_EV) ? 0x0002 : 0, 0x0002);
    CSR_WARM_WRM(port_no, VTSS_HOST_PMA_PMA_INTR_PMA_INTR_MASK,
                 (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_TX_LOL_EV) ? 0x0004 : 0, 0x0004);
    /* Enable HPMA interrupts at INTR[1] */
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1), 
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_HPMA_INTR_EN,
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_HPMA_INTR_EN);
    /* HPMA block interrupts at aggr_intr[0] for all channels */
    for(channel_id  = 0; channel_id < MALIBU_MAX_CHANNEL_ID; channel_id++) {
       CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(0),
                    VTSS_BIT((2*channel_id)+1), VTSS_BIT((2*channel_id)+1));
    }
   return VTSS_RC_OK;
}

static vtss_rc vtss_phy_10g_fifo_event_enable_private(vtss_state_t *vtss_state,
                                             const vtss_port_no_t port_no)
{
    u8 channel_id;
    VTSS_I("Enable TX FIFO interrupt\n");
    /* Enable Line TX FIFO interrupts */
    CSR_WARM_WRM(port_no, VTSS_FIFO_BIST_RATE_COMP_FIFO_STAT_RATE_COMP_FIFO_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_10G_TX_FIFO_UNDERFLOW_EV)) ? 0x0001 : 0, 0x0001);
    CSR_WARM_WRM(port_no, VTSS_FIFO_BIST_RATE_COMP_FIFO_STAT_RATE_COMP_FIFO_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_10G_TX_FIFO_OVERFLOW_EV)) ? 0x0002 : 0, 0x0002);
    CSR_WARM_WRM(port_no, VTSS_FIFO_BIST_RATE_COMP_FIFO_STAT_RATE_COMP_FIFO_MASK,
    /* Enable Line RX FIFO interrupts */
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_10G_RX_FIFO_UNDERFLOW_EV)) ? 0x0004 : 0, 0x0004);
    CSR_WARM_WRM(port_no, VTSS_FIFO_BIST_RATE_COMP_FIFO_STAT_RATE_COMP_FIFO_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_10G_RX_FIFO_OVERFLOW_EV)) ? 0x0008 : 0, 0x0008);
    /* Enable Host TX FIFO interrupts */
    CSR_WARM_WRM(port_no, VTSS_FIFO_BIST_RATE_COMP_FIFO_STAT_RATE_COMP_FIFO_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_10G_TX_FIFO2_UNDERFLOW_EV)) ? 0x0010 : 0, 0x0010);
    CSR_WARM_WRM(port_no, VTSS_FIFO_BIST_RATE_COMP_FIFO_STAT_RATE_COMP_FIFO_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_10G_TX_FIFO2_OVERFLOW_EV)) ? 0x0020 : 0, 0x0020);
    /* Enable FIFO interrupts at INTR[1] */
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_HEGR_FIFO_INTR_EN,
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_HEGR_FIFO_INTR_EN);
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LEGR_FIFO_INTR_EN,
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LEGR_FIFO_INTR_EN);
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LIGR_FIFO_INTR_EN,
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LIGR_FIFO_INTR_EN);
    /* FIFO interrupts at aggr_intr[0] for all channels */
    for(channel_id  = 0; channel_id < MALIBU_MAX_CHANNEL_ID; channel_id++) {
       CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(0),
                    VTSS_BIT((2*channel_id)+1), VTSS_BIT((2*channel_id)+1));
    }
   return VTSS_RC_OK;
}

static vtss_rc vtss_phy_mac_fc_buffer_event_enable_private(vtss_state_t *vtss_state,
                                                           const vtss_port_no_t port_no)
{
    u8       channel_id;
    VTSS_I("Enable MAC FC buffer event\n");
    /* Enable the MAC FC buffer block interrupts */
    CSR_WARM_WRM(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_XOFF_PAUSE_GEN_STICKY_MASK))? 0x0001 : 0, 0x0001);
    CSR_WARM_WRM(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_XON_PAUSE_GEN_STICKY_MASK))? 0x0002 : 0, 0x0002);
    CSR_WARM_WRM(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_TX_UNCORRECTED_FRM_DROP_STICKY_MASK))? 0x0004 : 0, 0x0004);
    CSR_WARM_WRM(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_RX_UNCORRECTED_FRM_DROP_STICKY_MASK))? 0x0008 : 0, 0x0008);
    CSR_WARM_WRM(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_TX_CTRL_QUEUE_OVERFLOW_DROP_STICKY_MASK))? 0x10000 : 0, 0x10000);
    CSR_WARM_WRM(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_TX_CTRL_QUEUE_UNDERFLOW_DROP_STICKY_MASK))? 0x20000 : 0, 0x20000);
    CSR_WARM_WRM(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_TX_DATA_QUEUE_OVERFLOW_DROP_STICKY_MASK))? 0x40000 : 0, 0x40000);
    CSR_WARM_WRM(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_TX_DATA_QUEUE_UNDERFLOW_DROP_STICKY_MASK))? 0x80000 : 0, 0x80000);
    CSR_WARM_WRM(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_RX_OVERFLOW_DROP_STICKY_MASK))? 0x100000 : 0, 0x100000);
    CSR_WARM_WRM(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_RX_UNDERFLOW_DROP_STICKY_MASK))? 0x200000 : 0, 0x200000);

    /* Enable the PCS1g interrupts on INTR[1] */
    /* FC_BUF_INTR_EN */
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_FCBUF_INTR_EN,
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_FCBUF_INTR_EN);
    /* FC buffer interrupts at aggr_intr[0] for all channels */
    for(channel_id  = 0; channel_id < MALIBU_MAX_CHANNEL_ID; channel_id++) {
        CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(0),
                     VTSS_BIT((2*channel_id)+1), VTSS_BIT((2*channel_id)+1));
    }
    return VTSS_RC_OK;
}

static vtss_rc vtss_phy_1g_pcs_event_enable_private(vtss_state_t *vtss_state,
                                                    const vtss_port_no_t port_no)
{
    u8       channel_id;
    VTSS_I("Enable 1g PCS event\n");
    /* Enable the 1g PCS Line side block interrupts */
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS1G_PCS1G_XGMII_CFG_STATUS_PCS1G_XGMII_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_LINE_1G_XGMII_MASK_OUT_OF_SYNC_MASK))? 0x0100 : 0, 0x0100);
    CSR_WARM_WRM(port_no, VTSS_LINE_PCS1G_PCS1G_XGMII_CFG_STATUS_PCS1G_XGMII_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_LINE_1G_XGMII_MASK_LINK_DOWN_MASK))? 0x0200 : 0, 0x0200);
    /* Enable the 1g PCS Host side block interrupts */
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS1G_PCS1G_XGMII_CFG_STATUS_PCS1G_XGMII_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_1G_XGMII_MASK_OUT_OF_SYNC_MASK))? 0x0100 : 0, 0x0100);
    CSR_WARM_WRM(port_no, VTSS_HOST_PCS1G_PCS1G_XGMII_CFG_STATUS_PCS1G_XGMII_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_HOST_1G_XGMII_MASK_LINK_DOWN_MASK))? 0x0200 : 0, 0x0200);

    /* Enable the PCS1g interrupts on INTR[1]*/
    /* LPCS1G_INTR_EN */
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LPCS1G_INTR_EN,
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LPCS1G_INTR_EN);
    /* HPCS1G_INTR_EN */
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_HPCS1G_INTR_EN,
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_HPCS1G_INTR_EN);
    /* PCS block interrupts at aggr_intr[0] for all channels */
    for(channel_id  = 0; channel_id < MALIBU_MAX_CHANNEL_ID; channel_id++) {
        CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(0),
                     VTSS_BIT((2*channel_id)+1), VTSS_BIT((2*channel_id)+1));
    }
    return VTSS_RC_OK;
}

static vtss_rc vtss_phy_10g_mac_event_enable_private(vtss_state_t *vtss_state,
                                                     const vtss_port_no_t port_no)
{
    u8 channel_id;
    VTSS_I("Enable MAC Interrupts");
    /*HOST MAC interrupts*/
    CSR_WARM_WRM(port_no, VTSS_HOST_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK,
            (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_HOST_MAC_LOCAL_FAULT_EV)?
            VTSS_F_HOST_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_LOCAL_ERR_STATE_STICKY_MASK : 0,
            VTSS_F_HOST_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_LOCAL_ERR_STATE_STICKY_MASK);

    CSR_WARM_WRM(port_no, VTSS_HOST_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK,
            (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_HOST_MAC_REMOTE_FAULT_EV)?
            VTSS_F_HOST_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_REMOTE_ERR_STATE_STICKY_MASK : 0,
            VTSS_F_HOST_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_REMOTE_ERR_STATE_STICKY_MASK);

    /*Line MAC interrupts*/
    CSR_WARM_WRM(port_no, VTSS_LINE_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK,
            (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_LINE_MAC_LOCAL_FAULT_EV)?
            VTSS_F_LINE_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_LOCAL_ERR_STATE_STICKY_MASK : 0,
            VTSS_F_LINE_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_LOCAL_ERR_STATE_STICKY_MASK);

    CSR_WARM_WRM(port_no, VTSS_LINE_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK,
            (vtss_state->phy_10g_state[port_no].ex_ev_mask & VTSS_PHY_10G_LINE_MAC_REMOTE_FAULT_EV)?
            VTSS_F_LINE_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_REMOTE_ERR_STATE_STICKY_MASK : 0,
            VTSS_F_LINE_MAC_STATUS_MAC_TX_MONITOR_STICKY_MASK_REMOTE_ERR_STATE_STICKY_MASK);

    /*Enable HOST MAC interrupts at INTR[1]*/
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
            VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_HMAC_INTR_EN,
            VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_HMAC_INTR_EN);

    /*Enable LINE MAC interrupts at INTR[1]*/
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
            VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LMAC_INTR_EN,
            VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LMAC_INTR_EN);

    /*MAC block interrupts at aggr_intr[0] for all channels*/
    for(channel_id  = 0; channel_id < MALIBU_MAX_CHANNEL_ID; channel_id++) {
        CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(0),
                VTSS_BIT((2*channel_id)+1), VTSS_BIT((2*channel_id)+1));
    }

    return VTSS_RC_OK;
}



static vtss_rc vtss_phy_10g_line_pma_event_enable_private(vtss_state_t *vtss_state,
                                             const vtss_port_no_t port_no)
{
    u8 channel_id;
    VTSS_I("Enable PMA interrupt\n");
    /* Enable Line PMA interrupts */
    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_PMA_INTR_PMA_INTR_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_LINE_10G_RX_LOS_EV)) ? 0x0001 : 0, 0x0001);
    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_PMA_INTR_PMA_INTR_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_LINE_10G_RX_LOL_EV)) ? 0x0002 : 0, 0x0002);
    CSR_WARM_WRM(port_no, VTSS_LINE_PMA_PMA_INTR_PMA_INTR_MASK,
                 (vtss_state->phy_10g_state[port_no].ex2_ev_mask & ((u64)1 << VTSS_PHY_LINE_10G_TX_LOL_EV)) ? 0x0004 : 0, 0x0004);
    /* Enable LPMA interrupts at INTR[1] */
    CSR_WARM_WRM(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR(1),
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LPMA_INTR_EN,
                 VTSS_F_GPIO_INTR_CTRL_GPIO_INTR_INTR_LPMA_INTR_EN);
    /* LPMA block interrupts at aggr_intr[0] for all channels */
    for(channel_id  = 0; channel_id < MALIBU_MAX_CHANNEL_ID; channel_id++) {
       CSR_WARM_WRM(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_SRC_EN(0),
                    VTSS_BIT((2*channel_id)+1), VTSS_BIT((2*channel_id)+1));
    }
   return VTSS_RC_OK;
}


static vtss_rc malibu_phy_10g_event_enable( vtss_state_t *vtss_state,
                                            const vtss_port_no_t port_no,
                                            BOOL event_enable,
                                            BOOL extended_event_enable,
                                            BOOL extended2_event_enable)
{
    VTSS_D("Enter");
    /*Enable WIS block interrupts and PCS interrupts at aggr[0] */
   /* xtnd_event = vtss_state->phy_10g_state[port_no].ex_ev_mask;*/
    VTSS_I("interrupt enabled\n");
    if (event_enable) {
        if(vtss_phy_10g_wis_event_enable_private(vtss_state, port_no) != VTSS_RC_OK) 
            VTSS_E("port: %u\nFailed to enable WIS interrupts\n", port_no);
    }
    if (extended_event_enable) {
        if(vtss_phy_10g_pcs_event_enable_private(vtss_state, port_no) != VTSS_RC_OK)
            VTSS_E("port: %u\nFailed to enable PCS interrupts\n", port_no);
        if(vtss_phy_10g_pma_event_enable_private(vtss_state, port_no) != VTSS_RC_OK)
            VTSS_E("port: %u\nFailed to enable PMA interrupts\n", port_no); 
        if(vtss_phy_10g_mac_event_enable_private(vtss_state, port_no) != VTSS_RC_OK)
            VTSS_E("port: %u\n Failed to enable MAC interrupts\n", port_no);
    }
    if (extended2_event_enable) {
       if(vtss_phy_10g_host_pcs_event_enable_private(vtss_state, port_no) != VTSS_RC_OK)
           VTSS_E("port: %u\nFailed to enable Host PCS interrupts\n", port_no);
       if(vtss_phy_10g_line_pma_event_enable_private(vtss_state, port_no) != VTSS_RC_OK)
           VTSS_E("port: %u\nFailed to enable Line PMA interrupts\n", port_no);
       if(vtss_phy_10g_fifo_event_enable_private(vtss_state, port_no) != VTSS_RC_OK)
           VTSS_E("port: %u\nFailed to enable FIFO interrupts\n", port_no);
       if(vtss_phy_mac_fc_buffer_event_enable_private(vtss_state, port_no) != VTSS_RC_OK)
           VTSS_E("port: %u\nFailed to enable MAC FC Buffer interrupts\n", port_no);
       if(vtss_phy_1g_pcs_event_enable_private(vtss_state, port_no) != VTSS_RC_OK)
           VTSS_E("port: %u\nFailed to enable 1g PCS event interrupts\n", port_no);
       if(vtss_phy_10g_host_lopc_enable_private(vtss_state, port_no) != VTSS_RC_OK)
           VTSS_E("port: %u\nFailed to enable Host LOPC interrupts\n", port_no);
    }
    VTSS_D("Exit");
    return VTSS_RC_OK;
}
static vtss_rc vtss_phy_10g_wis_event_poll_private(vtss_state_t *vtss_state,
                                           const vtss_port_no_t port_no,
                                           vtss_phy_10g_event_t *const events)
{
    u32   pending1, pending2, pending3, mask_1, mask_2;
    CSR_RD(port_no, VTSS_WIS_EWIS_Interrupt_Pending_1_EWIS_INTR_PEND1, &pending1);
    CSR_RD(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKA_1, &mask_1);
    CSR_RD(port_no, VTSS_WIS_EWIS_Interrupt_Mask_1_EWIS_INTR_MASKB_1, &mask_2);
    CSR_WR(port_no, VTSS_WIS_EWIS_Interrupt_Pending_1_EWIS_INTR_PEND1, pending1);
    pending1 &=(mask_1 | mask_2);

    CSR_RD(port_no, VTSS_WIS_EWIS_Interrupt_Pending_2_EWIS_INTR_PEND2, &pending2);
    CSR_RD(port_no,VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKA_2, &mask_1);
    CSR_RD(port_no,VTSS_WIS_EWIS_Interrupt_Mask_2_EWIS_INTR_MASKB_2, &mask_2);
    CSR_WR(port_no, VTSS_WIS_EWIS_Interrupt_Pending_2_EWIS_INTR_PEND2, pending2);
    pending2 &=(mask_1 | mask_2);

    CSR_RD(port_no, VTSS_WIS_EWIS_Interrupt_Pending_3_EWIS_INTR_PEND3, &pending3);
    CSR_RD(port_no, VTSS_WIS_EWIS_Interrupt_Mask_3_EWIS_INTR_MASKA_3, &mask_1);
    CSR_RD(port_no, VTSS_WIS_EWIS_Interrupt_Mask_3_EWIS_INTR_MASKB_3, &mask_2);
    CSR_WR(port_no, VTSS_WIS_EWIS_Interrupt_Pending_3_EWIS_INTR_PEND3, pending3);
    pending3  &=(mask_1 | mask_2);

    *events = 0;
    if (pending1 & 0x40) {
        *events |= VTSS_PHY_10G_LINK_LOS_EV;
    }
    if (pending1 & 0x0800) {
        *events |= VTSS_PHY_EWIS_SEF_EV;
    }
    if (pending1 & 0x0400) {
        *events |= VTSS_PHY_EWIS_FPLM_EV;
    }
    if (pending1 & 0x0200) {
        *events |= VTSS_PHY_EWIS_FAIS_EV;
    }
    if (pending1 & 0x0080) {
        *events |= VTSS_PHY_EWIS_LOF_EV;
    }
    if (pending1 & 0x0020) {
        *events |= VTSS_PHY_EWIS_RDIL_EV;
    }
    if (pending1 & 0x0010) {
        *events |= VTSS_PHY_EWIS_AISL_EV;
    }
    if (pending1 & 0x0008) {
        *events |= VTSS_PHY_EWIS_LCDP_EV;
    }
    if (pending1 & 0x0004) {
        *events |= VTSS_PHY_EWIS_PLMP_EV;
    }
    if (pending1 & 0x0002) {
        *events |= VTSS_PHY_EWIS_AISP_EV;
    }
    if (pending1 & 0x0001) {
        *events |= VTSS_PHY_EWIS_LOPP_EV;
    }
    if (pending2 & 0x0400) {
        *events |= VTSS_PHY_EWIS_UNEQP_EV;
    }
    if (pending2 & 0x0200) {
        *events |= VTSS_PHY_EWIS_FEUNEQP_EV;
    }
    if (pending2 & 0x0100) {
        *events |= VTSS_PHY_EWIS_FERDIP_EV;
    }
    if (pending2 & 0x010) {
        *events |= VTSS_PHY_EWIS_REIL_EV;
    }
    if (pending2 & 0x0008) {
        *events |= VTSS_PHY_EWIS_REIP_EV;
    }
    if (pending2 & 0x0080) {
        *events |= VTSS_PHY_EWIS_B1_NZ_EV;
    }
    if (pending2 & 0x0040) {
        *events |= VTSS_PHY_EWIS_B2_NZ_EV;
    }
    if (pending2 & 0x0020) {
        *events |= VTSS_PHY_EWIS_B3_NZ_EV;
    }
    if (pending2 & 0x0004) {
        *events |= VTSS_PHY_EWIS_REIL_NZ_EV;
    }
    if (pending2 & 0x0002) {
        *events |= VTSS_PHY_EWIS_REIP_NZ_EV;
    }
    if (pending3 & 0x0004) {
        *events |= VTSS_PHY_EWIS_B1_THRESH_EV;
    }
    if (pending3 & 0x0002) {
        *events |= VTSS_PHY_EWIS_B2_THRESH_EV;
    }
    if (pending3 & 0x0001) {
        *events |= VTSS_PHY_EWIS_B3_THRESH_EV;
    }
    if (pending3 & 0x0008) {
        *events |= VTSS_PHY_EWIS_REIL_THRESH_EV;
    }
    if (pending3 & 0x0010) {
        *events |= VTSS_PHY_EWIS_REIP_THRESH_EV;
    }
    return VTSS_RC_OK;
}
static vtss_rc malibu_phy_10g_event_poll(vtss_state_t               *vtss_state,
                                         const vtss_port_no_t        port_no,
                                         vtss_phy_10g_event_t        *const events )
{
    u8 aggr_int;
    u32 aggr_int_chip[4], channel_int,value=0;
    u32 aggr_int_1, aggr_int_2, aggr_int_3, aggr_int_4;
    u8 mod_det;

    /*Read all the aggr_int[i], currently  malibu interrupts supported at aggr_intr[0]*/
    VTSS_D("Enter %s\n",__func__);
    memset (aggr_int_chip, 0, sizeof(aggr_int_chip));
    for (aggr_int = 0; aggr_int < 4; aggr_int++)
    {
        CSR_RD(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_STAT(aggr_int), &aggr_int_chip[aggr_int]);
    }
    aggr_int_1 = aggr_int_chip[0];
    aggr_int_2 = aggr_int_chip[1];
    aggr_int_3 = aggr_int_chip[2];
    aggr_int_4 = aggr_int_chip[3];
    VTSS_D("\n aggregated intrpt status 1 0x%0x \n aggregated intrpt status 2 0x%0x \n aggregated intrpt status 3 0x%0x \n aggregated intrpt status 4 0x%0x\n",aggr_int_1,aggr_int_2,aggr_int_3,aggr_int_4);
    /*interrupt on CH0_INTR0_STAT/CH1_INTR0_STAT/CH2_INTR0_STAT/CH0_INTR0_STAT */
    if ((aggr_int_1 & 0x1) || (aggr_int_1 & 0x4) || (aggr_int_1 & 0x10) || (aggr_int_1 & 0x40) || (aggr_int_1 & 0x100000)) {
        /* WIS0/WIS1*/
        CSR_RD(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR_STAT(0), &channel_int);
        /*read status at intr0*/
        if ((channel_int & 0x1) || (channel_int & 0x2)) {
            if ((vtss_phy_10g_wis_event_poll_private(vtss_state, port_no, events) !=VTSS_RC_OK)) {
                VTSS_E("Error: failed\n");
                return VTSS_RC_ERROR;
            }
        } else if(aggr_int_1 & 0x100000) {
            CSR_RD(port_no, VTSS_WIS_EWIS_Interrupt_Status_2_EWIS_INTR_STAT2, &value);
            if ( value & VTSS_F_WIS_EWIS_Interrupt_Status_2_EWIS_INTR_STAT2_LOPC_STAT) {
                *events = VTSS_PHY_10G_LOPC_EV;
                return VTSS_RC_OK;
            }

            CSR_RD(port_no, VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0, &value);
            if (value & MALIBU_SFP_MOD_DET_GPIO_MASK) {
                mod_det = (port_no == 27) ? 1 : (port_no == 26) ? 9 : (port_no == 25) ? 17 : 25;
                if (value & (1 << mod_det)) {
                    *events = VTSS_PHY_10G_MODULE_STAT_EV;
                    CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0, (1 << mod_det));
                }
                return VTSS_RC_OK;
            } else {
                VTSS_D(" GPIO interrupt is triggered");
                CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
                CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
                CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,value);
                CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,&value);
                CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,value);
                *events = VTSS_PHY_10G_GPIO_INT_AGG0_EV;
            }
        } else {
            VTSS_I("only WIS specific interrupt supported, should not reach here\n");
            *events = 0;
        }
        VTSS_D("Events polled for 0x%0x",*events);
    } else if ((aggr_int_1 & 0x100000) || (aggr_int_2 & 0x100000) || (aggr_int_3 & 0x100000) || (aggr_int_4 & 0x100000)) {
        VTSS_I("GPIO Interrupt used to propagate the interrupts");
        if (aggr_int_1 & 0x100000) {
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
             CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,value);
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,&value);
             CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,value);
             *events = VTSS_PHY_10G_GPIO_INT_AGG0_EV;
        }
        if (aggr_int_2 & 0x100000) {
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
             CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,value);
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,&value);
             CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,value);
             *events = VTSS_PHY_10G_GPIO_INT_AGG1_EV;
        }
        if (aggr_int_3 & 0x100000) {
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
             CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,value);
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,&value);
             CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,value);
             *events = VTSS_PHY_10G_GPIO_INT_AGG2_EV;
        }
        if (aggr_int_4 & 0x100000) {
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,&value);
             CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE0,value);
             CSR_RD(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,&value);
             CSR_WR(port_no,VTSS_GPIO_CTRL_GPIO_CFG_STAT_GPIO_CHANGE1,value);
             *events = VTSS_PHY_10G_GPIO_INT_AGG3_EV;
        }
    } else {
        *events = 0;
        VTSS_I("No Events detected\n");
    }
    VTSS_D("Exit %s\n",__func__);
    return VTSS_RC_OK;
}

static vtss_rc vtss_phy_1g_extended_event_poll_private(vtss_state_t *vtss_state,
                                                const vtss_port_no_t port_no,
                                                vtss_phy_10g_extnd_event_t  *const ex_events)
{
    u32   pending1, pending2;

    CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &pending1);
    CSR_WR(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, pending1);

    CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &pending2);
    CSR_WR(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, pending2);

    if (pending1 & 0x10) {
        *ex_events |= VTSS_PHY_1G_LINE_AUTONEG_RESTART_EV;
    }

    if (pending2 & 0x10) {
        *ex_events |= VTSS_PHY_1G_HOST_AUTONEG_RESTART_EV;
    }
    return (VTSS_RC_OK);
}

static vtss_rc malibu_phy_10g_pcs_status_get (vtss_state_t *vtss_state,
                                                const vtss_port_no_t port_no,
                                                vtss_phy_10g_extnd_event_t  *const ex_events)
{
    *ex_events = 0;
    if (vtss_state->phy_10g_state[port_no].mode.oper_mode == VTSS_PHY_1G_MODE) {
        vtss_phy_1g_extended_event_poll_private(vtss_state, port_no, ex_events);
    }

    return (VTSS_RC_OK);
}
          
static vtss_rc vtss_phy_10g_extended2_event_poll_private(vtss_state_t                      *vtss_state,
                                                         const vtss_port_no_t               port_no,
                                                         vtss_phy_10g_extnd2_event_t *const ex2_events)
{
    u32   pending1, pending2, pending3, pending4, mask;

    VTSS_D("vtss_phy_10g_extended2_event_poll_private port_no %u\n", port_no);
    CSR_RD(port_no, VTSS_HOST_PCS10G_PCS_INTR_PEND1_PCS_INTR_PEND1, &pending1);
    CSR_RD(port_no, VTSS_HOST_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, &mask);
    CSR_WR(port_no, VTSS_HOST_PCS10G_PCS_INTR_PEND1_PCS_INTR_PEND1, pending1);
    pending1 &= mask;

    CSR_RD(port_no,VTSS_LINE_PMA_PMA_INTR_PMA_INTR_STAT, &pending2);
    CSR_RD(port_no,VTSS_LINE_PMA_PMA_INTR_PMA_INTR_MASK, &mask);
    CSR_WR(port_no,VTSS_LINE_PMA_PMA_INTR_PMA_INTR_STAT, pending2);
    pending2 &= mask;

    CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &pending3);
    CSR_WR(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, pending3);

    CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &pending4);
    CSR_WR(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, pending4);

    // *ex2_events = 0;
    if (pending1 & 0x0001) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_10G_RX_CHAR_DEC_CNT_THRESH_EV);
    }
    if (pending1 & 0x0002) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_10G_TX_CHAR_ENC_CNT_THRESH_EV);
    }
    if (pending1 & 0x0004) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_10G_RX_BLK_DEC_CNT_THRESH_EV);
    }
    if (pending1 & 0x0008) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_10G_TX_BLK_ENC_CNT_THRESH_EV);
    }
    if (pending1 & 0x0010) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_10G_RX_SEQ_CNT_THRESH_EV);
    }
    if (pending1 & 0x0020) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_10G_TX_SEQ_CNT_THRESH_EV);
    }
    if (pending1 & 0x0040) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_10G_FEC_UNFIXED_CNT_THRESH_EV);
    }
    if (pending1 & 0x0080) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_10G_FEC_FIXED_CNT_THRESH_EV);
    }
    if (pending1 & 0x0100) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_10G_HIGHBER_EV);
    }
    if (pending1 & 0x0200) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_10G_RX_LINK_STAT_EV);
    }
    if (pending2 & 0x0001) {
        *ex2_events |= ((u64)1 << VTSS_PHY_LINE_10G_RX_LOS_EV);
    }
    if (pending2 & 0x0002) {
        *ex2_events |= ((u64)1 << VTSS_PHY_LINE_10G_RX_LOL_EV);
    }
    if (pending2 & 0x0004) {
        *ex2_events |= ((u64)1 << VTSS_PHY_LINE_10G_TX_LOL_EV);
    }

    if (pending3 & 0x10) {
        *ex2_events |= ((u64)1 << VTSS_PHY_LINE_1G_XGMII_MASK_LINK_DOWN_MASK);
    }
    if (pending3 & 0x1) {
        *ex2_events |= ((u64)1 << VTSS_PHY_LINE_1G_XGMII_MASK_OUT_OF_SYNC_MASK);
    }
    if (pending4 & 0x10) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_1G_XGMII_MASK_LINK_DOWN_MASK);
    }
    if (pending4 & 0x1) {
        *ex2_events |= ((u64)1 << VTSS_PHY_HOST_1G_XGMII_MASK_OUT_OF_SYNC_MASK);
    }
    return VTSS_RC_OK;
}

static vtss_rc vtss_phy_mac_fc_buffer_event_poll_private(vtss_state_t *vtss_state,
                                                         const vtss_port_no_t port_no,
                                                         vtss_phy_10g_extnd2_event_t *const ex2_events)
{
    u32   pending;

    VTSS_D("vtss_phy_mac_fc_buffer_event_poll_private port_no: %u\n", port_no);
    CSR_RD(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY, &pending);
    CSR_WR(port_no, VTSS_MAC_FC_BUFFER_STATUS_STICKY, pending);

    // *ex2_events = 0;
    if (pending & 0x1) {
        *ex2_events |= ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_XOFF_PAUSE_GEN_STICKY_MASK);
    }
    if (pending & 0x2) {
        *ex2_events |= ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_XON_PAUSE_GEN_STICKY_MASK);
    }
    if (pending & 0x4) {
        *ex2_events |= ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_TX_UNCORRECTED_FRM_DROP_STICKY_MASK);
    }
    if (pending & 0x8) {
        *ex2_events |= ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_RX_UNCORRECTED_FRM_DROP_STICKY_MASK);
    }
    if (pending & 0x10000) {
        *ex2_events |= ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_TX_CTRL_QUEUE_OVERFLOW_DROP_STICKY_MASK);
    }
    if (pending & 0x20000) {
        *ex2_events |= ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_TX_CTRL_QUEUE_UNDERFLOW_DROP_STICKY_MASK);
    }
    if (pending & 0x40000) {
        *ex2_events |= ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_TX_DATA_QUEUE_OVERFLOW_DROP_STICKY_MASK);
    }
    if (pending & 0x80000) {
        *ex2_events |= ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_TX_DATA_QUEUE_UNDERFLOW_DROP_STICKY_MASK);
    }
    if (pending & 0x100000) {
        *ex2_events |= ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_RX_OVERFLOW_DROP_STICKY_MASK);
    }
    if (pending & 0x200000) {
        *ex2_events |= ((u64)1 << VTSS_MAC_FC_BUFFER_STATUS_MASK_RX_UNDERFLOW_DROP_STICKY_MASK);
    }
    return (VTSS_RC_OK);
}

static vtss_rc vtss_phy_10g_fifo_event_poll_private(vtss_state_t *vtss_state,
                                                    const vtss_port_no_t port_no,
                                                    vtss_phy_10g_extnd2_event_t *const ex2_events)
{
    u32   pending;
    CSR_RD(port_no, VTSS_FIFO_BIST_RATE_COMP_FIFO_STAT_RATE_COMP_FIFO_STAT, &pending);
    CSR_WR(port_no, VTSS_FIFO_BIST_RATE_COMP_FIFO_STAT_RATE_COMP_FIFO_STAT, pending);

    // *ex2_events = 0;
    if (pending & 0x1) {
        *ex2_events |= ((u64)1 << VTSS_PHY_10G_TX_FIFO_UNDERFLOW_EV);
    }
    if (pending & 0x2) {
        *ex2_events |= ((u64)1 << VTSS_PHY_10G_TX_FIFO_OVERFLOW_EV);
    }
    if (pending & 0x4) {
        *ex2_events |= ((u64)1 << VTSS_PHY_10G_RX_FIFO_UNDERFLOW_EV);
    }
    if (pending & 0x8) {
        *ex2_events |= ((u64)1 << VTSS_PHY_10G_RX_FIFO_OVERFLOW_EV);
    }
    if (pending & 0x10) {
        *ex2_events |= ((u64)1 << VTSS_PHY_10G_TX_FIFO2_UNDERFLOW_EV);
    }
    if (pending & 0x20) {
        *ex2_events |= ((u64)1 << VTSS_PHY_10G_TX_FIFO2_OVERFLOW_EV);
    }
    return (VTSS_RC_OK);
}

static vtss_rc vtss_phy_10g_extended_event_poll_private(vtss_state_t *vtss_state,
                                                const vtss_port_no_t port_no,
                                                vtss_phy_10g_extnd_event_t  *const ex_events)
{
    u32   pending1,pending2, mask;

    CSR_RD(port_no, VTSS_LINE_PCS10G_PCS_INTR_PEND1_PCS_INTR_PEND1, &pending1);
    CSR_RD(port_no, VTSS_LINE_PCS10G_PCS_INTR_MASK1_PCS_INTR_MASK1, &mask);
    CSR_WR(port_no, VTSS_LINE_PCS10G_PCS_INTR_PEND1_PCS_INTR_PEND1, pending1);
    pending1 &= mask;
    CSR_RD(port_no,VTSS_HOST_PMA_PMA_INTR_PMA_INTR_STAT, &pending2);
    CSR_RD(port_no,VTSS_HOST_PMA_PMA_INTR_PMA_INTR_MASK, &mask);
    CSR_WR(port_no,VTSS_HOST_PMA_PMA_INTR_PMA_INTR_STAT, pending2);
    pending2 &= mask;

    //*ex_events = 0;
    if (pending1 & 0x0001) {
        *ex_events |= VTSS_PHY_10G_RX_CHAR_DEC_CNT_THRESH_EV;
    }
    if (pending1 & 0x0002) {
        *ex_events |= VTSS_PHY_10G_TX_CHAR_ENC_CNT_THRESH_EV;
    }
    if (pending1 & 0x0004) {
        *ex_events |= VTSS_PHY_10G_RX_BLK_DEC_CNT_THRESH_EV;
    }
    if (pending1 & 0x0008) {
        *ex_events |= VTSS_PHY_10G_TX_BLK_ENC_CNT_THRESH_EV;
    }
    if (pending1 & 0x0010) {
        *ex_events |= VTSS_PHY_10G_RX_SEQ_CNT_THRESH_EV;
    }
    if (pending1 & 0x0020) {
        *ex_events |= VTSS_PHY_10G_TX_SEQ_CNT_THRESH_EV;
    }
    if (pending1 & 0x0040) {
        *ex_events |= VTSS_PHY_10G_FEC_UNFIXED_CNT_THRESH_EV;
    }
    if (pending1 & 0x0080) {
        *ex_events |= VTSS_PHY_10G_FEC_FIXED_CNT_THRESH_EV;
    }
    if (pending1 & 0x0100) {
        *ex_events |= VTSS_PHY_10G_HIGHBER_EV;
    }
    if (pending1 & 0x0200) {
        *ex_events |= VTSS_PHY_10G_RX_LINK_STAT_EV;
    }
    if (pending2 & 0x0001) {
        *ex_events |= VTSS_PHY_10G_RX_LOS_EV;
    }
    if (pending2 & 0x0002) {
        *ex_events |= VTSS_PHY_10G_RX_LOL_EV;
    }
    if (pending2 & 0x0004) {
        *ex_events |= VTSS_PHY_10G_TX_LOL_EV;
    }
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_extended_event_poll(vtss_state_t             *vtss_state,
                                         const vtss_port_no_t               port_no,
                                         vtss_phy_10g_extnd_event_t  *const ex_events )
{
    u8 aggr_int;
    u32 aggr_int_chip[4], channel_int_1, channel_int_0;
    u32 aggr_int_1, aggr_int_2, aggr_int_3, aggr_int_4;

    VTSS_D("malibu_phy_10g_extended_event_poll %u\n", port_no);
    /*Read all the aggr_int[i], currently  malibu interrupts supported at aggr_intr[0]*/
    VTSS_D("Enter %s\n",__func__);
    memset (aggr_int_chip, 0, sizeof(aggr_int_chip));
    for (aggr_int = 0; aggr_int < 4; aggr_int++)
    {
        CSR_RD(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_STAT(aggr_int), &aggr_int_chip[aggr_int]);
    }
    /* There are 4 Aggegated Interrupts: Each one has INTR[0] and INTR[1]  */
    aggr_int_1 = aggr_int_chip[0];
    aggr_int_2 = aggr_int_chip[1];
    aggr_int_3 = aggr_int_chip[2];
    aggr_int_4 = aggr_int_chip[3];


    /* Init/Clear the Events to be returned  */
    *ex_events = 0;

    /* Interrupt on CH0_INTR1_STAT/CH1_INTR1_STAT/CH2_INTR1_STAT/CH3_INTR1_STAT */
    /* Check CH0_INTR1_STAT */
    if ((aggr_int_1 & 0x2) || (aggr_int_1 & 0x8) || (aggr_int_1 & 0x20) || (aggr_int_1 & 0x80)) {
        /* Check for Interrupt on LinePCS10g/HostPMA/HMAC/LMAC */
        /* Read the 2 Interrupt Generators to get INTR[0] and INTR[1] */
        CSR_RD(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR_STAT(1), &channel_int_1);
        CSR_RD(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR_STAT(0), &channel_int_0);
        printf("malibu_phy_10g_extended_event_poll: AGGR_INT_0: INTR_STAT[0]: 0x%08x,  INTR_STAT[1]: 0x%08x\n", channel_int_0, channel_int_1);
        /*  Read status at INTR[1]  */
        /*  Check INTR[1] Status for: HPMA(15), HMAC(9), LMAC(8), LPCS10G(2)  */
        /*  NOTE: INTR[1] Status for: HMAC(9), LMAC(8)  are read from STICKY Bits which do not propogate  */
        //if ((channel_int_1 & 0x8000) || (channel_int_1 & 0x4) || (channel_int_1 & 0x200) || (channel_int_1 & 0x100)) {
             if (vtss_phy_10g_extended_event_poll_private(vtss_state, port_no, ex_events) != VTSS_RC_OK) {
                 VTSS_E("failed to poll extended event\n");
                 return VTSS_RC_ERROR;
             }
        //}
        /*  Check BOTH INTR[0] and INTR[1] Status for: HPCS1G(5), LPCS1G(4) - However ALL PCS1G is read from STICKY Bits  */
        /* That means Process HPCS1G(5), LPCS1G(4) unconditionally because the Blk Level propogation does not exist */
        //if ((channel_int_1 & 0x10) || (channel_int_1 & 0x20) || (channel_int_0 & 0x10) || (channel_int_0 & 0x20)) {
             if (vtss_phy_1g_extended_event_poll_private(vtss_state, port_no, ex_events) != VTSS_RC_OK) {
                 VTSS_E("failed to poll 1G extended event\n");
                 return VTSS_RC_ERROR;
             }
        //}
    } else if ((aggr_int_2 != 0) || (aggr_int_3 != 0) || (aggr_int_4 != 0)) { /* Check CH1_INTR1_STAT/CH2_INTR1_STAT/CH3_INTR1_STAT */
        CSR_RD(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR_STAT(1), &channel_int_1);
        CSR_RD(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR_STAT(0), &channel_int_0);
        printf("malibu_phy_10g_extended_event_poll: EXT_AGGR_INT_123: INTR_STAT[0]: 0x%08x,  INTR_STAT[1]: 0x%08x\n", channel_int_0, channel_int_1);

        /*  Check BOTH INTR[0] and INTR[1] Status for: HPCS1G(5), LPCS1G(4) - However ALL PCS1G Status is read from STICKY Bits  */
        /* That means Process HPCS1G(5), LPCS1G(4) unconditionally because the Blk Level propogation does not exist */
        //if ((channel_int_1 & 0x10) || (channel_int_1 & 0x20) || (channel_int_0 & 0x10) || (channel_int_0 & 0x20)) {
             if (vtss_phy_1g_extended_event_poll_private(vtss_state, port_no, ex_events) != VTSS_RC_OK) {
                VTSS_E("failed to poll 1G extended event\n");
                return VTSS_RC_ERROR;
             }
        //}
        VTSS_I("Warning: aggr_intr[1/2/3] Selected! Only HPCS1G and LPCS1G Blks Processed, ALL others INTR supported/processed on aggr_intr[0]\n");
    } else {
        VTSS_I("No Events detected\n");
    }
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_extended2_event_poll(vtss_state_t                      *vtss_state,
                                                   const vtss_port_no_t               port_no,
                                                   vtss_phy_10g_extnd2_event_t *const ex2_events)
{
    u32 value = 0;
    u8 aggr_int;
    u32 aggr_int_chip[4], channel_int_0, channel_int_1;
    u32 aggr_int_1;

    VTSS_D("malibu_phy_10g_extended2_event_poll %u\n", port_no);
    /*Read all the aggr_int[i], currently API only supports Malibu interrupts at aggr_intr[0]*/
    VTSS_D("Enter %s\n",__func__);
    memset (aggr_int_chip, 0, sizeof(aggr_int_chip));
    for (aggr_int = 0; aggr_int < 4; aggr_int++)
    {
        CSR_RD(port_no, VTSS_GPIO_CTRL_INTR_CFG_STAT_INTR_STAT(aggr_int), &aggr_int_chip[aggr_int]);
    }
    /* There are 4 Aggegated Interrupts: Each one has INTR[0] and INTR[1]  */
    aggr_int_1 = aggr_int_chip[0];

    /* Init/Clear the Events to be returned  */
    *ex2_events = 0;

    /* Interrupt on CH0_INTR1_STAT/CH1_INTR1_STAT/CH2_INTR1_STAT/CH3_INTR1_STAT */
    /* The issue with these Events is that many are from STICKY_BITS that DO Not result in an INTR */
    /* Check CH0_INTR1_STAT */
    if ((aggr_int_1 & 0x2) || (aggr_int_1 & 0x8) || (aggr_int_1 & 0x20) || (aggr_int_1 & 0x80) || (aggr_int_1 & 0x100000)) {
        /* interrupt on HostPCS10g/LinePMA */
        CSR_RD(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR_STAT(1), &channel_int_1);
        CSR_RD(port_no, VTSS_GPIO_INTR_CTRL_GPIO_INTR_INTR_STAT(0), &channel_int_0);
        VTSS_I("malibu_phy_10g_extended2_event_poll: AGGR_INT_0: INTR_STAT[0]: 0x%08x,  INTR_STAT[1]: 0x%08x\n", channel_int_0, channel_int_1);
        /*read status at INTR[1] */
        /* LINE PMA(14), HPCS1G(5), LPCS1G(4), HPCS10G(3)  */
        /* The LINE PMA(14) & HPCS10G(3) Block Event Indicators work, ie. are HW INTR but the HPCS1G and LPCS1G Blk Level Event Indicators are  */
        /*    SW INTR as they are determined from STICKY Bits and do not */
        /* That means Process HPCS1G(5), LPCS1G(4) unconditionally because the Blk Level propogation does not exist */
        //if ((channel_int_1 & 0x4000) || (channel_int_1 & 0x8) || (channel_int_1 & 0x10) || (channel_int_1 & 0x20)) {
            /* LINE PMA(14), HPCS10G(3)  */
            if (vtss_phy_10g_extended2_event_poll_private(vtss_state, port_no, ex2_events) != VTSS_RC_OK) {
               VTSS_E("failed to poll extended event\n");
                return VTSS_RC_ERROR;
            }
        //}
        /* HEGR_FIFO(13), LEGR_FIFO(12), LINGR_FIFO(11)  */
        //if ((channel_int_1 & 0x1000) || (channel_int_1 & 0x2000) || (channel_int_1 & 0x800)) {
            if (vtss_phy_10g_fifo_event_poll_private(vtss_state, port_no, ex2_events) != VTSS_RC_OK) {
                VTSS_E("failed to poll fifo event\n");
                return VTSS_RC_ERROR;
            }
        //}
        /* FC_BUFF(10) */
        /* Software INTR - STICKY Bit Status */
        //if (channel_int_1 & 0x400) {
            if (vtss_phy_mac_fc_buffer_event_poll_private(vtss_state, port_no, ex2_events) != VTSS_RC_OK) {
                VTSS_E("failed to poll mac fc buffer event\n");
                return VTSS_RC_ERROR;
            }
        //}
        /* GPIO_INTR(15) - Interrupt Propogation */
        if (aggr_int_1 & 0x100000) {
             CSR_RD(port_no, VTSS_HOST_PMA_APC_SDET_SEL_APC_SDET_SEL, &value);
             if (value & VTSS_F_HOST_PMA_APC_SDET_SEL_APC_SDET_SEL_LOPC_STAT) {
                 *ex2_events |= ((u64)1 << VTSS_PHY_10G_HOST_LOPC_EV);
             }
        }
    } else {
         VTSS_I("No Events detected\n");
     }
     return VTSS_RC_OK;
}

static void malibu_deb_pr_reg(vtss_state_t *vtss_state, const vtss_debug_printf_t pr, vtss_port_no_t port_no,
                                      ioreg_blk *io, const char *name, u32 *value)
{

    (void)_csr_rd(vtss_state, port_no, io, value);
    pr("%-45s:  0x%02x   0x%04x     0x%08x\n", name, io->mmd, io->addr, *value);

}

static void malibu_reg_dump_vml_format(struct vtss_state_s         *vtss_state,
                                       const vtss_debug_printf_t   pr,
                                       vtss_port_no_t              port_no,
                                       ioreg_blk *io)
{
    u32  val = 0;
    (void)_csr_rd(vtss_state, port_no, io, &val);
    pr("<reg addr=\"0x%02x\" value=\"0x%08x\"/>\n",io->addr, val);
}
vtss_rc vtss_phy_10g_debug_malibu_vml_info_print(struct vtss_state_s               *vtss_state,
                                                 const vtss_debug_printf_t         pr,
                                                 vtss_port_no_t                    port_no)
{
    vtss_rc rc = VTSS_RC_OK;
    u32 val = 0;
        pr("<?xml version=\"1.0\"?>\n");
        pr("<reginfo>\n");
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL);

        /* Line OB */
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2);

        /* Line RCPLLs */
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT0);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT1);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT0);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT1);

        /* Line LCPLL */
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS0);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1A);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1B);

        /* Line Digital Core - 10G PCS */
        CSR_RD(port_no, VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_1_Eth_10GBASE_R_PCS_Status_1, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_1_Eth_10GBASE_R_PCS_Status_1);

        CSR_RD(port_no, VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2);

        CSR_RD(port_no, VTSS_LINE_PCS10G_PCS_Status_1_PCS_Status_1, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS10G_PCS_Status_1_PCS_Status_1);

        CSR_RD(port_no, VTSS_LINE_PCS10G_PCS_Status_2_PCS_Status_2, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS10G_PCS_Status_2_PCS_Status_2);

        /* Line Digital Core - 10G WIS */
        CSR_RD(port_no, VTSS_WIS_WIS_Status_3_WIS_STAT3, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_WIS_WIS_Status_3_WIS_STAT3);

        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_WIS_WIS_Status_1_WIS_STAT1);

         /* Line 1G PCS */
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_SD_CFG);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_LINK_STATUS);

        CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &val);
        CSR_WR(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, 0x11);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY);

        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG);

        /* Host APC */
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL);

        /* OB */
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2);

        /* RCPLLs */
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT0);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT1);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT0);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT1);

        /* LCPLL */
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS0);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1A);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1B);

        /* Digital Core - 10G PCS */
        CSR_RD(port_no, VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_1_Eth_10GBASE_R_PCS_Status_1, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_1_Eth_10GBASE_R_PCS_Status_1);

        CSR_RD(port_no, VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2);

        CSR_RD(port_no, VTSS_HOST_PCS10G_PCS_Status_1_PCS_Status_1, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PCS10G_PCS_Status_1_PCS_Status_1);

        CSR_RD(port_no, VTSS_HOST_PCS10G_PCS_Status_2_PCS_Status_2, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PCS10G_PCS_Status_2_PCS_Status_2);

         /* Digital Core - 10G WIS */
        CSR_RD(port_no, VTSS_WIS_WIS_Status_3_WIS_STAT3, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_WIS_WIS_Status_3_WIS_STAT3);

        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_WIS_WIS_Status_1_WIS_STAT1);

        /* 1G PCS */
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG);
        CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG);
        CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_SD_CFG, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_SD_CFG);
        CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG);
        CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_LINK_STATUS, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_LINK_STATUS);

        CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &val);
        CSR_WR(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, 0x11);
        CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &val);
        malibu_reg_dump_vml_format(vtss_state, pr, port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY);

        pr("</reginfo>\n");
    return rc;
}
#define PHY_MALIBU_DISP_REG(p, b, v, l)    \
                                   for (offset = b[1]; offset <= b[2]; offset++,l++) {  \
                                       if (!(l % 4)) pr("\n");  \
                                       if ((l==0) || (!(l % 4))) pr("0x%02x:0x%04x:  ",b[0], offset); \
                                       if ( _csr_rd(vtss_state, p, VTSS_IOREG(b[0], b[3], offset), v) == VTSS_RC_OK ) {   \
                                           pr("0x%08lx  ",(long unsigned int)*v); }  \
                                   } \
                                   l = 0;
static void vtss_phy_malibu_register_dump( struct vtss_state_s *vtss_state,
                                           const vtss_debug_printf_t pr,
                                           vtss_port_no_t        port_no)
{
    u32  val, offset, l=0;
    i16 idx;
    u32 LINE_PMA_1[4]                     =     {0x1,   0x00,     0x0A,    0};
    u32 LINE_PMA_2[4]                     =     {0x1,   0x1E,     0x1F,    0};
    u32 LINE_PMA_3[4]                     =     {0x1,   0xAA,     0xAF,    0};
    u32 LINE_PMA_4[4]                     =     {0x1,   0x8300,   0x8300,  0};
    u32 LINE_PMA_5[4]                     =     {0x1,   0x9000,   0x9004,  0};
    u32 LINE_PMA_6[4]                     =     {0x1,   0xA002,   0xA00B,  0};
    u32 LINE_PMA_7[4]                     =     {0x1,   0xA010,   0xA010,  0};
    u32 LINE_PMA_8[4]                     =     {0x1,   0xA020,   0xA023,  0};
    u32 LINE_PMA_9[4]                     =     {0x1,   0xA100,   0xA103,  0};
    u32 LINE_PMA_PMA_INTR[4]              =     {0x1,   0xA202,   0xA204,  0};
    u32 LINE_PMA_BLOCK_LEVEL_RESET[4]     =     {0x1,   0xAE00,   0xAE01,  0};
    u32 LINE_PMA_SPARE_RO[4]              =     {0x1,   0xAEEC,   0xAEEF,  0};
    u32 LINE_PMA_SPARE_RW[4]              =     {0x1,   0xAEF0,   0xAEFF,  0};
    u32 LINE_PMA_SD10G65_VSCOPE2[4]       =     {0x1,   0xB000,   0xB00D,  0};
    u32 LINE_PMA_SD10G65_DFT[4]           =     {0x1,   0xB100,   0xB123,  0};
    u32 LINE_PMA_ROMENG_1_SPI_ADR[4]      =     {0x1,   0xB200,   0xB200,  0};
    u32 LINE_PMA_ROMENG_2[4]              =     {0x1,   0xB600,   0xB601,  0};
    u32 LINE_PMA_SD10G65_RX_RCPLL_BIST[4] =     {0x1,   0xB800,   0xB809,  0};
    u32 LINE_KR_DEV1[4]                   =     {0x1,   0x96,     0x9B,    0};
    u32 LINE_KR_DEV1_1[4]                 =     {0x1,   0x8200,   0x8214,  0};
    u32 LINE_KR_DEV1_2[4]                 =     {0x1,   0x8240,   0x8243,  0};
    u32 LINE_KR_DEV1_3[4]                 =     {0x1,   0x8250,   0x8251,  0};
    u32 LINE_KR_DEV1_4[4]                 =     {0x1,   0x8254,   0x8256,  0};
    u32 LINE_KR_DEV1_5[4]                 =     {0x1,   0x8260,   0x8261,  0};
    u32 LINE_KR_DEV1_6[4]                 =     {0x1,   0x8270,   0x8272,  0};
    u32 SFP_TWS[4]                        =     {0x1,   0xC000,   0xC006,  0};
    u32 GPIO_INTR_CTRL[4]                 =     {0x1,   0xC010,   0xC01B,  0};
    u32 LINE_PMA_32BIT_APC[4]             =     {0x1,   0xF000,   0xF02B,  1};
    u32 LINE_PMA_32BIT_SD[4]              =     {0x1,   0xF100,   0xF101,  1};
    u32 LINE_PMA_32BIT_OB[4]              =     {0x1,   0xF110,   0xF116,  1};
    u32 LINE_PMA_32BIT_IB[4]              =     {0x1,   0xF120,   0xF12E,  1};
    u32 LINE_PMA_32BIT_RXRCPLL[4]         =     {0x1,   0xF130,   0xF134,  1};
    u32 LINE_PMA_32BIT_RXSYNTH[4]         =     {0x1,   0xF140,   0xF149,  1};
    u32 LINE_PMA_32BIT_TXSYNTH[4]         =     {0x1,   0xF150,   0xF155,  1};
    u32 LINE_PMA_32BIT_TXRCPLL[4]         =     {0x1,   0xF160,   0xF164,  1};
    u32 HOST_PMA[4]                       =     {0x9,   0x00,     0x01,    0};
    u32 HOST_PMA_1[4]                     =     {0x9,   0x08,     0x08,    0};
    u32 HOST_PMA_2[4]                     =     {0x9,   0x0A,     0x0A,    0};
    u32 HOST_PMA_3[4]                     =     {0x9,   0xAA,     0xAF,    0};
    u32 HOST_PMA_4[4]                     =     {0x9,   0x8300,   0x8300,  0};
    u32 HOST_PMA_5[4]                     =     {0x9,   0xA003,   0xA005,  0};
    u32 HOST_PMA_6[4]                     =     {0x9,   0xA008,   0xA00B,  0};
    u32 HOST_PMA_7[4]                     =     {0x9,   0xA020,   0xA023,  0};
    u32 HOST_PMA_8[4]                     =     {0x9,   0xA100,   0xA100,  0};
    u32 HOST_PMA_9[4]                     =     {0x9,   0xA103,   0xA108,  0};
    u32 HOST_PMA_INTR[4]                  =     {0x9,   0xA202,   0xA204,  0};
    u32 HOST_PMA_SPARE_RO[4]              =     {0x9,   0xAEEC,   0xAEEF,  0};
    u32 HOST_PMA_SPARE_RW[4]              =     {0x9,   0xAEF0,   0xAEFF,  0};
    u32 HOST_PMA_SD10G65_VSCOPE2[4]       =     {0x9,   0xB000,   0xB00D,  0};
    u32 HOST_PMA_SD10G65_DFT[4]           =     {0x9,   0xB100,   0xB123,  0};
    u32 HOST_PMA_ROMENG_1_SPI_ADR[4]      =     {0x9,   0xB200,   0xB200,  0};
    u32 HOST_PMA_ROMENG_2[4]              =     {0x9,   0xB600,   0xB601,  0};
    u32 HOST_PMA_SD10G65_RX_RCPLL_BIST[4] =     {0x9,   0xB800,   0xB809,  0};
    u32 HOST_KR_DEV1[4]                   =     {0x9,   0x96,     0x9B,    0};
    u32 HOST_KR_DEV1_1[4]                 =     {0x9,   0x8200,   0x8213,  0};
    u32 HOST_KR_DEV1_2[4]                 =     {0x9,   0x8230,   0x8230,  0};
    u32 HOST_KR_DEV1_3[4]                 =     {0x9,   0x8240,   0x8242,  0};
    u32 HOST_KR_DEV1_4[4]                 =     {0x9,   0x8250,   0x8251,  0};
    u32 HOST_KR_DEV1_5[4]                 =     {0x9,   0x8254,   0x8254,  0};
    u32 HOST_KR_DEV1_6[4]                 =     {0x9,   0x8260,   0x8261,  0};
    u32 HOST_KR_DEV1_7[4]                 =     {0x9,   0x8270,   0x8271,  1};
    u32 HOST_KR_DEV1_8[4]                 =     {0x9,   0x8272,   0x8272,  0};
    u32 HOST_KR_DEV1_9[4]                 =     {0x9,   0x8274,   0x8275,  0};
    u32 HOST_KR_DEV1_10[4]                =     {0x9,   0x8276,   0x827B,  0};
    u32 HOST_PMA_32BIT_APC[4]             =     {0x9,   0xF000,   0xF02B,  1};
    u32 HOST_PMA_32BIT_DES[4]             =     {0x9,   0xF100,   0xF101,  1};
    u32 HOST_PMA_32BIT_OB[4]              =     {0x9,   0xF110,   0xF116,  1};
    u32 HOST_PMA_32BIT_IB[4]              =     {0x9,   0xF120,   0xF12E,  1};
    u32 HOST_PMA_32BIT_RXRCPLL[4]         =     {0x9,   0xF130,   0xF134,  1};
    u32 HOST_PMA_32BIT_RXSYNTH[4]         =     {0x9,   0xF140,   0xF149,  1};
    u32 HOST_PMA_32BIT_TXSYNTH[4]         =     {0x9,   0xF150,   0xF155,  1};
    u32 HOST_PMA_32BIT_TXRCPLL[4]         =     {0x9,   0xF160,   0xF164,  1};
    u32 LINE_PCS10G_2[4]                  =     {0x3,   0x0E,     0x0F,    0};
    u32 LINE_PCS10G_3[4]                  =     {0x3,   0x18,     0x2B,    0};
    u32 LINE_PCS10G_4[4]                  =     {0x3,   0x8000,   0x8005,  0};
    u32 LINE_PCS10G_5[4]                  =     {0x3,   0x8007,   0x8008,  0};
    u32 LINE_PCS10G_6[4]                  =     {0x3,   0x8010,   0x8016,  0};
    u32 LINE_PCS10G_7[4]                  =     {0x3,   0x8600,   0x8603,  0};
    u32 LINE_PCS10G_8[4]                  =     {0x3,   0x8E00,   0x8E01,  0};
    u32 LINE_PCS10G_9[4]                  =     {0x3,   0x8E03,   0x8E0D,  0};
    u32 LINE_PCS10G_10[4]                 =     {0x3,   0x8F00,   0x8F15,  0};
    u32 HOST_PCS10G_2[4]                  =     {0xB,   0x0E,     0x0F,    0};
    u32 HOST_PCS10G_3[4]                  =     {0xB,   0x18,     0x2B,    0};
    u32 HOST_PCS10G_4[4]                  =     {0xB,   0x8000,   0x8005,  0};
    u32 HOST_PCS10G_5[4]                  =     {0xB,   0x8007,   0x8008,  0};
    u32 HOST_PCS10G_6[4]                  =     {0xB,   0x8010,   0x8016,  0};
    u32 HOST_PCS10G_7[4]                  =     {0xB,   0x8600,   0x8603,  0};
    u32 HOST_PCS10G_8[4]                  =     {0xB,   0x8E00,   0x8E0D,  0};
    u32 HOST_PCS10G_9[4]                  =     {0xB,   0x8F00,   0x8F15,  0};
    u32 HOST_PCS1G[4]                     =     {0x3,   0xE000,   0xE019,  0};
    u32 LINE_PCS1G[4]                     =     {0x3,   0xE100,   0xE119,  0};
    u32 MAC_FC_BUFFER[4]                  =     {0x3,   0xF000,   0xF013,  1};
    u32 HOST_MAC_D[4]                     =     {0x3,   0xF100,   0xF142,  1};
    u32 LINE_MAC_D[4]                     =     {0x3,   0xF200,   0xF242,  1};
    u32 LINE_KR_DEV7_1[4]                 =     {0x7,   0x00,     0x01,    0};
    u32 LINE_KR_DEV7_2[4]                 =     {0x7,   0x10,     0x1B,    0};
    u32 LINE_KR_DEV7_3[4]                 =     {0x7,   0x30,     0x30,    0};
    u32 LINE_KR_DEV7_4[4]                 =     {0x7,   0x8000,   0x8000,  0};
    u32 LINE_KR_DEV7_5[4]                 =     {0x7,   0x8010,   0x8011,  0};
    u32 LINE_KR_DEV7_6[4]                 =     {0x7,   0x8020,   0x8021,  0};
    u32 LINE_KR_DEV7_7[4]                 =     {0x7,   0x8030,   0x8031,  0};
    u32 LINE_KR_DEV7_8[4]                 =     {0x7,   0x8040,   0x8045,  0};
    u32 LINE_KR_DEV7_9[4]                 =     {0x7,   0x8050,   0x8051,  0};
    u32 LINE_KR_DEV7_10[4]                =     {0x7,   0x8060,   0x8061,  0};
    u32 LINE_KR_DEV7_11[4]                =     {0x7,   0x8070,   0x8071,  0};
    u32 LINE_KR_DEV7_12[4]                =     {0x7,   0x8080,   0x8081,  0};
    u32 LINE_KR_DEV7_13[4]                =     {0x7,   0x8090,   0x8090,  0};
    u32 LINE_KR_DEV7_14[4]                =     {0x7,   0x80A0,   0x80A0,  0};
    u32 LINE_KR_DEV7_15[4]                =     {0x7,   0x80B0,   0x80B0,  0};
    u32 HOST_KR_DEV7_1[4]                 =     {0xF,   0x00,     0x01,    0};
    u32 HOST_KR_DEV7_2[4]                 =     {0xF,   0x10,     0x1B,    0};
    u32 HOST_KR_DEV7_3[4]                 =     {0xF,   0x30,     0x30,    0};
    u32 HOST_KR_DEV7_4[4]                 =     {0xF,   0x8000,   0x8000,  0};
    u32 HOST_KR_DEV7_5[4]                 =     {0xF,   0x8010,   0x8011,  0};
    u32 HOST_KR_DEV7_6[4]                 =     {0xF,   0x8020,   0x8021,  0};
    u32 HOST_KR_DEV7_7[4]                 =     {0xF,   0x8030,   0x8031,  0};
    u32 HOST_KR_DEV7_8[4]                 =     {0xF,   0x8040,   0x8045,  0};
    u32 HOST_KR_DEV7_9[4]                 =     {0xF,   0x8050,   0x8051,  0};
    u32 HOST_KR_DEV7_10[4]                =     {0xF,   0x8060,   0x8061,  0};
    u32 HOST_KR_DEV7_11[4]                =     {0xF,   0x8070,   0x8071,  0};
    u32 HOST_KR_DEV7_12[4]                =     {0xF,   0x8080,   0x8081,  0};
    u32 HOST_KR_DEV7_13[4]                =     {0xF,   0x8090,   0x8090,  0};
    u32 HOST_KR_DEV7_14[4]                =     {0xF,   0x80A0,   0x80A0,  0};
    u32 HOST_KR_DEV7_15[4]                =     {0xF,   0x80B0,   0x80B0,  0};
    u32 GLOBAL_1[4]                       =     {0X1E,  0x00,     0x02,    0};
    u32 GLOBAL_2[4]                       =     {0X1E,  0x04,     0x04,    0};
    u32 GLOBAL_3[4]                       =     {0X1E,  0x11,     0x11,    0};
    u32 GLOBAL_4[4]                       =     {0X1E,  0x1C0,    0x1C2,   0};
    u32 GLOBAL_5[4]                       =     {0X1E,  0x1D0,    0x1F2,    0};
    u32 GLOBAL_6[4]                       =     {0X1E,  0x210,    0x210,   0};
    u32 GLOBAL_7[4]                       =     {0X1E,  0x220,    0x220,   0};
    u32 GLOBAL_8[4]                       =     {0X1E,  0x230,    0x231,   0};
    u32 GLOBAL_9[4]                       =     {0X1E,  0x240,    0x240,   0};
    u32 GLOBAL_10[4]                      =     {0X1E,  0x270,    0x270,   0};
    u32 GLOBAL_11[4]                      =     {0X1E,  0x280,    0x280,   0};
    u32 GLOBAL_12[4]                      =     {0X1E,  0x28F,    0x2A0,   0};
    u32 GLOBAL_13[4]                      =     {0X1E,  0x2B0,    0x2B0,   0};
    u32 GLOBAL_14[4]                      =     {0X1E,  0x2C0,    0x2C0,   0};
    u32 GLOBAL_15[4]                      =     {0X1E,  0x2D0,    0x2D1,   0};
    u32 GLOBAL_16[4]                      =     {0X1E,  0x7000,   0x7000,  0};
    u32 GLOBAL_17[4]                      =     {0X1E,  0x7010,   0x7010,  0};
    u32 CLK_CFG[4]                        =     {0X1E,  0x7200,   0x7237,  0};
    u32 HOST_PLL5G[4]                     =     {0X1E,  0x8100,   0x8126,  0};
    u32 LINE_PLL5[4]                      =     {0X1E,  0x8200,   0x8226,  0};
    u32 F2DF_DF2F_16BIT_1[4]              =     {0x1E,  0xEE00,   0xEE09,  0};
    u32 F2DF_DF2F_16BIT_2[4]              =     {0x1E,  0xEE30,   0xEE37,  0};
    u32 F2DF_DF2F_16BIT_3[4]              =     {0x1E,  0xEE40,   0xEE40,  0};
    u32 F2DF_DF2F_16BIT_4[4]              =     {0x1E,  0xEE50,   0xEE73,  0};
    u32 F2DF_DF2F_32BIT_1[4]              =     {0x1E,  0xEF00,   0xEF05,  1};
    u32 F2DF_DF2F_32BIT_2[4]              =     {0x1E,  0xF000,   0xF001,  1};
    u32 F2DF_DF2F_32BIT_3[4]              =     {0x1E,  0xF010,   0xF016,  1};
    u32 F2DF_DF2F_32BIT_4[4]              =     {0x1E,  0xF020,   0xF02E,  1};
    u32 F2DF_DF2F_32BIT_5[4]              =     {0x1E,  0xF030,   0xF034,  1};
    u32 F2DF_DF2F_32BIT_6[4]              =     {0x1E,  0xF040,   0xF049,  1};
    u32 F2DF_DF2F_32BIT_7[4]              =     {0x1E,  0xF050,   0xF055,  1};
    u32 F2DF_DF2F_32BIT_8[4]              =     {0x1E,  0xF060,   0xF064,  1};
    u32 EXP_CFG[4]                        =     {0x1E,  0xF100,   0xF114,  1};
    /* Ref: Bugzilla#24249 Requirement */
    u32 HOST_PCS10G_1[9][4] = {
        {0xB,   0x00,     0x00,    0},
        {0xB,   0x01,     0x01,    0},
        {0xB,   0x02,     0x02,    0},
        {0xB,   0x03,     0x03,    0},
        {0xB,   0x04,     0x04,    0},
        {0xB,   0x05,     0x05,    0},
        {0xB,   0x06,     0x06,    0},
        {0xB,   0x07,     0x07,    0},
        {0xB,   0x08,     0x08,    0}
    };
    u32 LINE_PCS10G_1[9][4] = {
        {0x3,   0x00,     0x00,    0},
        {0x3,   0x01,     0x01,    0},
        {0x3,   0x02,     0x02,    0},
        {0x3,   0x03,     0x03,    0},
        {0x3,   0x04,     0x04,    0},
        {0x3,   0x05,     0x05,    0},
        {0x3,   0x06,     0x06,    0},
        {0x3,   0x07,     0x07,    0},
        {0x3,   0x08,     0x08,    0}
    };

    pr("\n\n\t:-:-:-:  LINE_PMA_  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_4, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_5, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_6, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_7, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_8, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_9, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_PMA_INTR, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_BLOCK_LEVEL_RESET, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_SPARE_RO, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_SPARE_RW, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_SD10G65_VSCOPE2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_SD10G65_DFT, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_ROMENG_1_SPI_ADR, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_ROMENG_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_SD10G65_RX_RCPLL_BIST, &val, l);

    pr("\n\n\t:-:-:-:  LINE_KR_DEV1  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV1_1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV1_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV1_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV1_4, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV1_5, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV1_6, &val, l);

    pr("\n\n\t:-:-:-:  SFP_TWS  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, SFP_TWS, &val, l);

    pr("\n\n\t:-:-:-:  GPIO_INTR_CTRL  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, GPIO_INTR_CTRL, &val, l);

    pr("\n\n\t:-:-:-:  LINE_PMA_32BIT  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_32BIT_APC, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_32BIT_SD, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_32BIT_OB, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_32BIT_IB, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_32BIT_RXRCPLL, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_32BIT_RXSYNTH, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_32BIT_TXSYNTH, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PMA_32BIT_TXRCPLL, &val, l);

    pr("\n\n\t:-:-:-:  HOST_PMA  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_4, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_5, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_6, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_7, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_8, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_9, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_INTR, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_SPARE_RO, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_SPARE_RW, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_SD10G65_VSCOPE2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_SD10G65_DFT, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_ROMENG_1_SPI_ADR, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_ROMENG_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_SD10G65_RX_RCPLL_BIST, &val, l);

    pr("\n\n\t:-:-:-:  HOST_KR_DEV1  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1_1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1_4, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1_5, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1_6, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1_7, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1_8, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1_9, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV1_10, &val, l);

    pr("\n\n\t:-:-:-:  HOST_PMA_32BIT  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_32BIT_APC, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_32BIT_DES, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_32BIT_OB, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_32BIT_IB, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_32BIT_RXRCPLL, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_32BIT_RXSYNTH, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_32BIT_TXSYNTH, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PMA_32BIT_TXRCPLL, &val, l);

    pr("\n\n\t:-:-:-:  LINE_PCS10G_1  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_3, &val, l);
    for (idx = 8; idx >=0; idx--) {
        PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_1[idx], &val, l);
    }
    for (idx = 8; idx >=0; idx--) {
        PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_1[idx], &val, l);
    }
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_4, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_5, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_6, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_7, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_8, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_9, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS10G_10, &val, l);

    pr("\n\n\t:-:-:-:  HOST_PCS10G  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_3, &val, l);
    for (idx = 8; idx >=0; idx--) {
        PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_1[idx], &val, l);
    }
    for (idx = 8; idx >=0; idx--) {
        PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_1[idx], &val, l);
    }
    PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_4, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_5, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_6, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_7, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_8, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_PCS10G_9, &val, l);

    pr("\n\n\t:-:-:-:  HOST_PCS1G  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, HOST_PCS1G, &val, l);

    pr("\n\n\t:-:-:-:  LINE_PCS1G  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, LINE_PCS1G, &val, l);

    pr("\n\n\t:-:-:-:  MAC_FC_BUFFER  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, MAC_FC_BUFFER, &val, l);

    pr("\n\n\t:-:-:-:  HOST_MAC  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, HOST_MAC_D, &val, l);

    pr("\n\n\t:-:-:-:  LINE_MAC  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, LINE_MAC_D, &val, l);

    pr("\n\n\t:-:-:-:  LINE_KR_DEV7  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_4, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_5, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_6, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_7, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_8, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_9, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_10, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_11, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_12, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_13, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_14, &val, l);
    PHY_MALIBU_DISP_REG(port_no, LINE_KR_DEV7_15, &val, l);

    pr("\n\n\t:-:-:-:  HOST_KR_DEV7  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_4, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_5, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_6, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_7, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_8, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_9, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_10, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_11, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_12, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_13, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_14, &val, l);
    PHY_MALIBU_DISP_REG(port_no, HOST_KR_DEV7_15, &val, l);

    pr("\n\n\t:-:-:-:  GLOBAL  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_4, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_5, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_6, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_7, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_8, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_9, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_10, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_11, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_12, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_13, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_14, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_15, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_16, &val, l);
    PHY_MALIBU_DISP_REG(port_no, GLOBAL_17, &val, l);

    pr("\n\n\t:-:-:-:  CLK_CFG  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, CLK_CFG, &val, l);

    pr("\n\n\t:-:-:-:  HOST_PLL5G  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, HOST_PLL5G, &val, l);

    pr("\n\n\t:-:-:-:  LINE_PLL5  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, LINE_PLL5, &val, l);

    pr("\n\n\t:-:-:-:  F2DF_DF2F_16BIT  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_16BIT_1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_16BIT_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_16BIT_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_16BIT_4, &val, l);

    pr("\n\n\t:-:-:-:  F2DF_DF2F_32BIT  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_32BIT_1, &val, l);
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_32BIT_2, &val, l);
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_32BIT_3, &val, l);
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_32BIT_4, &val, l);
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_32BIT_5, &val, l);
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_32BIT_6, &val, l);
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_32BIT_7, &val, l);
    PHY_MALIBU_DISP_REG(port_no, F2DF_DF2F_32BIT_8, &val, l);

    pr("\n\n\t:-:-:-:  EXP_CFG  :-:-:-:");
    PHY_MALIBU_DISP_REG(port_no, EXP_CFG, &val, l);
    pr("\n");

    pr("\n\n\t:-:-:-:  MACSEC  :-:-:-:");
    vtss_macsec_dbg_reg_dump(vtss_state, port_no, pr);

}
static void prnt_reg(char *reg_name,u32 value,const vtss_debug_printf_t pr) {
    int tcount = 0;
    pr("%-30s ::0x%08x ",reg_name,value);

    for (tcount=31;tcount>=0;--tcount) {
        pr("%u%s",value & (1 << tcount) ? 1:0,tcount== 0 ? "\n" : (tcount % 4) ? "" : ".");
    }
}
vtss_rc vtss_phy_10g_debug_malibu_info_print(struct vtss_state_s *vtss_state,
        const vtss_debug_printf_t pr,
        vtss_port_no_t        port_no) {
    u32 val=0;
    vtss_phy_10g_port_state_t *ps = &vtss_state->phy_10g_state[port_no];
    vtss_phy_malibu_register_dump(vtss_state, pr, port_no);
    /*
       1)      10G Serdes status registers:
       a.      APC
       i.      :apc_common_cfg0
       ii.     :apc_eqz_offs_ctrl
       iii.    :apc_eqz_ctrl_status
       iv.     :apc_eqz_l_ctrl
       v.      :apc_eqz_c_ctrl
       vi.     :apc_eqz_agc_ctrl
       vii.    :apc_eqz_dfe1_ctrl
       viii.   :apc_eqz_dfe2_ctrl
       ix.     :apc_eqz_def3_ctrl
       x.      :apc_eqz_def4_ctrl
       b.      OB
       i.      :sd10g65_ob_cfg2
       c.      RCPLLs
       i.      :sd10g65_tx_rcpll_stat0
       ii.     :sd10g65_tx_rcpll_stat1
       iii.    :sd10g65_rx_rcpll_stat0
       iv.     :sd10g65_rx_rcpll_stat1
       d.      LCPLLs
       i.      :l_pll5g_status0
       ii.     :l_pll5g_status1a
       iii.    :l_pll5g_status1b
       iv.     :h_pll5g_status0
       v.      :h_pll5g_status1a
       vi.     :h_pll5g_status1b
       2)      Digital Core
       a.      10G PCS (line & host)
       i.      :eth_10gbase_r_pcs_status_2 (read twice)
       ii.     :eth_10gbase_r_pcs_status_1 (read twice)
       iii.    :pcs_status_2 (read twice)
       iv.     :pcs_status_1 (read twice)
       b.      10G WIS
       i.      :wis_stat3 (read twice)
       ii.     :wis_stat1
       c.      1G PCS (line & host)
       i.      :pcs1g_cfg
       ii.     :pcs1g_mode_cfg
       iii.    :pcs1g_sd_cfg
       iv.     :pcs1g_aneg_cfg
       v.      :pcs1g_aneg_cfg2
       vi.     :pcs1g_link_status
       vii.    :pcs1g_sticky (read, followed by writing 0x11, followed by another read)
       viii.   :pcs1g_aneg_status
     */
    pr ("port %u, channel id %u\n",port_no+1,ps->channel_id);
    pr ("=====================================================================================\n");
    pr ("%-30s   %-10s %-40s\n","","","----.--24.----.--16.----.---8.----.---0");
    pr ("=====================================================================================\n");
    /* LINE APC */
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0  , &val);
    prnt_reg("L:apc_common_cfg0",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL, &val);
    prnt_reg("L:apc_eqz_offs_ctrl",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS, &val);
    prnt_reg("L:apc_eqz_ctrl_status",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL, &val);
    prnt_reg("L:apc_eqz_l_ctrl",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL, &val);
    prnt_reg("L:apc_eqz_c_ctrl",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL, &val);
    prnt_reg("L:apc_eqz_agc_ctrl",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL, &val);
    prnt_reg("L:apc_eqz_dfe1_ctrl",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL, &val);
    prnt_reg("L:apc_eqz_dfe2_ctrl",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL, &val);
    prnt_reg("L:apc_eqz_def3_ctrl",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL, &val);
    prnt_reg("L:apc_eqz_def4_ctrl",val,pr);

    /* Line OB */
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2, &val);
    prnt_reg("L:sd10g65_ob_cfg2",val,pr);

    /* Line RCPLLs */
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT0, &val);
    prnt_reg("L:sd10g65_tx_rcpll_stat0",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT1, &val);
    prnt_reg("L:sd10g65_tx_rcpll_stat1",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT0, &val);
    prnt_reg("L:sd10g65_rx_rcpll_stat0",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT1, &val);
    prnt_reg("L:sd10g65_rx_rcpll_stat1",val,pr);

    /* Line LCPLL */
    CSR_RD(port_no, VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS0, &val);
    prnt_reg("L:l_pll5g_status0",val,pr);
    CSR_RD(port_no, VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1A, &val);
    prnt_reg("L:l_pll5g_status1a",val,pr);
    CSR_RD(port_no, VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1B, &val);
    prnt_reg("L:l_pll5g_status1b",val,pr);

    /* Line Digital Core - 10G PCS */
    CSR_RD(port_no, VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_1_Eth_10GBASE_R_PCS_Status_1, &val);
    CSR_RD(port_no, VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_1_Eth_10GBASE_R_PCS_Status_1, &val);
    prnt_reg("L:eth_10gbase_r_pcs_status_1 ",val,pr);

    CSR_RD(port_no, VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, &val);
    CSR_RD(port_no, VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, &val);
    prnt_reg("L:eth_10gbase_r_pcs_status_2",val,pr);

    CSR_RD(port_no, VTSS_LINE_PCS10G_PCS_Status_1_PCS_Status_1, &val);
    CSR_RD(port_no, VTSS_LINE_PCS10G_PCS_Status_1_PCS_Status_1, &val);
    prnt_reg("L:pcs_status_1 ",val,pr);

    CSR_RD(port_no, VTSS_LINE_PCS10G_PCS_Status_2_PCS_Status_2, &val);
    CSR_RD(port_no, VTSS_LINE_PCS10G_PCS_Status_2_PCS_Status_2, &val);
    prnt_reg("L:pcs_status_2 ",val,pr);

    /* Line Digital Core - 10G WIS */
    CSR_RD(port_no, VTSS_WIS_WIS_Status_3_WIS_STAT3, &val);
    CSR_RD(port_no, VTSS_WIS_WIS_Status_3_WIS_STAT3, &val);
    prnt_reg("L:wis_stat3 ",val,pr);

    CSR_RD(port_no, VTSS_WIS_WIS_Status_1_WIS_STAT1, &val);
    prnt_reg("L:wis_stat1",val,pr);

    /* Line 1G PCS */
    CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG, &val);
    prnt_reg("L:pcs1g_cfg",val,pr);
    CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG, &val);
    prnt_reg("L:pcs1g_mode_cfg",val,pr);
    CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_SD_CFG, &val);
    prnt_reg("L:pcs1g_sd_cfg",val,pr);
    CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG, &val);
    prnt_reg("L:pcs1g_aneg_cfg",val,pr);
    CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_LINK_STATUS, &val);
    prnt_reg("L:pcs1g_link_status",val,pr);

    CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &val);
    CSR_WR(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, 0x11);
    CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &val);
    prnt_reg("L:pcs1g_sticky ",val,pr);

    CSR_RD(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG, &val);
    prnt_reg("L:pcs1g_cfg",val,pr);

    /* Host APC */
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0  , &val);
    prnt_reg("H:apc_common_cfg0",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL, &val);
    prnt_reg("H:apc_eqz_offs_ctrl",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS, &val);
    prnt_reg("H:apc_eqz_ctrl_status",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL, &val);
    prnt_reg("H:apc_eqz_l_ctrl",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL, &val);
    prnt_reg("H:apc_eqz_c_ctrl",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL, &val);
    prnt_reg("H:apc_eqz_agc_ctrl",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL, &val);
    prnt_reg("H:apc_eqz_dfe1_ctrl",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL, &val);
    prnt_reg("H:apc_eqz_dfe2_ctrl",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL, &val);
    prnt_reg("H:apc_eqz_def3_ctrl",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL, &val);
    prnt_reg("H:apc_eqz_def4_ctrl",val,pr);

    /* OB */
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2, &val);
    prnt_reg("H:sd10g65_ob_cfg2",val,pr);

    /* RCPLLs */
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT0, &val);
    prnt_reg("H:sd10g65_tx_rcpll_stat0",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT1, &val);
    prnt_reg("H:sd10g65_tx_rcpll_stat1",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT0, &val);
    prnt_reg("H:sd10g65_rx_rcpll_stat0",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT1, &val);
    prnt_reg("H:sd10g65_rx_rcpll_stat1",val,pr);

    /* LCPLL */
    CSR_RD(port_no, VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS0, &val);
    prnt_reg("H:h_pll5g_status0",val,pr);
    CSR_RD(port_no, VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1A, &val);
    prnt_reg("H:h_pll5g_status1a",val,pr);
    CSR_RD(port_no, VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1B, &val);
    prnt_reg("H:h_pll5g_status1b",val,pr);

    /* Digital Core - 10G PCS */
    CSR_RD(port_no, VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_1_Eth_10GBASE_R_PCS_Status_1, &val);
    CSR_RD(port_no, VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_1_Eth_10GBASE_R_PCS_Status_1, &val);
    prnt_reg("H:eth_10gbase_r_pcs_status_1",val,pr);

    CSR_RD(port_no, VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, &val);
    CSR_RD(port_no, VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, &val);
    prnt_reg("H:eth_10gbase_r_pcs_status_2",val,pr);

    CSR_RD(port_no, VTSS_HOST_PCS10G_PCS_Status_1_PCS_Status_1, &val);
    CSR_RD(port_no, VTSS_HOST_PCS10G_PCS_Status_1_PCS_Status_1, &val);
    prnt_reg("H:pcs_status_1",val,pr);

    CSR_RD(port_no, VTSS_HOST_PCS10G_PCS_Status_2_PCS_Status_2, &val);
    CSR_RD(port_no, VTSS_HOST_PCS10G_PCS_Status_2_PCS_Status_2, &val);
    prnt_reg("H:pcs_status_2",val,pr);

    /* Digital Core - 10G WIS */
    CSR_RD(port_no, VTSS_WIS_WIS_Status_3_WIS_STAT3, &val);
    CSR_RD(port_no, VTSS_WIS_WIS_Status_3_WIS_STAT3, &val);
    prnt_reg("H:wis_stat3",val,pr);

    CSR_RD(port_no, VTSS_WIS_WIS_Status_1_WIS_STAT1, &val);
    prnt_reg("H:wis_stat1",val,pr);

    /* 1G PCS */
    CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_CFG, &val);
    prnt_reg("H:pcs1g_cfg",val,pr);
    CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG, &val);
    prnt_reg("H:pcs1g_mode_cfg",val,pr);
    CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_SD_CFG, &val);
    prnt_reg("H:pcs1g_sd_cfg",val,pr);
    CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG, &val);
    prnt_reg("H:pcs1g_aneg_cfg",val,pr);
    CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_LINK_STATUS, &val);
    prnt_reg("H:pcs1g_link_status",val,pr);

    CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &val);
    CSR_WR(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, 0x11);
    CSR_RD(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_STICKY, &val);
    prnt_reg("H:pcs1g_sticky ",val,pr);

    /* Line PMA registers */
    CSR_RD(port_no, VTSS_LINE_PMA_DEV1_IEEE_PMA_CONTROL_PMA_CONTROL_1, &val);
    prnt_reg("L:pma_control_1",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_DEV1_IEEE_PMA_STATUS_PMA_STATUS_1, &val);
    prnt_reg("L:pma_status_1",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_DEV1_IEEE_PMA_DEVICE_ID_PMA_DEVICE_ID_1, &val);
    prnt_reg("L:pma_device_id_1",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_DEV1_IEEE_PMA_DEVICE_ID_PMA_DEVICE_ID_2, &val);
    prnt_reg("L:pma_device_id_2",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_DEV1_IEEE_PMA_DEVICE_ID_PMA_PMD_SPEED_ABILITY, &val);
    prnt_reg("L:pma_pmd_speed_ability",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_DEV1_IEEE_PMA_DEVICE_ID_PMA_PMD_CONTROL_2, &val);
    prnt_reg("L:pma_pmd_control_2",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_DEV1_IEEE_PMA_PMD_STATUS_PMA_PMD_STATUS_2, &val);
    prnt_reg("L:pma_pmd_status_2",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_DEV1_IEEE_PMD_CONTROL_AND_STATUS_PMD_TRANSMIT_DISABLE, &val);
    prnt_reg("L:pmd_transmit_disable",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_DEV1_IEEE_PMD_CONTROL_AND_STATUS_PMD_RECEIVE_SIGNAL_DETECT, &val);
    prnt_reg("L:pma_pmd_receive_signal_detect",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_RX_ALARM_Control_Register_RX_ALARM_Control_Register, &val);
    prnt_reg("L:rx_alarm_control_register",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_RX_ALARM_Status_Register_RX_ALARM_Status_Register, &val);
    prnt_reg("L:rx_alarm_status_register",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_TX_ALARM_Control_Register_TX_ALARM_Control_Register, &val);
    prnt_reg("L:tx_alarm_control_register",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_TX_ALARM_Status_Register_TX_ALARM_Status_Register, &val);
    prnt_reg("L:tx_alarm_status_register",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_DATAPATH_CONTROL_DATAPATH_MODE, &val);
    prnt_reg("L:datapath_mode",val,pr);
    CSR_RD(port_no, VTSS_LINE_PMA_LOOPBACK_CONTROL_PMA_LOOPBACK_CONTROL, &val);
    prnt_reg("L:pma_loopback_control",val,pr);

    /* Host PMA registers */
    CSR_RD(port_no, VTSS_HOST_PMA_DEV1_IEEE_PMA_CONTROL_PMA_CONTROL_1, &val);
    prnt_reg("H:pma_control_1",val,pr);
    CSR_RD(port_no, VTSS_HOST_PMA_DEV1_IEEE_PMA_STATUS_PMA_STATUS_1, &val);
    prnt_reg("H:pma_status_1",val,pr);

    return VTSS_RC_OK;

}

static void malibu_debug_reg_header(const vtss_debug_printf_t pr)
{
    pr("%-45s   DEV_ID REG_ADDR   VALUE\n", "REG_NAME");
}

vtss_rc malibu_10g_debug_reg_dump(vtss_state_t *vtss_state,
        const vtss_debug_printf_t pr,
        BOOL clear, vtss_port_no_t port_no)
{
    char buf[32];
    u32 value;


    if (clear) {
        /* Enable MON_CFG */
        CSR_COLD_WRM(port_no,VTSS_FIFO_BIST_MON_CFG_MON_CFG,
                VTSS_F_FIFO_BIST_MON_CFG_MON_CFG_enable,
                VTSS_F_FIFO_BIST_MON_CFG_MON_CFG_enable);

        //PCS_XAUI registers not present in malibu.
        //CSR_WR(port_no, VTSS_PCS_XAUI_PCS_XAUI_STATUS_PCS_XAUI_INT, 0xffff);
        //CSR_WR(port_no, VTSS_PCS_XAUI_PCS_XAUI_STATUS_PCS_XAUI_INT2, 0xffff);

        /* Reset counters */
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_MON_RST_MON_RST,
                VTSS_BIT(0),
                VTSS_BIT(0));

    } else {
        sprintf(buf, "PORT %d", port_no);
        pr("LINE REGISTERS\n");
        malibu_debug_reg_header(pr);

        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_PCS_Status_2_PCS_Status_2, "PCS_STATUS_2", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_PCS_Status_2_PCS_Status_2, "PCS_STATUS_2", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_PCS_Status_2_PCS_Status_2, "PCS_STATUS_2", &value);

        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, "10GBASE_R_PCS_Status_2", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, "10GBASE_R_PCS_Status_2", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, "10GBASE_R_PCS_Status_2", &value);

        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_PCS_TX_SEQ_ERR_CNT_PCS_TX_SEQ_ERR_CNT, "PCS_Tx_Sequencing_Error_Count", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_PCS_RX_SEQ_ERR_CNT_PCS_RX_SEQ_ERR_CNT, "PCS_Rx_Sequencing_Error_Count", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_PCS_TX_BLK_ENC_ERR_CNT_PCS_TX_BLK_ENC_ERR_CNT, "PCS_Tx_Block_Encode_Error_Count", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_PCS_PCS_RX_BLK_DEC_ERR_CNT_PCS_PCS_RX_BLK_DEC_ERR_CNT, "PCS_Rx_Block_Encode_Error_Count", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_PCS_TX_CHAR_ENC_ERR_CNT_PCS_TX_CHAR_ENC_ERR_CNT, "PCS_Tx_Char_Encode_Error_Count", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_LINE_PCS10G_PCS_RX_CHAR_DEC_ERR_CNT_PCS_RX_CHAR_DEC_ERR_CNT, "PCS_Rx_Char_Encode_Error_Count", &value);


        //APC REGISTERS
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL, "APC_EQZ_L_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG, "APC_EQZ_L_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL, "APC_EQZ_C_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG, "APC_EQZ_C_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL, "APC_EQZ_AGC_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG, "APC_EQZ_AGC_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL, "APC_EQZ_OFFS_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG, "APC_EQZ_OFFS_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL, "APC_EQZ_LD_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS, "APC_EQZ_CTRL_STATUS", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG, "APC_EQZ_GAIN_CTRL_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL, "APC_DFE1_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG, "APC_DFE1_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL, "APC_DFE2_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG, "APC_DFE2_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL, "APC_DFE3_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG, "APC_DFE3_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL, "APC_DFE4_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG, "APC_DFE4_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0, "APC_COMMON_CFG0", &value);

        //10G Serdes output buffer
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0, "SD10G65_OB_CFG0", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1, "SD10G65_OB_CFG1", &value);                                       malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2, "SD10G65_OB_CFG2", &value);


        //HOST REGISTERS
        pr("HOST REGISTERS\n");
        malibu_debug_reg_header(pr);

        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_PCS_Status_2_PCS_Status_2, "PCS_STATUS_2", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_PCS_Status_2_PCS_Status_2, "PCS_STATUS_2", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_PCS_Status_2_PCS_Status_2, "PCS_STATUS_2", &value);

        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, "10GBASE_R_PCS_Status_2", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, "10GBASE_R_PCS_Status_2", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_Eth_10GBASE_R_PCS_Status_2_Eth_10GBASE_R_PCS_Status_2, "10GBASE_R_PCS_Status_2", &value);

        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_PCS_TX_SEQ_ERR_CNT_PCS_TX_SEQ_ERR_CNT, "PCS_Tx_Sequencing_Error_Count", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_PCS_RX_SEQ_ERR_CNT_PCS_RX_SEQ_ERR_CNT, "PCS_Rx_Sequencing_Error_Count", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_PCS_TX_BLK_ENC_ERR_CNT_PCS_TX_BLK_ENC_ERR_CNT, "PCS_Tx_Block_Encode_Error_Count", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_PCS_PCS_RX_BLK_DEC_ERR_CNT_PCS_PCS_RX_BLK_DEC_ERR_CNT, "PCS_Rx_Block_Encode_Error_Count", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_PCS_TX_CHAR_ENC_ERR_CNT_PCS_TX_CHAR_ENC_ERR_CNT, "PCS_Tx_Char_Encode_Error_Count", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_HOST_PCS10G_PCS_RX_CHAR_DEC_ERR_CNT_PCS_RX_CHAR_DEC_ERR_CNT, "PCS_Rx_Char_Encode_Error_Count", &value);


        //APC REGISTERS
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL, "APC_EQZ_L_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG, "APC_EQZ_L_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL, "APC_EQZ_C_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG, "APC_EQZ_C_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL, "APC_EQZ_AGC_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG, "APC_EQZ_AGC_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL, "APC_EQZ_OFFS_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG, "APC_EQZ_OFFS_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL, "APC_EQZ_LD_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS, "APC_EQZ_CTRL_STATUS", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG, "APC_EQZ_GAIN_CTRL_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL, "APC_DFE1_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG, "APC_DFE1_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL, "APC_DFE2_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG, "APC_DFE2_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL, "APC_DFE3_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG, "APC_DFE3_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL, "APC_DFE4_CTRL", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG, "APC_DFE4_PAR_CFG", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0, "APC_COMMON_CFG0", &value);

        //10G Serdes output buffer
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0, "SD10G65_OB_CFG0", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1, "SD10G65_OB_CFG1", &value);                                       malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2, "SD10G65_OB_CFG2", &value);



        pr("\n");
        malibu_deb_pr_reg(vtss_state, pr, port_no,VTSS_GLOBAL_Temp_Monitor_Temp_Mon_Regs, "Temp_Mon_Regs", &value);

        /* Enable MON_CFG */
        CSR_COLD_WRM(port_no,VTSS_FIFO_BIST_MON_CFG_MON_CFG,
                VTSS_F_FIFO_BIST_MON_CFG_MON_CFG_enable,
                VTSS_F_FIFO_BIST_MON_CFG_MON_CFG_enable);
        /* Update counters */
        CSR_COLD_WRM(port_no,VTSS_FIFO_BIST_UPDATE_UPDATE,
                VTSS_F_FIFO_BIST_UPDATE_UPDATE_cntr_update,
                VTSS_F_FIFO_BIST_UPDATE_UPDATE_cntr_update);

        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_Datapath_Control_Datapath_Control, "Datapath_Control", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_MON_GOODCRC_MON_GOOD_LSW, "MON_GOOD_LSW", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_MON_GOODCRC_MON_GOOD_MSW, "MON_GOOD_MSW", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_MON_BADCRC_MON_BAD_LSW, "MON_BAD_LSW", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_MON_BADCRC_MON_BAD_MSW, "MON_BAD_MSW", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_MON_FRAG_MON_FRAG_LSW, "MON_FRAG_LSW", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_MON_FRAG_MON_FRAG_MSW, "MON_FRAG_MSW", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_MON_LFAULT_MON_LFAULT_LSW, "MON_LFAULT_LSW", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_MON_LFAULT_MON_LFAULT_MSW, "MON_LFAULT_MSW", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_MON_BER_MON_BER_LSW, "MON_BER_LSW", &value);
        malibu_deb_pr_reg(vtss_state, pr, port_no, VTSS_FIFO_BIST_MON_BER_MON_BER_MSW, "MON_BER_MSW", &value);
    }
    return (VTSS_RC_OK);
}


//function for circle phase aux, used in VSCOPE
static vtss_rc malibu_phy_10g_vscope_circle_phase_aux(struct vtss_state_s *vtss_state,const vtss_port_no_t port_no, BOOL line) 
{
    u32 value=0;

    if (line)
    {
        CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,&value);
        value = VTSS_X_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(value);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX((value + 42)%128),
                VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX((value + 84)%128),
                VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(value),
                VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
    }else {
        CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,&value);
        value = VTSS_X_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(value);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX((value + 42)%128),
                VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX((value + 84)%128),
                VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(value),
                VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);

    } 
    return VTSS_RC_OK;
}

//Function to backup settings used by VSCOPE
static vtss_rc malibu_phy_10g_vscope_backup_settings (struct vtss_state_s *vtss_state, 
        const vtss_port_no_t port_no, BOOL line, vtss_phy_10g_ib_storage_t *const store)
{
    u32 tmp;

    if(line){
        CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,&tmp);
        store->ib_storage_bool[0] = (VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_VSC_DIS & tmp)? TRUE:FALSE;
        CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8, &tmp);
        store->ib_storage_bool[1] = (VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK & tmp) ? TRUE:FALSE;
        CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0, &tmp);
        store->ib_storage_bool[2] = (VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA & tmp) ? TRUE:FALSE;
        CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5, &tmp);
        store->ib_storage_bool[3] = (VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA & tmp) ? TRUE:FALSE;
        store->ib_storage_bool[4] = (VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA & tmp) ? TRUE:FALSE;
        CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0, &tmp);
        store->ib_storage_bool[5] = (VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC & tmp) ? TRUE:FALSE;
        CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4, &tmp);
        store->ib_storage[0]= VTSS_X_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(tmp);
        store->ib_storage[1]= VTSS_X_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(tmp);
        CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2 , &tmp);
        store->ib_storage[2]= VTSS_X_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(tmp);
        CSR_RD(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A, &tmp);
        store->ib_storage[3] = VTSS_X_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT(tmp);
        CSR_RD(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B, &tmp);
        store->ib_storage[4] = VTSS_X_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_HW_SCAN_ENA(tmp);
    }else {
        CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,&tmp);
        store->ib_storage_bool[0] = (VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_VSC_DIS & tmp)? TRUE:FALSE;
        CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8, &tmp);
        store->ib_storage_bool[1] = (VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK & tmp) ? TRUE:FALSE;
        CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0, &tmp);
        store->ib_storage_bool[2] = (VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA & tmp) ? TRUE:FALSE;
        CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5, &tmp);
        store->ib_storage_bool[3] = (VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA & tmp) ? TRUE:FALSE;
        store->ib_storage_bool[4] = (VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA & tmp) ? TRUE:FALSE;
        CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0, &tmp);
        store->ib_storage_bool[5] = (VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC & tmp) ? TRUE:FALSE;
        CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4, &tmp);
        store->ib_storage[0]= VTSS_X_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(tmp);
        store->ib_storage[1]= VTSS_X_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(tmp);
        CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2 , &tmp);
        store->ib_storage[2]= VTSS_X_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(tmp);
        CSR_RD(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A, &tmp);
        store->ib_storage[3] = VTSS_X_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT(tmp);
        CSR_RD(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B, &tmp);
        store->ib_storage[4] = VTSS_X_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_HW_SCAN_ENA(tmp);
    }
    return VTSS_RC_OK;
}

//Function to restore backed up settings used by VSCOPE
static vtss_rc malibu_phy_10g_vscope_restore_settings (struct vtss_state_s *vtss_state,
        const vtss_port_no_t port_no, BOOL line, vtss_phy_10g_ib_storage_t *const store)
{
    if(line){
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
                store->ib_storage_bool[0], VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_VSC_DIS);
        if(!(store->ib_storage_bool[1]))
        {
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
                    store->ib_storage_bool[1], VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK);
        }
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                store->ib_storage_bool[2], VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                store->ib_storage_bool[3], VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                store->ib_storage_bool[4], VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA);
        CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(store->ib_storage[1]),
                VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(store->ib_storage[0]),
                VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(store->ib_storage[2]),
                VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT(store->ib_storage[3]),
                VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_HW_SCAN_ENA(store->ib_storage[4]),
                VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_HW_SCAN_ENA);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                store->ib_storage_bool[5],VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC);
    }else{
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
                store->ib_storage_bool[0], VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_VSC_DIS);
        if(!(store->ib_storage_bool[1])){
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
                    store->ib_storage_bool[1], VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK);
        }
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                store->ib_storage_bool[2], VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                store->ib_storage_bool[3], VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                store->ib_storage_bool[4], VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA);
        CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(store->ib_storage[1]),
                VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(store->ib_storage[0]),
                VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(store->ib_storage[2]),
                VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT(store->ib_storage[3]),
                VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_HW_SCAN_ENA(store->ib_storage[4]),
                VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_HW_SCAN_ENA);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                store->ib_storage_bool[5],VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC);
    }
    return VTSS_RC_OK;

}

//calculates fast scan output parameters
static vtss_rc malibu_phy_10g_vscope_fast_scan_status_get(struct vtss_state_s * vtss_state,
        const vtss_port_no_t port_no,
        vtss_phy_10g_vscope_scan_status_t *const conf)
{
    vtss_phy_10g_ib_storage_t store;
    u8 loop_cntr = 1;
    i32 positive_phase = -1,negative_phase = -1, positive_amplitude = -1, negative_amplitude = -1,i;
    i32 steps = 0;
    u32 error_counter, l_thres, h_thres,tmp=0,err_thres=0, counter_val = 0;
    i32 phase_start_val,phase_jump_val = 96;
    i32 ampl_start_pos = 32;
    i32 ampl_start_neg = 31;
    BOOL line;

    memset(&store, 0, sizeof(vtss_phy_10g_ib_storage_t));
    err_thres = vtss_state->phy_10g_state[port_no].vscope_conf.error_thres;
    line = vtss_state->phy_10g_state[port_no].vscope_conf.line ;
    
    if(line)
    {
        //storing IB, DES and APC settings
        VTSS_RC(malibu_phy_10g_vscope_backup_settings(vtss_state, port_no, 1, &store));

        //disable APC
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA);

        //setup test run
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(ampl_start_pos),
                VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);            
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(ampl_start_neg),
                VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT(31),
                VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        CSR_RD(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A, &tmp);
        counter_val = tmp << 16;
        CSR_RD(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B, &tmp);
        counter_val |= tmp;

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        if (counter_val > err_thres) {
            VTSS_RC(malibu_phy_10g_vscope_circle_phase_aux(vtss_state,port_no,1));

        }
        //get the phase_start_val
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2, &tmp);
        phase_start_val = VTSS_X_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA(tmp);

        //measuring positive phase
        for(i = phase_start_val; i< 128; i = i + loop_cntr)
        {
            steps++;
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(i),
                    VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            CSR_RD(port_no,VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A,&tmp);
            error_counter = tmp << 16;
            CSR_RD(port_no,VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B,&tmp);
            error_counter |= tmp;
            if(error_counter > err_thres) {
                positive_phase = i;
                break;
            }
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            if( i == phase_jump_val)
            {
                CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                        0,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA);
                CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                        0,VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA);
            }
        }
        if(steps > 63 )
        {
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(90),
                    VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
        }
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA, 
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        //measuring negative phase
        for(i = phase_start_val; i>=0; i=i-loop_cntr)
        {
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(i),
                    VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            CSR_RD(port_no,VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A,&tmp);
            error_counter = tmp << 16;
            CSR_RD(port_no,VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B,&tmp);
            error_counter = error_counter | tmp;
            if(error_counter > err_thres)
            {
                negative_phase = i;
                break;
            }
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        }
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(phase_start_val),
                VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        //measuring positive amplitude
        for(i = ampl_start_pos; i<63; i++)
        {
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(i),
                    VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            CSR_RD(port_no,VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A,&tmp);
            error_counter = tmp << 16;
            CSR_RD(port_no,VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B,&tmp);
            error_counter = error_counter | tmp;
            if(error_counter > err_thres)
            {
                positive_amplitude = i;
                break;
            }
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        }
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        //measuring negative amplitude
        for(i = ampl_start_neg; i>=0; i--)
        {
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(i),
                    VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            CSR_RD(port_no,VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A,&tmp);
            error_counter = tmp << 16;
            CSR_RD(port_no,VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B,&tmp);
            error_counter = error_counter | tmp;
            if(error_counter > err_thres)
            {
                negative_amplitude = i;
                break;
            }
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        }
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(phase_start_val),
                VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(ampl_start_pos),
                VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);


        //SET IB and DES to the values they had before the scan
        VTSS_RC(malibu_phy_10g_vscope_restore_settings(vtss_state, port_no, 1, &store));

        CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4, &tmp);
        h_thres = VTSS_X_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(tmp);
        l_thres = VTSS_X_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(tmp);
        conf->amp_range = h_thres - l_thres;
    }else{

        //storing IB, DES and APC settings
        VTSS_RC(malibu_phy_10g_vscope_backup_settings(vtss_state, port_no, 0, &store));

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA);
        //setup test run
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(ampl_start_pos),
                VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);            
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(ampl_start_neg),
                VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT(31),
                VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        CSR_RD(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A, &tmp);
        counter_val = tmp << 16;
        CSR_RD(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B, &tmp);
        counter_val |= tmp;

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        if (counter_val > err_thres) {
            VTSS_RC(malibu_phy_10g_vscope_circle_phase_aux(vtss_state,port_no,0));
        }

        //get the phase_start_val
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2, &tmp);
        phase_start_val = VTSS_X_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA(tmp);

        //measuring positive phase.
        steps = 0;
        for(i = phase_start_val; i< 128; i = i + loop_cntr)
        {
            steps++;
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(i),
                    VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            CSR_RD(port_no,VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A,&tmp);
            error_counter = tmp << 16;
            CSR_RD(port_no,VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B,&tmp);
            error_counter |= tmp;
            if(error_counter > err_thres) {

                positive_phase = i;
                break;
            }
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            if( i == phase_jump_val)
            {
                CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                        0,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA);
                CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                        0,VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA);
            }
        }
        if(steps > 63)
        {
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(90),
                    VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
        }
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA, 
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPH_ENA);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG5_IB_JUMPL_ENA);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        //measuring negative phase
        for(i = phase_start_val; i>=0; i=i-loop_cntr)
        {
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(i),
                    VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            CSR_RD(port_no,VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A,&tmp);
            error_counter = tmp << 16;
            CSR_RD(port_no,VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B,&tmp);
            error_counter = error_counter | tmp;
            if(error_counter > err_thres)
            {
                negative_phase = i;
                break;
            }
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        }
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(phase_start_val),
                VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        //measuring positive amplitude
        for(i = ampl_start_pos; i<63; i++)
        {
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(i),
                    VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            CSR_RD(port_no,VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A,&tmp);
            error_counter = tmp << 16;
            CSR_RD(port_no,VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B,&tmp);
            error_counter = error_counter | tmp;
            if(error_counter > err_thres)
            {
                positive_amplitude = i;
                break;
            }
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        }
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        //measuring negative amplitude
        for(i = ampl_start_neg; i>=0; i--)
        {
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(i),
                    VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            CSR_RD(port_no,VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A,&tmp);
            error_counter = tmp << 16;
            CSR_RD(port_no,VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B,&tmp);
            error_counter = error_counter | tmp;
            if(error_counter > err_thres)
            {
                negative_amplitude = i;
                break;
            }
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        }
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(phase_start_val),
                VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(ampl_start_pos),
                VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        //SET IB and DES to the values they had before the scan
        VTSS_RC(malibu_phy_10g_vscope_restore_settings(vtss_state, port_no, 0, &store));

        CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4, &tmp);
        h_thres = VTSS_X_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(tmp);
        l_thres = VTSS_X_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_L_THRES(tmp);
        conf->amp_range = h_thres - l_thres;
    }

    if(positive_phase == negative_phase)
    { 
        conf->error_free_x = 0;
    }else if(positive_phase == -1 || negative_phase == -1 || positive_phase == phase_start_val || negative_phase == phase_start_val){
        conf->error_free_x =0;
    }else{
        conf->error_free_x = (positive_phase -1) - (negative_phase + 1);
    }
    if(positive_amplitude == (negative_amplitude + 1))
    {
        conf->error_free_y = 0;
    }else if(positive_amplitude == -1 || negative_amplitude == -1 || positive_amplitude == ampl_start_pos || negative_amplitude == ampl_start_neg){
        conf->error_free_y =0;
    }else{
        conf->error_free_y = (positive_amplitude -1) - (negative_amplitude + 1);
        if(conf->error_free_y > conf->amp_range)
            conf->error_free_y = conf->amp_range;
    }

    return VTSS_RC_OK;
}


static vtss_rc malibu_phy_10g_vscope_xy_scan_eye_sw( struct vtss_state_s * vtss_state,
        const vtss_port_no_t port_no,
        vtss_phy_10g_vscope_scan_status_t * const conf)
{
    vtss_phy_10g_ib_storage_t store; 
    u32 hit_cnt, symDisable, tmp, skipAmpl, actPhase, actAmpl, counter_val, err_thres;
    u32 i,j;
    //value to be calculated using x/log10(2)
    BOOL line;
    hit_cnt = conf->scan_conf.ber;
    symDisable = 0;
    err_thres = vtss_state->phy_10g_state[port_no].vscope_conf.error_thres;
    line = vtss_state->phy_10g_state[port_no].vscope_conf.line;
    memset(&store, 0, sizeof(vtss_phy_10g_ib_storage_t));
 
    //checking bounds of the scan parameters
    if(conf->scan_conf.x_start + conf->scan_conf.x_count > 127){
        return VTSS_RC_ERROR;
    }
    if(conf->scan_conf.y_start + conf->scan_conf.y_count > 63){
        return VTSS_RC_ERROR;
    }

    if(line)
    {
        VTSS_RC(malibu_phy_10g_vscope_backup_settings(vtss_state, port_no, 1, &store));

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT(14),
                VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C ,
                0,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_QUICK_SCAN);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_HW_SCAN_ENA(0),
                VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_HW_SCAN_ENA);
        conf->scan_conf.x_incr++;
        conf->scan_conf.y_incr++;
        //FREEZE APC 
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4 ,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(32),
                VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA);


        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK); 

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        CSR_RD(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A, &tmp);
        counter_val = tmp << 16;
        CSR_RD(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B, &tmp);
        counter_val |= tmp;

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        if (counter_val > err_thres) {
            VTSS_RC(malibu_phy_10g_vscope_circle_phase_aux(vtss_state,port_no,1));
       }
       CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT(hit_cnt),
                VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT);


        for( j = 0 ; j <= conf->scan_conf.x_count; j = j + conf->scan_conf.x_incr){
            skipAmpl = 0;
            for( i = 0; (i + skipAmpl) <= conf->scan_conf.y_count; i = i+ conf->scan_conf.y_incr) {
                actPhase = j + conf->scan_conf.x_start;
                skipAmpl = 0;
                if((symDisable == 0) && ( conf->scan_conf.y_start < 32) && ((i + conf->scan_conf.y_start) >= 32)){
                    skipAmpl = 1;
                }
                actAmpl = i + conf->scan_conf.y_start + skipAmpl;

                //write phase and aux values (vscope10g_get_xy_point)
                CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(actPhase),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
                CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4 ,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(actAmpl),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);
                CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                        VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                        VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
                CSR_RD(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A, &tmp);
                counter_val = tmp << 16;
                CSR_RD(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B, &tmp);
                counter_val |= tmp;
                CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                        0,
                        VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
                conf->errors[actPhase][actAmpl] = counter_val;
            }
        }

        //Aux circle phase condition 
        if ((((conf->scan_conf.x_count * conf->scan_conf.x_incr) % 128) - conf->scan_conf.x_start) > 63){
            VTSS_RC(malibu_phy_10g_vscope_circle_phase_aux(vtss_state,port_no,1));
        }
        //backup settings to be restored ========> resolved 
        VTSS_RC(malibu_phy_10g_vscope_restore_settings(vtss_state, port_no, 1, &store));
    } else {

        VTSS_RC(malibu_phy_10g_vscope_backup_settings(vtss_state, port_no, 0, &store));

        //calculate hit cnt from ber (hit count) =======>  lets do this in ICLI and give the formula to customer
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT(14),
                VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C ,
                0,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_QUICK_SCAN);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_HW_SCAN_ENA(0),
                VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_HW_SCAN_ENA);
        conf->scan_conf.x_incr++;
        conf->scan_conf.y_incr++;

        //FREEZE APC 
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4 ,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(32),
                VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_VSCOPE_ENA);

        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG8_IB_SEL_VCLK);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        CSR_RD(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A, &tmp);
        counter_val = tmp << 16;
        CSR_RD(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B, &tmp);
        counter_val |= tmp;

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                0,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);

        if (counter_val > err_thres) {
            VTSS_RC(malibu_phy_10g_vscope_circle_phase_aux(vtss_state,port_no,0));
        }

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT(hit_cnt),
                VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_PRELOAD_HIT_CNT);

        for( j = 0 ; j <= conf->scan_conf.x_count; j = j + conf->scan_conf.x_incr){
            skipAmpl = 0;
            for( i = 0; (i + skipAmpl) <= conf->scan_conf.y_count; i = i+ conf->scan_conf.y_incr) {
                actPhase = j + conf->scan_conf.x_start;
                skipAmpl = 0;
                if((symDisable == 0) && ( conf->scan_conf.y_start < 32) && ((i + conf->scan_conf.y_start) >= 32)){
                    skipAmpl = 1;
                }
                actAmpl = i + conf->scan_conf.y_start + skipAmpl;

                //write phase and aux values (vscope10g_get_xy_point)
                CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(actPhase),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);
                CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4 ,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES(actAmpl),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG4_IB_VSCOPE_H_THRES);
                CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                        VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA,
                        VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
                CSR_RD(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_A, &tmp);
                counter_val = tmp << 16;
                CSR_RD(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_CNT_B, &tmp);
                counter_val |= tmp;
                CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                        0,
                        VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
                conf->errors[actPhase][actAmpl] = counter_val;
            }
        }

        //some temp array processing here to be added later.

        //Aux circle phase condition 
        if ((((conf->scan_conf.x_count * conf->scan_conf.x_incr)%128)-conf->scan_conf.x_start) > 63){
            VTSS_RC(malibu_phy_10g_vscope_circle_phase_aux(vtss_state,port_no,0));
        }
        //backup settings to be restored ========> resolved 
        VTSS_RC(malibu_phy_10g_vscope_restore_settings(vtss_state, port_no, 0, &store));
    }
    return VTSS_RC_OK;
}



static vtss_rc malibu_phy_10g_vscope_scan_status_get( struct vtss_state_s *vtss_state,
        const vtss_port_no_t port_no,
        vtss_phy_10g_vscope_scan_status_t *const conf)
{
    vtss_phy_10g_vscope_scan_t scan_type;
    scan_type = vtss_state->phy_10g_state[port_no].vscope_conf.scan_type;
    if (scan_type == VTSS_PHY_10G_FAST_SCAN){	
        VTSS_RC(malibu_phy_10g_vscope_fast_scan_status_get(vtss_state, port_no, conf));
    } else if (scan_type == VTSS_PHY_10G_FULL_SCAN){
        VTSS_RC(malibu_phy_10g_vscope_xy_scan_eye_sw(vtss_state, port_no, conf));
    } else {
        return VTSS_RC_ERROR;
    }
    return VTSS_RC_OK;
}


static vtss_rc malibu_phy_10g_vscope_fast_scan_conf_set( struct vtss_state_s *vtss_state,
        const vtss_port_no_t port_no,
        const vtss_phy_10g_vscope_conf_t *const conf)
{
    if(conf->line)
    {

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA);

        //setup the vscope block
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_B,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_B_HIST_MASK(0),
                VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_B_HIST_MASK);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_CNT_OUT_SEL(3),
                VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_CNT_OUT_SEL);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_SCAN_LIM(0),
                VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_SCAN_LIM);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_COUNT_PER(9),
                VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_COUNT_PER);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_INTR_DIS,
                VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_INTR_DIS);
    }else{ 

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_AUX_ENA);

        //setup the vscope block
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_B,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_B_HIST_MASK(0),
                VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_B_HIST_MASK);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_CNT_OUT_SEL(3),
                VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_CNT_OUT_SEL);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_SCAN_LIM(0),
                VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_SCAN_LIM);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_COUNT_PER(9),
                VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_COUNT_PER);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_INTR_DIS,
                VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_INTR_DIS);
    }
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_vscope_conf_set( struct vtss_state_s * vtss_state, 
        const vtss_port_no_t port_no,
        const vtss_phy_10g_vscope_conf_t *const conf)
{
    u32 check_aux_phase,ifmode,tmp;

    if(conf->enable){
        if (conf->line) {
            CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_VSCOPE_ENA,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_VSCOPE_ENA);

            CSR_RD( port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2, &tmp);

            check_aux_phase = VTSS_X_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA(tmp);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(check_aux_phase),
                    VTSS_M_LINE_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);

            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_QUICK_SCAN);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
                    0,
                    VTSS_F_LINE_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_VSC_DIS);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_SYN_PHASE_WR_DIS);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_IB_AUX_OFFS_WR_DIS);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_IB_JUMP_ENA_WR_DIS);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_COMP_SEL(2),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_COMP_SEL);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_SCAN_LIM(1),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_SCAN_LIM);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_INTR_DIS);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_TRIG_ENA);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_CNT_OUT_SEL(0),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_CNT_OUT_SEL);
            CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0, &tmp);

            ifmode = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH(tmp);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_IF_MODE(ifmode),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_IF_MODE);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_PRELOAD_VAL(31),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_PRELOAD_VAL);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_COUNT_PER(31),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_COUNT_PER);

            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_AMPL_INCR(0),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_AMPL_INCR);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_PHASE_INCR(0),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_PHASE_INCR);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1A,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1A_AMPL_OFFS_VAL(0),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1A_AMPL_OFFS_VAL);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_NUM_SCANS_PER_ITR(0),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_NUM_SCANS_PER_ITR);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1A,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1A_PHASE_JUMP_INV);

            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_2A,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_2A_PHASE_JUMP_VAL(96),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_2A_PHASE_JUMP_VAL);
            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_2B,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_2B_AUX_AMPL_SYM_DIS);

            CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_DC_MASK(0x3FF),
                    VTSS_M_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_DC_MASK);
        }else{
            CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_VSCOPE_ENA,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_VSCOPE_ENA);
            CSR_RD( port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2, &tmp);
            check_aux_phase = VTSS_X_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_DATA(tmp);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX(check_aux_phase),
                    VTSS_M_HOST_PMA_32BIT_SD10G65_RX_SYNTH_SD10G65_RX_SYNTH_CFG2_SYNTH_PHASE_AUX);

            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_QUICK_SCAN);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0,
                    0,
                    VTSS_F_HOST_PMA_32BIT_SD10G65_DES_SD10G65_DES_CFG0_DES_VSC_DIS);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_CNT_ENA);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_SYN_PHASE_WR_DIS);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_IB_AUX_OFFS_WR_DIS);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_IB_JUMP_ENA_WR_DIS);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_COMP_SEL(2),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_COMP_SEL);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_SCAN_LIM(1),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_SCAN_LIM);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_INTR_DIS);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_TRIG_ENA);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_CNT_OUT_SEL(0),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_A_CNT_OUT_SEL);
            CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0, &tmp);
            ifmode = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_IF_WIDTH(tmp);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_IF_MODE(ifmode),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_IF_MODE);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_PRELOAD_VAL(31),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_B_PRELOAD_VAL);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_COUNT_PER(31),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_COUNT_PER);

            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_AMPL_INCR(0),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_AMPL_INCR);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_PHASE_INCR(0),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_PHASE_INCR);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1A,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1A_AMPL_OFFS_VAL(0),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1A_AMPL_OFFS_VAL);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_NUM_SCANS_PER_ITR(0),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1B_NUM_SCANS_PER_ITR);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1A,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_1A_PHASE_JUMP_INV);

            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_2A,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_2A_PHASE_JUMP_VAL(96),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_2A_PHASE_JUMP_VAL);
            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_2B,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_HW_SCAN_CFG_2B_AUX_AMPL_SYM_DIS);

            CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_DC_MASK(0x3FF),
                    VTSS_M_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_PAT_LOCK_CFG_A_DC_MASK);
        }
        if (conf->scan_type == VTSS_PHY_10G_FAST_SCAN){
            VTSS_RC(malibu_phy_10g_vscope_fast_scan_conf_set(vtss_state, port_no, conf));
        }

    }else{
        if(conf->line)
        {
            CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_LINE_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_VSCOPE_ENA);
        }else{
            CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C,
                    0,
                    VTSS_F_HOST_PMA_SD10G65_VSCOPE2_VSCOPE_MAIN_CFG_C_VSCOPE_ENA);
        }
    }
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_prbs_mon_conf(struct vtss_state_s *vtss_state,
               const vtss_port_no_t port_no,
               const vtss_phy_10g_direction_t direction,
               const vtss_phy_10g_prbs_monitor_conf_t *const conf)
{
    VTSS_D("port %u direction %u enable %u max_bist_frames %u,error_states %u, des_interface_width %u , prbsn_sel %u, prbs_check_input_invert %u , no_of_errors %u ,bist_mode %u",
            port_no,direction,
            conf->enable,conf->max_bist_frames,
            conf->error_states,conf->des_interface_width,
            conf->prbsn_sel,conf->prbs_check_input_invert,
            conf->no_of_errors,conf->bist_mode);
    if (direction == VTSS_PHY_10G_DIRECTION_LINE) {
        /* set DFT_BIST_CFG0A register (controlling 'check and wait-stable' mode)*/
        CSR_WARM_WRM( port_no,VTSS_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG0A,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG0A_WAKEUP_DLY_CFG(0x1a),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG0A_WAKEUP_DLY_CFG);
        /*set DFT_BIST_CFG3B register (maximum stable attempts)*/
        CSR_WARM_WRM( port_no,VTSS_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG3B,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG3B_MAX_STABLE_ATTEMPTS_CFG_LSB(0x1a),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG3B_MAX_STABLE_ATTEMPTS_CFG_LSB);
        /*set DFT_BIST_CFG1A register ( controlling 'stable' mode) */
        CSR_WARM_WRM( port_no,VTSS_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG1A,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG1A_MAX_UNSTABLE_CYC_CFG(0x34),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG1A_MAX_UNSTABLE_CYC_CFG);
        /*set DFT_BIST_CFG1B register ( controlling 'stable' mode) */
        CSR_WARM_WRM( port_no,VTSS_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG1B,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG1B_STABLE_THRES_CFG(0x1a),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG1B_STABLE_THRES_CFG);
        /*set DFT_BIST_CFG2B (controlling frame length in 'check' mode) */
        CSR_WARM_WRM( port_no,VTSS_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG2B,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG2B_FRAME_LEN_CFG_LSB(conf->max_bist_frames),  //to be changed according to the input
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG2B_FRAME_LEN_CFG_LSB);
        /*set DFT_BIST_CFG0B ( controlling 'check and wait-stable' mode ) */
        CSR_WARM_WRM ( port_no,VTSS_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG0B,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG0B_MAX_BIST_FRAMES_CFG(0x7a11),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_BIST_CFG0B_MAX_BIST_FRAMES_CFG);
        /*set DFT_RX_CFG_1 (main config reg 1) */
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                0,VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_STUCK_AT_PAR_MASK_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                0,VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_STUCK_AT_01_MASK_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                0,VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_DIRECT_THROUGH_ENA_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_ERR_CNT_CAPT_CFG,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_ERR_CNT_CAPT_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_RX_DATA_SRC_SEL(0),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_RX_DATA_SRC_SEL);
        CSR_WARM_WRM(port_no,VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1,       // to be changed according to input
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_BIST_CNT_CFG(conf->error_states),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_BIST_CNT_CFG);
        CSR_WARM_WRM(port_no,VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                0,VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_FREEZE_PATTERN_CFG);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                0,VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_CHK_MODE_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1,          //to be changed according to input
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_RX_WID_SEL_CFG(conf->des_interface_width),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_1_RX_WID_SEL_CFG);
        /*set DFT_RX_CFG_2 ( main config reg 2) */
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                0,VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_RX_WORD_MODE_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2,         // to be changed acc to input
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_RX_PRBS_SEL_CFG(conf->prbsn_sel),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_RX_PRBS_SEL_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                conf->prbs_check_input_invert? VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_INV_ENA_CFG:0,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_INV_ENA_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                0,VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_CMP_MODE_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_LRN_CNT_CFG(conf->no_of_errors),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_LRN_CNT_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                0,VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_CNT_RST);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_CNT_CFG(0),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_CNT_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_BIST_MODE_CFG(conf->bist_mode),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_BIST_MODE_CFG);
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_DFT_RX_ENA,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_DFT_RX_ENA);
    }
    else
    {
        /* set DFT_BIST_CFG0A register (controlling 'check and wait-stable' mode)*/
        CSR_WARM_WRM( port_no,VTSS_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG0A,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG0A_WAKEUP_DLY_CFG(0x1a),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG0A_WAKEUP_DLY_CFG);
        /*set DFT_BIST_CFG3B register (maximum stable attempts)*/
        CSR_WARM_WRM( port_no,VTSS_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG3B,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG3B_MAX_STABLE_ATTEMPTS_CFG_LSB(0x1a),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG3B_MAX_STABLE_ATTEMPTS_CFG_LSB);
        /*set DFT_BIST_CFG1A register ( controlling 'stable' mode) */
        CSR_WARM_WRM( port_no,VTSS_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG1A,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG1A_MAX_UNSTABLE_CYC_CFG(0x34),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG1A_MAX_UNSTABLE_CYC_CFG);
        /*set DFT_BIST_CFG1B register ( controlling 'stable' mode) */
        CSR_WARM_WRM( port_no,VTSS_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG1B,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG1B_STABLE_THRES_CFG(0x1a),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG1B_STABLE_THRES_CFG);
        /*set DFT_BIST_CFG2B (controlling frame length in 'check' mode) */
        CSR_WARM_WRM( port_no,VTSS_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG2B,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG2B_FRAME_LEN_CFG_LSB(conf->max_bist_frames),  //to be changed according to the input
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG2B_FRAME_LEN_CFG_LSB);
        /*set DFT_BIST_CFG0B ( controlling 'check and wait-stable' mode ) */
        CSR_WARM_WRM ( port_no,VTSS_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG0B,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG0B_MAX_BIST_FRAMES_CFG(0x7a11),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_BIST_CFG0B_MAX_BIST_FRAMES_CFG);
        /*set DFT_RX_CFG_1 (main config reg 1) */
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                0,VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_STUCK_AT_PAR_MASK_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                0,VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_STUCK_AT_01_MASK_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                0,VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_DIRECT_THROUGH_ENA_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_ERR_CNT_CAPT_CFG,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_ERR_CNT_CAPT_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_RX_DATA_SRC_SEL(0),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_RX_DATA_SRC_SEL);
        CSR_WARM_WRM(port_no,VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1,       // to be changed according to input
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_BIST_CNT_CFG(conf->error_states),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_BIST_CNT_CFG);
        CSR_WARM_WRM(port_no,VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                0,VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_FREEZE_PATTERN_CFG);
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1,
                0,VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_CHK_MODE_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1,          //to be changed according to input
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_RX_WID_SEL_CFG(conf->des_interface_width),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_1_RX_WID_SEL_CFG);
        /*set DFT_RX_CFG_2 ( main config reg 2) */
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                0,VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_RX_WORD_MODE_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2,         // to be changed acc to input
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_RX_PRBS_SEL_CFG(conf->prbsn_sel),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_RX_PRBS_SEL_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                conf->prbs_check_input_invert? VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_INV_ENA_CFG:0,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_INV_ENA_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                0,VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_CMP_MODE_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_LRN_CNT_CFG(conf->no_of_errors),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_LRN_CNT_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                0,VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_CNT_RST);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_CNT_CFG(0),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_CNT_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_BIST_MODE_CFG(conf->bist_mode),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_BIST_MODE_CFG);
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_DFT_RX_ENA,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_DFT_RX_ENA);
    }
    if( direction == VTSS_PHY_10G_DIRECTION_LINE )
    {
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                conf->enable ? VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_DFT_RX_ENA : 0,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_RX_CFG_2_DFT_RX_ENA);
    }
    else {
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2,
                conf->enable ? VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_DFT_RX_ENA : 0,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_RX_CFG_2_DFT_RX_ENA);
    }
    return VTSS_RC_OK;


}

static vtss_rc malibu_phy_10g_prbs_gen_conf(struct vtss_state_s *vtss_state,
        const vtss_port_no_t port_no,
        const vtss_phy_10g_direction_t direction,
        const vtss_phy_10g_prbs_generator_conf_t *const conf)
{
    VTSS_D("port %u parms enable %u direction %u prbsn_sel %u , interface width %u , invert %u \n",
            port_no,conf->enable,direction,conf->prbsn_sel,conf->prbsn_tx_iw,conf->prbsn_tx_io);

    if (direction == VTSS_PHY_10G_DIRECTION_LINE) {
        /* set the reset of prbs generator in case of unchanged data for atleast 511 clock cycles */
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_TX_CFG,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_RST_ON_STUCK_AT_CFG,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_RST_ON_STUCK_AT_CFG);
        /*set the SEL interface width */
        CSR_WARM_WRM(port_no,VTSS_LINE_PMA_SD10G65_DFT_DFT_TX_CFG,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_TX_WID_SEL_CFG(conf->prbsn_tx_iw),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_TX_WID_SEL_CFG);
        /*select the prbs generator */
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_TX_CFG,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_TX_PRBS_SEL_CFG(conf->prbsn_sel),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_TX_PRBS_SEL_CFG);
        /*invert the scrambler output */
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_TX_CFG,
                (conf->prbsn_tx_io) ? VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_SCRAM_INV_CFG: 0,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_SCRAM_INV_CFG);
        /*select the prbs generator input */
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_TX_CFG,
                0,VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_IPATH_CFG);
        /*select the DFT-TX output  */
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_TX_CFG,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_OPATH_CFG(0),
                VTSS_M_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_OPATH_CFG);
        /*selects word width of constant pattern generator */
        CSR_WARM_WRM( port_no, VTSS_LINE_PMA_SD10G65_DFT_DFT_TX_CFG,
                0,VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_TX_WORD_MODE_CFG);

    }
    else
    {
        /* set the reset of prbs generator in case of unchanged data for atleast 511 clock cycles */
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_TX_CFG,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_RST_ON_STUCK_AT_CFG,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_RST_ON_STUCK_AT_CFG);
        /*set the SEL interface width */
        CSR_WARM_WRM(port_no,VTSS_HOST_PMA_SD10G65_DFT_DFT_TX_CFG,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_TX_WID_SEL_CFG(conf->prbsn_tx_iw),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_TX_WID_SEL_CFG);
        /*select the prbs generator */
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_TX_CFG,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_TX_PRBS_SEL_CFG(conf->prbsn_sel),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_TX_PRBS_SEL_CFG);
        /*invert the scrambler output */
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_TX_CFG,
                (conf->prbsn_tx_io)? VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_SCRAM_INV_CFG : 0 ,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_SCRAM_INV_CFG);
        /*select the prbs generator input */
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_TX_CFG,
                0, VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_IPATH_CFG);
        /*select the DFT-TX output  */
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_TX_CFG,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_OPATH_CFG(0),
                VTSS_M_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_OPATH_CFG);
        /*selects word width of constant pattern generator */
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_TX_CFG,
                0,VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_TX_WORD_MODE_CFG);
    }

    /*enable tx dft capability */
    if(direction == VTSS_PHY_10G_DIRECTION_LINE)
    {
        CSR_WARM_WRM( port_no,VTSS_LINE_PMA_SD10G65_DFT_DFT_TX_CFG,
                conf->enable ? VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_DFT_TX_ENA : 0,
                VTSS_F_LINE_PMA_SD10G65_DFT_DFT_TX_CFG_DFT_TX_ENA);
    }
    else {
        CSR_WARM_WRM( port_no, VTSS_HOST_PMA_SD10G65_DFT_DFT_TX_CFG,
                conf->enable ?VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_DFT_TX_ENA : 0,
                VTSS_F_HOST_PMA_SD10G65_DFT_DFT_TX_CFG_DFT_TX_ENA);
    }
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_prbs_mon_status_get(struct vtss_state_s *vtss_state,
        const vtss_port_no_t port_no,
        const vtss_phy_10g_direction_t direction,
        const BOOL  reset,
        vtss_phy_10g_prbs_monitor_status_t *const mon_status)
{
    u32 rd_val = 0;
    BOOL line = TRUE;

    line = (direction == VTSS_PHY_10G_DIRECTION_LINE) ? TRUE : FALSE ;

    if (reset == TRUE) {
        CSR_WARM_WRM(port_no,PST(VTSS,line,PMA_SD10G65_DFT_DFT_RX_CFG_2),
                PST(VTSS_F,line,PMA_SD10G65_DFT_DFT_RX_CFG_2_CNT_RST),
                PST(VTSS_F,line,PMA_SD10G65_DFT_DFT_RX_CFG_2_CNT_RST));
        CSR_WARM_WRM(port_no,PST(VTSS,line,PMA_SD10G65_DFT_DFT_RX_CFG_2),
                0,
                PST(VTSS_F,line,PMA_SD10G65_DFT_DFT_RX_CFG_2_CNT_RST));
    }
    CSR_WARM_WRM(port_no,PST(VTSS,line,PMA_SD10G65_DFT_DFT_RX_CFG_1),
            PST(VTSS_F,line,PMA_SD10G65_DFT_DFT_RX_CFG_1_ERR_CNT_CAPT_CFG),
            PST(VTSS_F,line,PMA_SD10G65_DFT_DFT_RX_CFG_1_ERR_CNT_CAPT_CFG));

    rd_val =0;
    CSR_RD(port_no,PST(VTSS,line,PMA_SD10G65_DFT_DFT_ERR_STAT_1),&rd_val);
    mon_status->error_status = (rd_val << 16);
    rd_val =0;
    CSR_RD(port_no,PST(VTSS,line,PMA_SD10G65_DFT_DFT_ERR_STAT_2), &rd_val);
    mon_status->error_status |= rd_val;

    rd_val = 0;
    CSR_RD(port_no, PST( VTSS, line, PMA_SD10G65_DFT_DFT_PRBS_STAT_1), &rd_val);
    mon_status->prbs_status = rd_val << 16;
    rd_val =0;
    CSR_RD(port_no, PST( VTSS, line, PMA_SD10G65_DFT_DFT_PRBS_STAT_2), &rd_val);
    mon_status->prbs_status |= rd_val;
    rd_val = 0;
    CSR_RD(port_no, PST( VTSS, line, PMA_SD10G65_DFT_DFT_PRBS_STAT_1), &rd_val);
    mon_status->prbs_status = rd_val << 16;
    rd_val =0;
    CSR_RD(port_no, PST( VTSS, line, PMA_SD10G65_DFT_DFT_PRBS_STAT_2), &rd_val);
    mon_status->prbs_status |= rd_val;

    rd_val = 0;
    CSR_RD(port_no, PST( VTSS, line, PMA_SD10G65_DFT_DFT_MAIN_STAT_1), &rd_val);
    mon_status->main_status = rd_val;

    rd_val = 0;
    CSR_RD(port_no, PST ( VTSS, line, PMA_SD10G65_DFT_DFT_MAIN_STAT_2), &rd_val);
    mon_status->stuck_at_par = (rd_val & VTSS_BIT(5))? TRUE: FALSE;
    mon_status->stuck_at_01 = (rd_val & VTSS_BIT(4))? TRUE: FALSE;
    mon_status->no_sync = (rd_val & VTSS_BIT(3))? TRUE: FALSE;
    mon_status->instable = (rd_val & VTSS_BIT(2))? TRUE: FALSE;
    mon_status->incomplete =  (rd_val & VTSS_BIT(1))? TRUE: FALSE;
    mon_status->active = (rd_val & VTSS_BIT(0))? TRUE: FALSE;

    if (reset == TRUE) {
        CSR_WARM_WRM(port_no,PST(VTSS,line,PMA_SD10G65_DFT_DFT_RX_CFG_2),
                     0,
                     PST(VTSS_F,line,PMA_SD10G65_DFT_DFT_RX_CFG_2_CNT_RST));
    }

    CSR_WARM_WRM(port_no,PST(VTSS,line,PMA_SD10G65_DFT_DFT_RX_CFG_1),
            0,
            PST(VTSS_F,line,PMA_SD10G65_DFT_DFT_RX_CFG_1_ERR_CNT_CAPT_CFG));
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_pkt_gen_conf(struct vtss_state_s *vtss_state,
        const vtss_port_no_t        port_no,
        const vtss_phy_10g_pkt_gen_conf_t *const conf)
{
    u16 tmac = 0;
    u16 ts = 0;
    ts = conf->ptp_ts_sec;
    ts = ts << 8;
    ts = ts | conf-> ptp_ts_ns;
    if (conf->enable == TRUE) {
        if (conf->frame_single == TRUE) {
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                         VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_idles,
                         VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_idles);
        }
        /*Clear Egress and Ingress*/
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_Datapath_Control_Datapath_Control, 0,(VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_IGR_XGMII_PG_SEL | VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_EGR_XGMII_PG_SEL));
        /* Choose Egress or Ingress, packets direction */
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_Datapath_Control_Datapath_Control,
                     conf->ingress == TRUE ? VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_IGR_XGMII_PG_SEL :
                     VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_EGR_XGMII_PG_SEL,
                     conf->ingress == TRUE ? VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_IGR_XGMII_PG_SEL :
                     VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_EGR_XGMII_PG_SEL);
        if (conf->frames == TRUE) {
            if (conf->frame_single != TRUE) {
                CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                             0,
                             VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_idles);
            }
            /* PTP frame or Standard frame generation */
            if (conf->ptp == TRUE) {
                CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                             VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_ptp_enable,
                             VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_ptp_enable);
                CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_TIME_GEN_TIME,
                             ts,
                             VTSS_M_FIFO_BIST_GEN_TIME_GEN_TIME_ptptime);
                CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                             VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_srate(conf->srate),
                             VTSS_M_FIFO_BIST_GEN_CFG_GEN_CFG_srate);
            } else {
                CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                             0,
                             VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_ptp_enable);
                CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_TIME_GEN_TIME,
                             0,
                             VTSS_M_FIFO_BIST_GEN_TIME_GEN_TIME_ptptime);
                CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                             VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_srate(0),
                             VTSS_M_FIFO_BIST_GEN_CFG_GEN_CFG_srate);
            }
            /* packet Ethertype configuration */
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_ETYPE_GEN_ETYPE,
                         VTSS_F_FIFO_BIST_GEN_ETYPE_GEN_ETYPE_etype(conf->etype),
                         VTSS_M_FIFO_BIST_GEN_ETYPE_GEN_ETYPE_etype);
            /* SMAC Configuration */
            tmac = conf->smac[4];
            tmac = tmac<<8;
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_SA_GEN_SA0,
                         VTSS_F_FIFO_BIST_GEN_SA_GEN_SA0_sa0(tmac | conf->smac[5]),
                         VTSS_M_FIFO_BIST_GEN_SA_GEN_SA0_sa0);
            tmac = conf->smac[2];
            tmac = tmac<<8;
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_SA_GEN_SA1,
                         VTSS_F_FIFO_BIST_GEN_SA_GEN_SA1_sa1(tmac | conf->smac[3]),
                         VTSS_M_FIFO_BIST_GEN_SA_GEN_SA1_sa1);
            tmac = conf->smac[0];
            tmac = tmac<<8;
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_SA_GEN_SA2,
                         VTSS_F_FIFO_BIST_GEN_SA_GEN_SA2_sa2(tmac | conf->smac[1]),
                         VTSS_M_FIFO_BIST_GEN_SA_GEN_SA2_sa2);
            /* DMAC Configuration */
            tmac = conf->dmac[4];
            tmac = tmac<<8;
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_DA_GEN_DA0,
                         VTSS_F_FIFO_BIST_GEN_DA_GEN_DA0_da0(tmac | conf->dmac[5]),
                         VTSS_M_FIFO_BIST_GEN_DA_GEN_DA0_da0);
            tmac = conf->dmac[2];
            tmac = tmac<<8;
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_DA_GEN_DA1,
                         VTSS_F_FIFO_BIST_GEN_DA_GEN_DA1_da1(tmac | conf->dmac[3]),
                         VTSS_M_FIFO_BIST_GEN_DA_GEN_DA1_da1);
            tmac = conf->dmac[0];
            tmac = tmac<<8;
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_DA_GEN_DA2,
                         VTSS_F_FIFO_BIST_GEN_DA_GEN_DA2_da2(tmac | conf->dmac[1]),
                         VTSS_M_FIFO_BIST_GEN_DA_GEN_DA2_da2);
            /* Packet Length Configuration */
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_PKTLEN_GEN_PKTLEN,
                         VTSS_F_FIFO_BIST_GEN_PKTLEN_GEN_PKTLEN_pktlen(conf->pkt_len),
                         VTSS_M_FIFO_BIST_GEN_PKTLEN_GEN_PKTLEN_pktlen);
            /* Inter packet gap */
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_IPGLEN_GEN_IPGLEN_LSW,
                         VTSS_F_FIFO_BIST_GEN_IPGLEN_GEN_IPGLEN_LSW_ipglen_lsw((conf->ipg_len)& 0xff),
                         VTSS_M_FIFO_BIST_GEN_IPGLEN_GEN_IPGLEN_LSW_ipglen_lsw);
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_IPGLEN_GEN_IPGLEN_MSW,
                         VTSS_F_FIFO_BIST_GEN_IPGLEN_GEN_IPGLEN_MSW_ipglen_msw(((conf->ipg_len)>>16) & 0xff),
                         VTSS_M_FIFO_BIST_GEN_IPGLEN_GEN_IPGLEN_MSW_ipglen_msw);
        /* Enable Packet generation */
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                     VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_enable,
                     VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_enable);
            if (conf->frame_single == TRUE) {
                CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                             VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_single,
                             VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_single);
            }
        } else {
            /*IDLES only */
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                         VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_idles,
                         VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_idles);
            /* Enable Packet generation */
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                         VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_enable,
                         VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_enable);
        }
    } else {
        /*Clear Egress and Ingress*/
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_Datapath_Control_Datapath_Control, 0,(VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_IGR_XGMII_PG_SEL | VTSS_F_FIFO_BIST_Datapath_Control_Datapath_Control_EGR_XGMII_PG_SEL));
        /* Reset to Standard frame generation and Clear Idles only */
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                     0,
                     (VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_ptp_enable | VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_idles));
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_TIME_GEN_TIME,
                     0,
                     VTSS_M_FIFO_BIST_GEN_TIME_GEN_TIME_ptptime);
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                     VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_srate(0),
                     VTSS_M_FIFO_BIST_GEN_CFG_GEN_CFG_srate);
        /* Disable Packet Generation*/
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_GEN_CFG_GEN_CFG,
                     0,
                     VTSS_F_FIFO_BIST_GEN_CFG_GEN_CFG_enable);
    }
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_timestamp_rd ( struct vtss_state_s * vtss_state,
                                             const vtss_port_no_t  port_no,
                                             vtss_phy_10g_timestamp_val_t *const conf)
{
   // reading all the timestamp registers.
   u32 rd_var;
   // timestamp 0.
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP0_MON_TSTAMP0_0,&rd_var);
   conf->timestamp[0][0] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP0_MON_TSTAMP0_1,&rd_var);
   conf->timestamp[0][1] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP0_MON_TSTAMP0_2,&rd_var);
   conf->timestamp[0][2] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP0_MON_TSTAMP0_3,&rd_var);
   conf->timestamp[0][3] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP0_MON_TSTAMP0_4,&rd_var);
   conf->timestamp[0][4] = rd_var;

   //timestamp 1.

   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP1_MON_TSTAMP1_0,&rd_var);
   conf->timestamp[1][0] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP1_MON_TSTAMP1_1,&rd_var);
   conf->timestamp[1][1] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP1_MON_TSTAMP1_2,&rd_var);
   conf->timestamp[1][2] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP1_MON_TSTAMP1_3,&rd_var);
   conf->timestamp[1][3] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP1_MON_TSTAMP1_4,&rd_var);
   conf->timestamp[1][4] = rd_var;

   //timestamp 2.

   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP2_MON_TSTAMP2_0,&rd_var);
   conf->timestamp[2][0] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP2_MON_TSTAMP2_1,&rd_var);
   conf->timestamp[2][1] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP2_MON_TSTAMP2_2,&rd_var);
   conf->timestamp[2][2] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP2_MON_TSTAMP2_3,&rd_var);
   conf->timestamp[2][3] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP2_MON_TSTAMP2_4,&rd_var);
   conf->timestamp[2][4] = rd_var;
    
   //timestamp 3.

   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP3_MON_TSTAMP3_0,&rd_var);
   conf->timestamp[3][0] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP3_MON_TSTAMP3_1,&rd_var);
   conf->timestamp[3][1] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP3_MON_TSTAMP3_2,&rd_var);
   conf->timestamp[3][2] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP3_MON_TSTAMP3_3,&rd_var);
   conf->timestamp[3][3] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP3_MON_TSTAMP3_4,&rd_var);
   conf->timestamp[3][4] = rd_var;

   //timestamp 4.
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP4_MON_TSTAMP4_0,&rd_var);
   conf->timestamp[4][0] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP4_MON_TSTAMP4_1,&rd_var);
   conf->timestamp[4][1] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP4_MON_TSTAMP4_2,&rd_var);
   conf->timestamp[4][2] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP4_MON_TSTAMP4_3,&rd_var);
   conf->timestamp[4][3] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP4_MON_TSTAMP4_4,&rd_var);
   conf->timestamp[4][4] = rd_var;

   //timestamp 5.
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP5_MON_TSTAMP5_0,&rd_var);
   conf->timestamp[5][0] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP5_MON_TSTAMP5_1,&rd_var);
   conf->timestamp[5][1] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP5_MON_TSTAMP5_2,&rd_var);
   conf->timestamp[5][2] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP5_MON_TSTAMP5_3,&rd_var);
   conf->timestamp[5][3] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP5_MON_TSTAMP5_4,&rd_var);
   conf->timestamp[5][4] = rd_var;

   //timestamp 6.
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP6_MON_TSTAMP6_0,&rd_var);
   conf->timestamp[6][0] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP6_MON_TSTAMP6_1,&rd_var);
   conf->timestamp[6][1] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP6_MON_TSTAMP6_2,&rd_var);
   conf->timestamp[6][2] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP6_MON_TSTAMP6_3,&rd_var);
   conf->timestamp[6][3] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP6_MON_TSTAMP6_4,&rd_var);
   conf->timestamp[6][4] = rd_var;

   //timestamp 7.
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP7_MON_TSTAMP7_0,&rd_var);
   conf->timestamp[7][0] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP7_MON_TSTAMP7_1,&rd_var);
   conf->timestamp[7][1] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP7_MON_TSTAMP7_2,&rd_var);
   conf->timestamp[7][2] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP7_MON_TSTAMP7_3,&rd_var);
   conf->timestamp[7][3] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP7_MON_TSTAMP7_4,&rd_var);
   conf->timestamp[7][4] = rd_var;

   //timestamp 8.
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP8_MON_TSTAMP8_0,&rd_var);
   conf->timestamp[8][0] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP8_MON_TSTAMP8_1,&rd_var);
   conf->timestamp[8][1] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP8_MON_TSTAMP8_2,&rd_var);
   conf->timestamp[8][2] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP8_MON_TSTAMP8_3,&rd_var);
   conf->timestamp[8][3] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP8_MON_TSTAMP8_4,&rd_var);
   conf->timestamp[8][4] = rd_var;

   //timestamp 9.
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP9_MON_TSTAMP9_0,&rd_var);
   conf->timestamp[9][0] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP9_MON_TSTAMP9_1,&rd_var);
   conf->timestamp[9][1] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP9_MON_TSTAMP9_2,&rd_var);
   conf->timestamp[9][2] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP9_MON_TSTAMP9_3,&rd_var);
   conf->timestamp[9][3] = rd_var;
   CSR_RD(port_no,VTSS_FIFO_BIST_MON_TSTAMP9_MON_TSTAMP9_4,&rd_var);
   conf->timestamp[9][4] = rd_var;
   return VTSS_RC_OK;
}


static vtss_rc malibu_phy_10g_pkt_mon_conf(struct vtss_state_s *vtss_state,
        const vtss_port_no_t        port_no,
        vtss_phy_10g_pkt_mon_conf_t *const conf)
{
    u32 rd_var=0;
    if (conf->enable == TRUE) { 
        /* Enable monitor*/
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_MON_CFG_MON_CFG,
                VTSS_F_FIFO_BIST_MON_CFG_MON_CFG_enable,
                VTSS_F_FIFO_BIST_MON_CFG_MON_CFG_enable);
        if (conf->update == TRUE) {
            /* Update counters */
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_UPDATE_UPDATE,
                    VTSS_F_FIFO_BIST_UPDATE_UPDATE_cntr_update,
                    VTSS_F_FIFO_BIST_UPDATE_UPDATE_cntr_update);
            /* Reading all the monitor counters */
            CSR_RD(port_no,VTSS_FIFO_BIST_MON_GOODCRC_MON_GOOD_LSW,&rd_var);
            conf->good_crc = rd_var;
            CSR_RD(port_no,VTSS_FIFO_BIST_MON_GOODCRC_MON_GOOD_MSW,&rd_var);
            conf->good_crc |= rd_var<<16; 
            CSR_RD(port_no,VTSS_FIFO_BIST_MON_BADCRC_MON_BAD_LSW,&rd_var);
            conf->bad_crc = rd_var;
            CSR_RD(port_no,VTSS_FIFO_BIST_MON_BADCRC_MON_BAD_MSW,&rd_var);
            conf->bad_crc |= rd_var<<16; 
            CSR_RD(port_no,VTSS_FIFO_BIST_MON_FRAG_MON_FRAG_LSW,&rd_var);
            conf->frag = rd_var;
            CSR_RD(port_no,VTSS_FIFO_BIST_MON_FRAG_MON_FRAG_MSW,&rd_var);
            conf->frag |= rd_var<<16; 
            CSR_RD(port_no,VTSS_FIFO_BIST_MON_LFAULT_MON_LFAULT_LSW,&rd_var);
            conf->lfault = rd_var;
            CSR_RD(port_no,VTSS_FIFO_BIST_MON_LFAULT_MON_LFAULT_MSW,&rd_var);
            conf->lfault |= rd_var<<16; 
            CSR_RD(port_no,VTSS_FIFO_BIST_MON_BER_MON_BER_LSW,&rd_var);
            conf->ber = rd_var;
            CSR_RD(port_no,VTSS_FIFO_BIST_MON_BER_MON_BER_MSW,&rd_var);
            conf->ber |= rd_var<<16; 
        } else if (conf->reset != VTSS_PHY_10G_PKT_MON_RST_NONE){
            /* Reset counters */
            CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_MON_RST_MON_RST,
                    VTSS_BIT(conf->reset),
                    VTSS_BIT(conf->reset));
        }
    } else {
        /* Disable Monitor */
        CSR_WARM_WRM(port_no,VTSS_FIFO_BIST_MON_CFG_MON_CFG,
                0,
                VTSS_F_FIFO_BIST_MON_CFG_MON_CFG_enable);
    }
    return VTSS_RC_OK;
}
#define MANUAL 0
#define FREEZE 1
#define APC_ENABLE 2
static vtss_rc handle_ib_conf(struct vtss_state_s *vtss_state,
                                          const vtss_port_no_t port_no,
                                          const vtss_phy_10g_ib_conf_t *const ib_conf,u8 conf_flag,u8 index,
                                          BOOL is_host)
{
    u8 manual=1,freeze=2,apc=0;
    u32 value=0;

    /* *****variable description*****
       *conf_flag*
       conf_flag = 0 , manual mode IB configuration 
       conf_flag = 1 , freeze the current APC values 
       conf_flag = 2 , APC enable 
       *index*
       offs =0,gain=1,gainadj=2,ld=3,l=4
       c=5,agc=6,d1=7,d2=8,d3=9,d4=10 
     */
    switch(index) {
        case 0:
            /* Offset configuration */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_ACTVAL(value)/4),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI(ib_conf->offs.value),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(freeze),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(apc),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX(ib_conf->offs.max) |
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN(ib_conf->offs.min),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX |
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN);
                }

            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_ACTVAL(value)/4),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI(ib_conf->offs.value),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX(ib_conf->offs.max) |
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN(ib_conf->offs.min),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX |
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN);
                }
            }
            break;
        case 1:
            /* Gain configuration */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_EQZ_GAIN_ACTVAL(value)),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI(ib_conf->gain.value),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI);

                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(freeze),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(apc),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MAX(ib_conf->gain.max) |
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MIN(ib_conf->gain.min),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MAX |
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MIN);
                }
            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_EQZ_GAIN_ACTVAL(value)),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI(ib_conf->gain.value),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MAX(ib_conf->gain.max) |
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MIN(ib_conf->gain.min),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MAX |
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MIN);
                }
            }
            break;
        case 2:
            /* gain adjustment */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_EQZ_GAIN_ADJ_ACTVAL(value)),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI(ib_conf->gainadj.value),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(freeze),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(apc),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MAX(ib_conf->gainadj.max) |
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MIN(ib_conf->gainadj.min),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MAX |
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MIN);
                }
            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_EQZ_GAIN_ADJ_ACTVAL(value)),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI(ib_conf->gainadj.value),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MAX(ib_conf->gainadj.max) |
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MIN(ib_conf->gainadj.min),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MAX |
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MIN);
                }
            }
            break;
        case 3:
            /* Ld level */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_LD_LEV_ACTVAL(value)),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI(ib_conf->ld),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI);
                } 
            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_LD_LEV_ACTVAL(value)),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI(ib_conf->ld),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_LD_CTRL_LD_LEV_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_CHG_MODE);
                }
            }
            break;
        case 4:
            /* Eq L Configuration */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_ACTVAL(value)),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI(ib_conf->l.value),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(freeze),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(apc),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX(ib_conf->l.max) |
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN(ib_conf->l.min),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX |
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN);
                }
            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_ACTVAL(value)),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI(ib_conf->l.value),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX(ib_conf->l.max) |
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN(ib_conf->l.min),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX |
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN);
                }
            }
            break;
        case 5:
            /* EQ C configuration */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_ACTVAL(value)),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI(ib_conf->c.value),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(freeze),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(apc),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX(ib_conf->l.max) |
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN(ib_conf->l.min),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX |
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN);
                }
            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_ACTVAL(value)),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI(ib_conf->c.value),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX(ib_conf->l.max) |
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN(ib_conf->l.min),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX |
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN);
                }
            }
            break;
        case 6:
            /* AGC Configuration */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_ACTVAL(value)),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI(ib_conf->agc.value),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(freeze),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(apc),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX(ib_conf->agc.max) |
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN(ib_conf->agc.min),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX|
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN);
                }
            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_ACTVAL(value)),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI(ib_conf->agc.value),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX(ib_conf->agc.max) |
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN(ib_conf->agc.min),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX|
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN);
                }
            }
            break;
        case 7:
            /* DFE1 Configuration */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_ACTVAL(value)),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI(ib_conf->dfe1.value),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(freeze),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(apc),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX(ib_conf->dfe1.max)|
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN(ib_conf->dfe1.min),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX|
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN);
                }
            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_ACTVAL(value)),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI(ib_conf->dfe1.value),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX(ib_conf->dfe1.max)|
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN(ib_conf->dfe1.min),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX|
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN);
                }
            }
            break;
        case 8:
            /* DFE2 Configuration */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_ACTVAL(value)),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI(ib_conf->dfe2.value),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(freeze),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(apc),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX(ib_conf->dfe2.max) |
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN(ib_conf->dfe2.min),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX|
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN);
                }
            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_ACTVAL(value)),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI(ib_conf->dfe2.value),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX(ib_conf->dfe2.max) |
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN(ib_conf->dfe2.min),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX|
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN);
                }
            }
            break;
        case 9:
            /* DFE3 Configuration */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_ACTVAL(value)),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI(ib_conf->dfe3.value),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(freeze),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(apc),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX(ib_conf->dfe3.max) |
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN(ib_conf->dfe3.min),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX|
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN);
                }
            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_ACTVAL(value)),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI(ib_conf->dfe3.value),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX(ib_conf->dfe3.max) |
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN(ib_conf->dfe3.min),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX|
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN);
                }
            }
            break;
        case 10:
            /* DFE4 Configuration */
            if (is_host == TRUE) {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI(VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_ACTVAL(value)),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(manual),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI(ib_conf->dfe4.value),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(freeze),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(apc),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX(ib_conf->dfe4.max) |
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN(ib_conf->dfe4.min),
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX|
                            VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN);
                }
            } else {
                if(MANUAL == conf_flag) {
                    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL,&value);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI(VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_ACTVAL(value)),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(manual),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI(ib_conf->dfe4.value),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_INI);
                } else if(FREEZE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(freeze),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);
                } else if(APC_ENABLE == conf_flag) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE(apc),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_CHG_MODE);
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX(ib_conf->dfe4.max) |
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN(ib_conf->dfe4.min),
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX|
                            VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN);
                }
            }
            break;
        default:
            break;
    }

    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_ib_conf_set(struct vtss_state_s *vtss_state,
                                          const vtss_port_no_t port_no,
                                          const vtss_phy_10g_ib_conf_t *const ib_conf,
                                          BOOL is_host)
{

    u8 n_ib_var = 10,i;

    for (i=0;i<n_ib_var;i++) {
        if ((ib_conf->config_bit_mask) & 1<<i) {
            if(!((ib_conf->apc_bit_mask)& 1<<i)) {
                /* Manual operation or freeze condition */
                if((ib_conf->freeze_bit_mask ) & 1<<i) {
                    handle_ib_conf(vtss_state,port_no,ib_conf,1,i,is_host);
                } else {
                    handle_ib_conf(vtss_state,port_no,ib_conf,0,i,is_host);
                }
            } else {
                /* Automatic Parametric control */
                handle_ib_conf(vtss_state,port_no,ib_conf,2,i,is_host);
            }
        }
    }

    /* ib_conf->prbs need to be handled */
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_ib_status_get(struct vtss_state_s *vtss_state,
                                            const vtss_port_no_t port_no,
                                            vtss_phy_10g_ib_status_t *const ib_status)
{
    u32 value=0;

    if (ib_status->ib_conf.is_host == FALSE) {
        /* Requested Line IB status */
        ib_status->ib_conf.apc_bit_mask = vtss_state->phy_10g_state[port_no].mode.l_ib_conf.apc_bit_mask;
        ib_status->ib_conf.freeze_bit_mask = vtss_state->phy_10g_state[port_no].mode.l_ib_conf.freeze_bit_mask;
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,&value);
        ib_status->sig_det = (value & VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_IA_SDET) ? TRUE : FALSE;
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,&value);
        ib_status->ib_conf.offs.value = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_ACTVAL(value);
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,&value);
        ib_status->ib_conf.offs.max = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX(value)*4;
        ib_status->ib_conf.offs.min = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN(value)*4;

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS,&value);
        ib_status->ib_conf.gain.value = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_EQZ_GAIN_ACTVAL(value);
        ib_status->ib_conf.gainadj.value = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_EQZ_GAIN_ADJ_ACTVAL(value);
        ib_status->ib_conf.ld = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_LD_LEV_ACTVAL(value);
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,&value);
        ib_status->ib_conf.gain.max = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MAX(value);
        ib_status->ib_conf.gain.min = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MIN(value);

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL,&value);
        ib_status->ib_conf.l.value = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_ACTVAL(value);
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,&value);
        ib_status->ib_conf.l.max = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX(value);
        ib_status->ib_conf.l.min = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN(value);

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL,&value);
        ib_status->ib_conf.c.value = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_ACTVAL(value);
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,&value);
        ib_status->ib_conf.c.max = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX(value);
        ib_status->ib_conf.c.min = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN(value);

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,&value);
        ib_status->ib_conf.gainadj.max = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MAX(value);
        ib_status->ib_conf.gainadj.min = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MIN(value);

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL,&value);
        ib_status->ib_conf.agc.value = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_ACTVAL(value);
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,&value);
        ib_status->ib_conf.agc.max = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX(value);
        ib_status->ib_conf.agc.min = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN(value);

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL,&value);
        ib_status->ib_conf.dfe1.value = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_ACTVAL(value);
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,&value);
        ib_status->ib_conf.dfe1.max = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX(value);
        ib_status->ib_conf.dfe1.min = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN(value);

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL,&value);
        ib_status->ib_conf.dfe2.value = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_ACTVAL(value);
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,&value);
        ib_status->ib_conf.dfe2.max = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX(value);
        ib_status->ib_conf.dfe2.min = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN(value);

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL,&value);
        ib_status->ib_conf.dfe3.value = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_ACTVAL(value);
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,&value);
        ib_status->ib_conf.dfe3.max = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX(value);
        ib_status->ib_conf.dfe3.min = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN(value);

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL,&value);
        ib_status->ib_conf.dfe4.value = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_ACTVAL(value);
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,&value);
        ib_status->ib_conf.dfe4.max = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX(value);
        ib_status->ib_conf.dfe4.min = VTSS_X_LINE_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN(value);
    } else {
        /* Requested Host IB status */
        ib_status->ib_conf.apc_bit_mask = vtss_state->phy_10g_state[port_no].mode.h_ib_conf.apc_bit_mask;
        ib_status->ib_conf.freeze_bit_mask = vtss_state->phy_10g_state[port_no].mode.h_ib_conf.freeze_bit_mask;
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10,&value);
        ib_status->sig_det = (value & VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG10_IB_IA_SDET) ? TRUE : FALSE;
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG,&value);
        ib_status->ib_conf.offs.max = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MAX(value) * 4;
        ib_status->ib_conf.offs.min = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_PAR_CFG_EQZ_OFFS_MIN(value) * 4;

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL,&value);
        ib_status->ib_conf.offs.value = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_OFFS_CTRL_EQZ_OFFS_ACTVAL(value);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG,&value);
        ib_status->ib_conf.gain.max = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MAX(value);
        ib_status->ib_conf.gain.min = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_CTRL_CFG_EQZ_GAIN_MIN(value);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS,&value);
        ib_status->ib_conf.gain.value = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_EQZ_GAIN_ACTVAL(value);
        ib_status->ib_conf.ld = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_LD_LEV_ACTVAL(value);
        ib_status->ib_conf.gainadj.value = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_CTRL_STATUS_EQZ_GAIN_ADJ_ACTVAL(value);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL,&value);
        ib_status->ib_conf.l.value = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_CTRL_EQZ_L_ACTVAL(value);
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG,&value);
        ib_status->ib_conf.l.max = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MAX(value);
        ib_status->ib_conf.l.min = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_L_PAR_CFG_EQZ_L_MIN(value);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL,&value);
        ib_status->ib_conf.c.value = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_CTRL_EQZ_C_ACTVAL(value);
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG,&value);
        ib_status->ib_conf.c.max = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MAX(value);
        ib_status->ib_conf.c.min = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_C_PAR_CFG_EQZ_C_MIN(value);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG,&value);
        ib_status->ib_conf.gainadj.max = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MAX(value);
        ib_status->ib_conf.gainadj.min = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_GAIN_ADJ_CTRL_CFG_EQZ_GAIN_ADJ_MIN(value);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL,&value);
        ib_status->ib_conf.agc.value = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_CTRL_EQZ_AGC_ACTVAL(value);
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG,&value);
        ib_status->ib_conf.agc.max = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MAX(value);
        ib_status->ib_conf.agc.min = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_AGC_PAR_CFG_EQZ_AGC_MIN(value);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL,&value);
        ib_status->ib_conf.dfe1.value = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_CTRL_DFE1_ACTVAL(value);
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG,&value);
        ib_status->ib_conf.dfe1.max = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MAX(value);
        ib_status->ib_conf.dfe1.min = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE1_PAR_CFG_DFE1_MIN(value);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL,&value);
        ib_status->ib_conf.dfe2.value = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_CTRL_DFE2_ACTVAL(value);
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG,&value);
        ib_status->ib_conf.dfe2.max = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MAX(value);
        ib_status->ib_conf.dfe2.min = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE2_PAR_CFG_DFE2_MIN(value);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL,&value);
        ib_status->ib_conf.dfe3.value = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_CTRL_DFE3_ACTVAL(value);
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG,&value);
        ib_status->ib_conf.dfe3.max = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MAX(value);
        ib_status->ib_conf.dfe3.min = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE3_PAR_CFG_DFE3_MIN(value);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL,&value);
        ib_status->ib_conf.dfe4.value = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_CTRL_DFE4_ACTVAL(value);
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG,&value);
        ib_status->ib_conf.dfe4.max = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MAX(value);
        ib_status->ib_conf.dfe4.min = VTSS_X_HOST_PMA_32BIT_SD10G65_APC_APC_DFE4_PAR_CFG_DFE4_MIN(value);
    }
    return VTSS_RC_OK;
}
static i8 get_kr_tap_2_d_filter_map(u8 a_val)
{
    if (a_val > 0x1f) {
        /* -ve values */
        return (-63 + (a_val-0x1f)*2 );
    } else {
        /* +ve values */
        return (a_val*2 + 1);
    }
}
static vtss_rc malibu_phy_10g_ob_status_get(struct vtss_state_s *vtss_state,
                                     const vtss_port_no_t port_no,
                                     vtss_phy_10g_ob_status_t *const ob_status)
{
    u32 value;

    if (ob_status->is_host == TRUE) {
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2,&value);
        ob_status->d_fltr = VTSS_X_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(value);
        ob_status->v5 = get_kr_tap_2_d_filter_map(VTSS_EXTRACT_BITFIELD(value,0,6));
        ob_status->v4 = get_kr_tap_2_d_filter_map(VTSS_EXTRACT_BITFIELD(value,6,6));
        ob_status->vp = get_kr_tap_2_d_filter_map(VTSS_EXTRACT_BITFIELD(value,12,6));
        ob_status->v3 = get_kr_tap_2_d_filter_map(VTSS_EXTRACT_BITFIELD(value,18,6));

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,&value);
        ob_status->r_ctrl = VTSS_X_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(value);
        ob_status->c_ctrl = VTSS_X_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(value);
        
        CSR_RD(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,&value);
        ob_status->levn = VTSS_X_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(value);

    } else {
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2,&value);
        ob_status->d_fltr = VTSS_X_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG2_D_FILTER(value);
        ob_status->v5 = get_kr_tap_2_d_filter_map(VTSS_EXTRACT_BITFIELD(value,0,6));
        ob_status->v4 = get_kr_tap_2_d_filter_map(VTSS_EXTRACT_BITFIELD(value,6,6));
        ob_status->vp = get_kr_tap_2_d_filter_map(VTSS_EXTRACT_BITFIELD(value,12,6));
        ob_status->v3 = get_kr_tap_2_d_filter_map(VTSS_EXTRACT_BITFIELD(value,18,6));

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,&value);
        ob_status->r_ctrl = VTSS_X_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_R_CTRL(value);
        ob_status->c_ctrl = VTSS_X_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_PREDRV_C_CTRL(value);
        
        CSR_RD(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,&value);
        ob_status->levn = VTSS_X_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(value);
    }
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_apc_conf_set(struct vtss_state_s *vtss_state,
                                           const vtss_port_no_t port_no,
                                           const vtss_phy_10g_apc_conf_t *const apc_conf,
                                           const BOOL is_host)
{
    BOOL cold_fix = TRUE;
    vtss_phy_10g_ib_conf_t *ib_conf;
    vtss_phy_10g_mode_t *mode = &vtss_state->phy_10g_state[port_no].mode;
    u8 loop_var=0;

    if (is_host == TRUE) {
        ib_conf = &(vtss_state->phy_10g_state[port_no].mode.h_ib_conf);
    } else {
        ib_conf = &(vtss_state->phy_10g_state[port_no].mode.l_ib_conf);
    }
    switch(apc_conf->op_mode) {
        case VTSS_IB_APC_AUTO:
            for (loop_var = 0;loop_var <10; loop_var++) {
                handle_ib_conf(vtss_state,port_no,ib_conf,2,loop_var,is_host);
            }
            break;
        case VTSS_IB_APC_MANUAL:
            if(is_host == TRUE) {
                CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                        0,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA);
                CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(0),
                        VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);
            } else {
                CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                        0,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA);
                CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(0),
                        VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);
            }
            for (loop_var = 0;loop_var <10; loop_var++) {
                handle_ib_conf(vtss_state,port_no,ib_conf,0,loop_var,is_host);
            }
            break;
        case VTSS_IB_APC_FREEZE:
            if(is_host == TRUE) {
                CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                        (apc_conf->op_mode_flag)? VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC : 0,
                        VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC);
            } else {
                CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                        (apc_conf->op_mode_flag)? VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC : 0,
                        VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC);
            }
            if (apc_conf->op_mode_flag == TRUE) {
                for (loop_var = 0;loop_var <10; loop_var++) {
                    handle_ib_conf(vtss_state,port_no,ib_conf,1,loop_var,is_host);
                }
            } 
            break;
        case VTSS_IB_APC_RESET:
            if(is_host == TRUE) {
                    CSR_WARM_WRM(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                           (apc_conf->op_mode_flag)? VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC : 0,
                            VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);
            } else {
                    CSR_WARM_WRM(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                            (apc_conf->op_mode_flag)? VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC : 0,
                            VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);
            }
            break;
        case VTSS_IB_APC_RESTART:
             /* Call APC settings function which is part of  SERDES settings accordingly with the PHY data rate configured */
             if (is_host == TRUE) { /* HOST side */
                 switch (mode->oper_mode) {
                     case VTSS_PHY_LAN_MODE:
                         VTSS_RC(malibu_host_sd10g_apc_cfg_lan10g(vtss_state,port_no, cold_fix));
                         break;
                     case VTSS_PHY_WAN_MODE:
                         VTSS_RC(malibu_host_sd10g_apc_cfg_wan10g(vtss_state,port_no, cold_fix));
                         break;
                     case VTSS_PHY_1G_MODE:
                         VTSS_RC(malibu_host_sd10g_apc_cfg_lan1g(vtss_state,port_no, cold_fix));
                         break;
                     default :
                            VTSS_E("Invalid mode");
                         break;
                 }
             } else { /* LINE side */
                 switch (mode->oper_mode) {
                     case VTSS_PHY_LAN_MODE:
                         VTSS_RC(malibu_line_sd10g_apc_cfg_lan10g(vtss_state,port_no, cold_fix));
                         break;
                     case VTSS_PHY_WAN_MODE:
                         VTSS_RC(malibu_line_sd10g_apc_cfg_wan10g(vtss_state,port_no, cold_fix));
                         break;
                     case VTSS_PHY_1G_MODE:
                         VTSS_RC(malibu_line_sd10g_apc_cfg_lan1g(vtss_state,port_no, cold_fix));
                         break;
                     default :
                         VTSS_E("Invalid mode");
                         break;
                 }
             }
            break;
        default:
            break;
    }

    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_serdes_status_get(struct vtss_state_s   *vtss_state,
                                                const vtss_port_no_t    port_no,
                                                vtss_phy_10g_serdes_status_t *const status)
{
    u32 value = 0;
    CSR_RD(port_no,VTSS_GLOBAL_RCOMP_STATUS_RCOMP_STATUS,&value);
    status->rcomp = VTSS_X_GLOBAL_RCOMP_STATUS_RCOMP_STATUS_RCOMP(value);

    CSR_RD(port_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS0,&value);
    status->l_pll5g_lock_status = (VTSS_F_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS0_LOCK_STATUS&value)? TRUE : FALSE;
    CSR_RD(port_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1A,&value);
    status->l_pll5g_fsm_lock = (VTSS_BIT(0) & value)? TRUE : FALSE;
    status->l_pll5g_fsm_stat = VTSS_EXTRACT_BITFIELD(value,1,3);
    CSR_RD(port_no,VTSS_LINE_PLL5G_L_PLL5G_L_PLL5G_STATUS1B,&value);
    status->l_pll5g_gain = VTSS_EXTRACT_BITFIELD(value,0,4);

    CSR_RD(port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS0,&value);
    status->h_pll5g_lock_status = (VTSS_F_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS0_LOCK_STATUS&value)? TRUE : FALSE;
    CSR_RD(port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1A,&value);
    status->h_pll5g_fsm_lock = (VTSS_BIT(0) & value)? TRUE : FALSE;
    status->h_pll5g_fsm_stat = VTSS_EXTRACT_BITFIELD(value,1,3);
    CSR_RD(port_no,VTSS_HOST_PLL5G_H_PLL5G_H_PLL5G_STATUS1B,&value);
    status->h_pll5g_gain = VTSS_EXTRACT_BITFIELD(value,0,4);

    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT0,&value);
    status->l_rx_rcpll_lock_status = (VTSS_F_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT0_PLLF_LOCK_STAT & value) ? TRUE : FALSE;
    status->l_rx_rcpll_range = !(VTSS_BIT(16) & value) ? TRUE : FALSE;
    status->l_rx_rcpll_vco_load = VTSS_EXTRACT_BITFIELD(value,4,10); 
    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT1,&value);
    status->l_rx_rcpll_fsm_status = VTSS_EXTRACT_BITFIELD(value,0,4);

    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT0,&value);
    status->h_rx_rcpll_lock_status = (VTSS_F_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT0_PLLF_LOCK_STAT & value) ? TRUE : FALSE;
    status->h_rx_rcpll_range = !(VTSS_BIT(16) & value) ? TRUE : FALSE;
    status->h_rx_rcpll_vco_load = VTSS_EXTRACT_BITFIELD(value,4,10); 
    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_RX_RCPLL_SD10G65_RX_RCPLL_STAT1,&value);
    status->h_rx_rcpll_fsm_status = VTSS_EXTRACT_BITFIELD(value,0,4);

    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT0,&value);
    status->l_tx_rcpll_lock_status = (VTSS_F_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT0_PLLF_LOCK_STAT & value)? TRUE:FALSE;
    status->l_tx_rcpll_range = !(VTSS_BIT(16) & value)? TRUE:FALSE;
    status->l_tx_rcpll_vco_load = VTSS_EXTRACT_BITFIELD(value,4,10); 
    CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT1,&value);
    status->l_tx_rcpll_fsm_status = VTSS_EXTRACT_BITFIELD(value,0,4);

    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT0,&value);
    status->h_tx_rcpll_lock_status = (VTSS_F_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT0_PLLF_LOCK_STAT & value)? TRUE:FALSE;
    status->h_tx_rcpll_range = !(VTSS_BIT(16) & value)? TRUE:FALSE;
    status->h_tx_rcpll_vco_load = VTSS_EXTRACT_BITFIELD(value,4,10); 
    CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_TX_RCPLL_SD10G65_TX_RCPLL_STAT1,&value);
    status->h_tx_rcpll_fsm_status = VTSS_EXTRACT_BITFIELD(value,0,4);

    CSR_RD(port_no,VTSS_LINE_PMA_DEV1_IEEE_PMA_STATUS_PMA_STATUS_1,&value);
    status->l_pma.rx_link = (VTSS_F_LINE_PMA_DEV1_IEEE_PMA_STATUS_PMA_STATUS_1_RECEIVE_LINK_STATUS & value)? TRUE: FALSE ;
    CSR_RD(port_no,VTSS_LINE_PMA_DEV1_IEEE_PMA_PMD_STATUS_PMA_PMD_STATUS_2,&value);
    status->l_pma.rx_fault = (VTSS_F_LINE_PMA_DEV1_IEEE_PMA_PMD_STATUS_PMA_PMD_STATUS_2_RECEIVE_FAULT & value) ? TRUE : FALSE;
    status->l_pma.tx_fault = (VTSS_F_LINE_PMA_DEV1_IEEE_PMA_PMD_STATUS_PMA_PMD_STATUS_2_TRANSMIT_FAULT & value) ? TRUE : FALSE;

    CSR_RD(port_no,VTSS_LINE_PCS10G_PCS_Status_1_PCS_Status_1,&value);
    CSR_RD(port_no,VTSS_LINE_PCS10G_PCS_Status_1_PCS_Status_1,&value);
    status->l_pcs.rx_link = (VTSS_F_LINE_PCS10G_PCS_Status_1_PCS_Status_1_PCS_receive_link_status & value)? TRUE: FALSE;
    CSR_RD(port_no,VTSS_LINE_PCS10G_PCS_Status_2_PCS_Status_2,&value);
    CSR_RD(port_no,VTSS_LINE_PCS10G_PCS_Status_2_PCS_Status_2,&value);
    status->l_pcs.rx_fault = (VTSS_F_LINE_PCS10G_PCS_Status_2_PCS_Status_2_Receive_fault & value) ? TRUE : FALSE;
    status->l_pcs.tx_fault = (VTSS_F_LINE_PCS10G_PCS_Status_2_PCS_Status_2_Transmit_fault & value) ? TRUE : FALSE;

    CSR_RD(port_no,VTSS_HOST_PMA_DEV1_IEEE_PMA_STATUS_PMA_STATUS_1,&value);
    status->h_pma.rx_link = (VTSS_F_HOST_PMA_DEV1_IEEE_PMA_STATUS_PMA_STATUS_1_RECEIVE_LINK_STATUS & value)? TRUE: FALSE ;
    CSR_RD(port_no,VTSS_HOST_PMA_DEV1_IEEE_PMA_PMD_STATUS_PMA_STATUS_2,&value);
    status->h_pma.rx_fault = (VTSS_F_HOST_PMA_DEV1_IEEE_PMA_PMD_STATUS_PMA_STATUS_2_RECEIVE_FAULT & value) ? TRUE : FALSE;
    status->h_pma.tx_fault = (VTSS_F_HOST_PMA_DEV1_IEEE_PMA_PMD_STATUS_PMA_STATUS_2_TRANSMIT_FAULT & value) ? TRUE : FALSE;
    
    CSR_RD(port_no,VTSS_HOST_PCS10G_PCS_Status_1_PCS_Status_1,&value);
    CSR_RD(port_no,VTSS_HOST_PCS10G_PCS_Status_1_PCS_Status_1,&value);
    status->h_pcs.rx_link = (VTSS_F_HOST_PCS10G_PCS_Status_1_PCS_Status_1_PCS_receive_link_status & value)? TRUE: FALSE;
    CSR_RD(port_no,VTSS_HOST_PCS10G_PCS_Status_2_PCS_Status_2,&value);
    CSR_RD(port_no,VTSS_HOST_PCS10G_PCS_Status_2_PCS_Status_2,&value);
    status->h_pcs.rx_fault = (VTSS_F_HOST_PCS10G_PCS_Status_2_PCS_Status_2_Receive_fault & value) ? TRUE : FALSE;
    status->h_pcs.tx_fault = (VTSS_F_HOST_PCS10G_PCS_Status_2_PCS_Status_2_Transmit_fault & value) ? TRUE : FALSE;

    CSR_RD(port_no,VTSS_WIS_WIS_Status_1_WIS_STAT1,&value);
    status->wis.rx_link = (VTSS_F_WIS_WIS_Status_1_WIS_STAT1_LNK_STAT & value) ? TRUE : FALSE;
    CSR_RD(port_no,VTSS_WIS_WIS_Status_2_WIS_STAT2,&value);
    status->wis.rx_fault = FALSE; 
    status->wis.tx_fault = FALSE; 
    return VTSS_RC_OK;
}
static vtss_rc malibu_phy_10g_apc_status_get(struct vtss_state_s *vtss_state,
                                             const vtss_port_no_t port_no,
                                             const BOOL is_host,
                                             vtss_phy_10g_apc_status_t *const apc_status)
{
    u32 value = 0;

    if (is_host == TRUE) {
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,&value);
        apc_status->reset = (value & VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC) ? TRUE:FALSE;
        apc_status->freeze = (value & VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC) ? TRUE:FALSE;
    } else {
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,&value);
        apc_status->reset = (value & VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC) ? TRUE:FALSE;
        apc_status->freeze = (value & VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_FREEZE_APC) ? TRUE:FALSE;
    }
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_apc_restart(struct vtss_state_s *vtss_state,
        const vtss_port_no_t port_no,
        const BOOL is_host)
{

    u32 value = 0;

    if (is_host == TRUE) {
        // Host Side APC Restart
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_AUTO_RESTART);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT(31),
                VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT(31),
                VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(1),
                VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

        MEPA_MSLEEP(1);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);

        MEPA_MSLEEP(161);

        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,&value);
        if(!(value & VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_OFFSCAL_DONE)) {
            VTSS_E("Host APC Calibration not done on Host for Port %d\n", port_no);
            return VTSS_RC_ERROR;
        }
        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_HOST_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);

        CSR_COLD_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(2),
                VTSS_M_HOST_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

    } else {
        // Line side APC Restart
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_DIRECT_ENA);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_INIT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OBSERVE_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_OFFSET_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_THRESHOLD_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_SKIP_DFE_BUFFER_CAL);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_EQZ_COMMON_CFG_EQZ_GAIN_AUTO_RESTART);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT(31),
                VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_CPMD_THRES_INIT);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT(31),
                VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG0_VSC_THRES_INIT);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_CAL_VSC_OFFSET_TGT);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(1),
                VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_RESET_APC);

        MEPA_MSLEEP(1);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);

        MEPA_MSLEEP(161);

        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,&value);
        if(!(value & VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_OFFSCAL_DONE)) {
            VTSS_E("Line APC Calibration not done on Line for Port %d\n", port_no);
            return VTSS_RC_ERROR;
        }
        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1,
                0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_IS_CAL_CFG1_START_OFFSCAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA,
                VTSS_F_LINE_PMA_32BIT_SD10G65_IB_SD10G65_IB_CFG0_IB_DFE_ENA);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_SKIP_CAL);

        CSR_COLD_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE(2),
                VTSS_M_LINE_PMA_32BIT_SD10G65_APC_APC_COMMON_CFG0_APC_MODE);

    }
    return VTSS_RC_OK;
}

static vtss_rc malibu_phy_10g_sgmii_mode_set(struct vtss_state_s *vtss_state,
                                             const vtss_port_no_t port_no)
{
    u32 value = 0;
    if (vtss_state->phy_10g_state[port_no].mode.oper_mode == VTSS_PHY_1G_MODE){
        if( vtss_state->phy_10g_state[port_no].mode.enable_pass_thru == TRUE ){
            CSR_WRM(port_no,VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG_SGMII_MODE_ENA,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG_SGMII_MODE_ENA);
            CSR_WRM(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG2,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG2_ADV_ABILITY(0x4001),
                    VTSS_M_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG2_ADV_ABILITY);
            CSR_WRM(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_RESTART_ONE_SHOT |
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_RESTART_ONE_SHOT |
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA);
            MEPA_MSLEEP(16);
            CSR_RD(port_no,VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_STATUS,&value);
            if (!(value & VTSS_BIT(0))) {
                VTSS_D("Auto negotiation is not completed ");
            }
            CSR_RD(port_no,VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_STATUS2,&value);
            CSR_WRM(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG2,
                    VTSS_F_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG2_ADV_ABILITY(VTSS_X_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_STATUS2_LP_ADV_ABILITY(value)),
                    VTSS_M_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG2_ADV_ABILITY);
            CSR_WRM(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG,
                    VTSS_F_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG_SGMII_MODE_ENA,
                    VTSS_F_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_MODE_CFG_SGMII_MODE_ENA);
            CSR_WRM(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_RESTART_ONE_SHOT |
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA |
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_SW_RESOLVE_ENA,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_RESTART_ONE_SHOT |
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA |
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_SW_RESOLVE_ENA);
        } else {
            CSR_WRM(port_no, VTSS_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG,
                    0,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA);
            CSR_WRM(port_no, VTSS_HOST_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG,
                    0,
                    VTSS_F_LINE_PCS1G_PCS1G_CFG_STATUS_PCS1G_ANEG_CFG_ANEG_ENA);
        }
    } else {
        VTSS_E("This API is applicable only in 1G mode");
        return VTSS_RC_ERROR;
    }

    return VTSS_RC_OK;
}
vtss_rc malibu_phy_10g_jitter_conf_set( struct vtss_state_s *vtss_state,
                                        const vtss_port_no_t port_no,
                                        const BOOL is_host,
                                        const vtss_phy_10g_jitter_conf_t *const jitter_conf)
{
    if (!is_host) {
        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
                VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(jitter_conf->levn) |
                (jitter_conf->incr_levn ? VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN : 0 ),
                VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN |
                VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN);

        CSR_WARM_WRM(port_no, VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
                VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_VTAIL(jitter_conf->vtail),
                VTSS_M_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_VTAIL);
    } else {
        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,
                VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(jitter_conf->levn) |
                (jitter_conf->incr_levn ? VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN : 0 ),
                VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN |
                VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN);

        CSR_WARM_WRM(port_no, VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,
                VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_VTAIL(jitter_conf->vtail),
                VTSS_M_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_VTAIL);

    }

    return VTSS_RC_OK;
}
vtss_rc malibu_phy_10g_jitter_status_get( struct vtss_state_s *vtss_state,
                                          const vtss_port_no_t port_no,
                                          const BOOL is_host,
                                          vtss_phy_10g_jitter_conf_t *const jitter_status)
{
    u32 value=0;

    if (!is_host) {
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,&value);
        jitter_status->levn = VTSS_X_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(value);
        jitter_status->incr_levn = (VTSS_F_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN & value) ? TRUE : FALSE ;
        CSR_RD(port_no,VTSS_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,&value);
        jitter_status->vtail = VTSS_X_LINE_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_VTAIL(value);
    } else {
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0,&value);
        jitter_status->levn = VTSS_X_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_LEVN(value);
        jitter_status->incr_levn = (VTSS_F_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG0_INCR_LEVN & value) ? TRUE : FALSE ;
        CSR_RD(port_no,VTSS_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1,&value);
        jitter_status->vtail = VTSS_X_HOST_PMA_32BIT_SD10G65_OB_SD10G65_OB_CFG1_VTAIL(value);
    }
    return VTSS_RC_OK;
}
/**
 * \brief Create instance (set up function pointers), this function
 * should be called while creating the instance.
 *
 * \return Return code.
 **/

vtss_rc vtss_phy_10g_inst_malibu_create(vtss_state_t *vtss_state)
{
    vtss_cil_func_t *func = &vtss_state->cil;
    func->malibu_phy_10g_mode_conf_set= malibu_phy_10g_mode_conf_set;
    func->malibu_phy_10g_gpio_mode_set= malibu_phy_10g_gpio_mode_set;
    func->malibu_phy_10g_gpio_read= malibu_phy_10g_gpio_read;
    func->malibu_phy_10g_gpio_write= malibu_phy_10g_gpio_write;
    func->malibu_phy_10g_clause_37_status_get    = malibu_phy_10g_clause_37_status_get;
    func->malibu_phy_10g_clause_37_control_set   = malibu_phy_10g_clause_37_control_set;
    func->malibu_phy_10g_auto_failover_set = malibu_phy_10g_auto_failover_set;
    func->malibu_phy_10g_loopback_set        = malibu_phy_10g_loopback_set;
    func->malibu_phy_10g_csr_read = malibu_phy_10g_csr_read;
    func->malibu_phy_10g_csr_write = malibu_phy_10g_csr_write;
    func->malibu_phy_10g_event_enable = malibu_phy_10g_event_enable;
    func->malibu_phy_10g_power_set    = malibu_phy_10g_power_set;
    func->malibu_phy_10g_event_poll = malibu_phy_10g_event_poll;
    func->malibu_phy_10g_extended_event_poll = malibu_phy_10g_extended_event_poll;
    func->malibu_phy_10g_extended2_event_poll = malibu_phy_10g_extended2_event_poll;
    func->malibu_phy_10g_pcs_status_get = malibu_phy_10g_pcs_status_get;
    func->malibu_phy_10g_host_recvrd_clk_set = malibu_phy_10g_host_recvrd_clk_set;
    func->malibu_phy_10g_line_clk_set = malibu_phy_10g_line_clk_set;
    func->malibu_phy_10g_host_clk_set = malibu_phy_10g_host_clk_set;
    func->malibu_phy_10g_line_recvrd_clk_set = malibu_phy_10g_line_recvrd_clk_set;
    func->malibu_phy_10g_srefclk_set = malibu_phy_10g_srefclk_set;
    func->malibu_phy_10g_ckout_set = malibu_phy_10g_ckout_set;
    func->malibu_phy_10g_sckout_set = malibu_phy_10g_sckout_set;
    func->malibu_phy_10g_lane_sync_set = malibu_phy_10g_lane_sync_set;
    func->malibu_phy_10g_pkt_gen_conf = malibu_phy_10g_pkt_gen_conf;
    func->malibu_phy_10g_pkt_mon_conf = malibu_phy_10g_pkt_mon_conf;
    func->malibu_phy_10g_timestamp_rd = malibu_phy_10g_timestamp_rd;
    func->malibu_phy_10g_prbs_gen_conf = malibu_phy_10g_prbs_gen_conf;
    func->malibu_phy_10g_prbs_mon_conf = malibu_phy_10g_prbs_mon_conf;
    func->malibu_phy_10g_prbs_mon_status_get = malibu_phy_10g_prbs_mon_status_get;
    func->malibu_phy_10g_vscope_conf_set= malibu_phy_10g_vscope_conf_set;
    func->malibu_phy_10g_vscope_scan_status_get = malibu_phy_10g_vscope_scan_status_get;
    func->malibu_phy_10g_ib_conf_set = malibu_phy_10g_ib_conf_set;
    func->malibu_phy_10g_ib_status_get = malibu_phy_10g_ib_status_get;
    func->malibu_phy_10g_ob_status_get = malibu_phy_10g_ob_status_get;
    func->malibu_phy_10g_apc_conf_set = malibu_phy_10g_apc_conf_set;
    func->malibu_phy_10g_apc_status_get = malibu_phy_10g_apc_status_get;
    func->malibu_phy_10g_apc_restart = malibu_phy_10g_apc_restart;
    func->malibu_phy_10g_jitter_conf_set = malibu_phy_10g_jitter_conf_set;
    func->malibu_phy_10g_jitter_status_get = malibu_phy_10g_jitter_status_get;
    func->malibu_phy_10g_serdes_status_get = malibu_phy_10g_serdes_status_get;
    func->malibu_phy_10g_sgmii_mode_set = malibu_phy_10g_sgmii_mode_set;
    func->malibu_phy_10g_debug_reg_dump = malibu_10g_debug_reg_dump;
    func->malibu_phy_10g_base_kr_conf_set = malibu_phy_10g_base_kr_conf_set;
    func->malibu_phy_10g_base_kr_host_conf_set = malibu_phy_10g_base_kr_host_conf_set;
#ifdef VTSS_FEATURE_10GBASE_KR
    func->malibu_phy_10g_base_kr_train_aneg_set = malibu_phy_10g_base_kr_train_aneg_set;
    func->malibu_phy_10g_kr_status_get = malibu_phy_10g_kr_status_get;
    func->malibu_phy_10g_base_host_kr_train_aneg_set = malibu_phy_10g_base_host_kr_train_aneg_set;
#endif /* VTSS_FEATURE_10GBASE_KR */
    return VTSS_RC_OK;
}
#endif
